<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head> <body onload="start()"><div style="background:#5c5c5f; color:#FFF"> <p align="center">&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;[&#x6DF1;&#x5BB9;Pubmed&#x6587;&#x732E;&#x68C0;&#x7D22;] &nbsp 1. &#x6B64;&#x5904;&#x53F3;&#x952E;&#xFF1A;&#x9009;&#x83DC;&#x5355;&#x3010;&#x7FFB;&#x6210;&#x4E2D;&#x6587;&#xFF08;&#x7B80;&#x4F53;&#xFF09;&#x3011; &nbsp &nbsp &nbsp  2. &#x7FFB;&#x8BD1;&#x540E;&#xFF0C;&#x6B64;&#x5904;&#x53F3;&#x952E;&#xFF1A;&#x9009;&#x83DC;&#x5355;&#x3010;&#x6253;&#x5370;...&#x3011;&#x6210;PDF&#x683C;&#x5F0F; <br>&#x5EFA;&#x8BAE;&#x5C4F;&#x5E55;&#x5206;&#x8FA8;&#x7387;&#xFF1A;1920X1080&#xFF1B;&#x5982;&#x679C;&#x5C4F;&#x5E55;&#x592A;&#x5C0F;&#xFF0C;&#x53EF;&#x4EE5;&#x6309;Ctrl + &#x6216; Ctrl -&#x7F29;&#x653E;&#x7F51;&#x9875;&#x3002;</p></div><style type="text/css"> .txt { white-space:nowrap; }	 #f0 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f1 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f2 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f3 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f4 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f5 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f6 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f7 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f8 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f9 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f10 { font-family:sans-serif; font-weight:normal; font-style:normal; }  #f11 { font-family:sans-serif; font-weight:normal; font-style:normal; }  #f12 { font-family:sans-serif; font-weight:normal; font-style:normal; } 	#f13 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f14 { font-family:sans-serif; font-weight:normal; font-style:normal; } #f15 { font-family:sans-serif; font-weight:normal; font-style:normal; } 	#f16 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f17 { font-family:sans-serif; font-weight:normal; font-style:normal; } #f18 { font-family:sans-serif; font-weight:normal; font-style:normal; } #f19 { font-family:sans-serif; font-weight:normal; font-style:normal; }		#f20 { font-family:sans-serif; font-weight:normal; font-style:normal; }		</style><img id="background" style="position:absolute; left:0px; top:50px;" width="1440" height="1080" src="page1.png"> <img id="background" style="position:absolute; left:1440px; top:50px;" width="1440" height="1080" src="page-000001.png">
<div class="txt" style="position:absolute; left:1105px; top:68px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:203px; top:361px;"><span id="f9" style="font-size:55px;vertical-align:baseline;color:rgba(0,0,0,1);">Chapter 3: Abstract Data Type (ADT) and</span></div>
<div class="txt" style="position:absolute; left:254px; top:429px;"><span id="f9" style="font-size:55px;vertical-align:baseline;color:rgba(0,0,0,1);">Object-Oriented Programming (OOP)</span></div>
<div class="txt" style="position:absolute; left:232px; top:500px;"><span id="f19" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:596px; top:719px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Xu Hanchuan</span></div>
<div class="txt" style="position:absolute; left:585px; top:772px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(255,98,176,1);">xhc@hit.edu.cn</span></div>
<div class="txt" style="position:absolute; left:587px; top:877px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">March 19, 2019</span></div>
<img id="background" style="position:absolute; left:0px; top:1050px;" width="1440" height="1080" src="page2.png"> <img id="background" style="position:absolute; left:1440px; top:1050px;" width="1440" height="1080" src="page-000002.png">
<div class="txt" style="position:absolute; left:33px; top:1157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Outline</span></div>
<div class="txt" style="position:absolute; left:76px; top:1299px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">1. </span><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstraction and User-Defined Types</span></div>
<div class="txt" style="position:absolute; left:76px; top:1371px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">2. </span><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Classification of operations in ADT</span></div>
<div class="txt" style="position:absolute; left:76px; top:1443px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">3. </span><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstract Data Type Examples</span></div>
<div class="txt" style="position:absolute; left:76px; top:1515px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">4. </span><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Design principles of ADT</span></div>
<div class="txt" style="position:absolute; left:76px; top:1587px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">5. </span><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Representation Independence (RI)</span></div>
<div class="txt" style="position:absolute; left:76px; top:1659px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">6. </span><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Testing an ADT</span></div>
<div class="txt" style="position:absolute; left:999px; top:1068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<img id="background" style="position:absolute; left:0px; top:2050px;" width="1440" height="1080" src="page3.png"> <img id="background" style="position:absolute; left:1440px; top:2050px;" width="1440" height="1080" src="page-000003.png">
<div class="txt" style="position:absolute; left:33px; top:2157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Outline</span></div>
<div class="txt" style="position:absolute; left:999px; top:2068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:2299px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">7. </span><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Invariants</span></div>
<div class="txt" style="position:absolute; left:76px; top:2371px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">8. </span><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Rep Invariant and Abstraction Function</span></div>
<div class="txt" style="position:absolute; left:76px; top:2443px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">9. </span><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Beneficent mutation</span></div>
<div class="txt" style="position:absolute; left:76px; top:2515px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">10. </span><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Documenting the AF, RI, and Safety from Rep Exposure</span></div>
<div class="txt" style="position:absolute; left:76px; top:2587px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">11. </span><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">ADT invariants replace preconditions</span></div>
<div class="txt" style="position:absolute; left:76px; top:2659px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">12. </span><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary</span></div>
<img id="background" style="position:absolute; left:0px; top:3050px;" width="1440" height="1080" src="page4.png"> <img id="background" style="position:absolute; left:1440px; top:3050px;" width="1440" height="1080" src="page-000004.png">
<div class="txt" style="position:absolute; left:33px; top:3157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Objective of this lecture</span></div>
<div class="txt" style="position:absolute; left:999px; top:3068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:3297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Abstract data types and representation independence</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: enable us to</span></div>
<div class="txt" style="position:absolute; left:112px; top:3347px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">separate how we use a data structure in a program from the</span></div>
<div class="txt" style="position:absolute; left:112px; top:3390px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">particular form of the data structure itself. </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">掌握抽象数据类型和表示</span></div>
<div class="txt" style="position:absolute; left:112px; top:3438px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">独立性，将数据结构的使用与数据结构自身的形式分离</span></div>
<div class="txt" style="position:absolute; left:112px; top:3508px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstract data types </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(192,0,0,1);">address a particularly dangerous problem: </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">clients</span></div>
<div class="txt" style="position:absolute; left:148px; top:3547px;"><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">making assumptions about the type’s internal representation. </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">重点解决</span></div>
<div class="txt" style="position:absolute; left:148px; top:3590px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">问题：调用者在使用时对类型的内部表示进行假设，进而产生依赖</span></div>
<div class="txt" style="position:absolute; left:112px; top:3655px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f36" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">We’ll see why this is dangerous and how it can be avoided.</span></div>
<div class="txt" style="position:absolute; left:112px; top:3715px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f36" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">We’ll also discuss the classification of operations, and some principles of</span></div>
<div class="txt" style="position:absolute; left:148px; top:3758px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">good design for abstract data types.</span></div>
<img id="background" style="position:absolute; left:0px; top:4050px;" width="1440" height="1080" src="page5.png"> <img id="background" style="position:absolute; left:1440px; top:4050px;" width="1440" height="1080" src="page-000005.png">
<div class="txt" style="position:absolute; left:33px; top:4157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Objective of this lecture</span></div>
<div class="txt" style="position:absolute; left:999px; top:4068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:4297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Invariants, representation exposure, abstraction functions (AF),</span></div>
<div class="txt" style="position:absolute; left:112px; top:4347px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">and representation invariants (RI)</span></div>
<div class="txt" style="position:absolute; left:112px; top:4412px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A more formal mathematical idea of what it means for a class to</span></div>
<div class="txt" style="position:absolute; left:148px; top:4455px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">implement an ADT, via the notions of </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">abstraction functions </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">rep</span></div>
<div class="txt" style="position:absolute; left:148px; top:4494px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">invariants </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">. </span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">通过抽象函数和表示不变量的概念，采用一个更正式的数学概</span></div>
<div class="txt" style="position:absolute; left:148px; top:4538px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">念来说明用一个类实现</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">ADT</span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">时需要关注的事情</span></div>
<div class="txt" style="position:absolute; left:112px; top:4602px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">These mathematical notions are eminently practical in software design.</span></div>
<div class="txt" style="position:absolute; left:112px; top:4662px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The abstraction function will give us a way to cleanly define the equality</span></div>
<div class="txt" style="position:absolute; left:148px; top:4702px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">operation on an abstract data type. </span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">抽象函数为我们提供一种清晰地定义抽</span></div>
<div class="txt" style="position:absolute; left:148px; top:4745px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">象数据类型上的等价操作的方式。</span></div>
<div class="txt" style="position:absolute; left:112px; top:4809px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The rep invariant will make it easier to catch bugs caused by a corrupted</span></div>
<div class="txt" style="position:absolute; left:148px; top:4848px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">data structure. </span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">表示不变性使找到数据结构损坏带来的</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">bug</span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">更加容易</span></div>
<img id="background" style="position:absolute; left:0px; top:5050px;" width="1440" height="1080" src="page6.png"> <img id="background" style="position:absolute; left:1440px; top:5050px;" width="1440" height="1080" src="page-000006.png">
<div class="txt" style="position:absolute; left:1105px; top:5068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:213px; top:5379px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">1 Abstraction and User-Defined</span></div>
<div class="txt" style="position:absolute; left:623px; top:5465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Types</span></div>
<img id="background" style="position:absolute; left:0px; top:6050px;" width="1440" height="1080" src="page7.png"> <img id="background" style="position:absolute; left:1440px; top:6050px;" width="1440" height="1080" src="page-000007.png">
<div class="txt" style="position:absolute; left:33px; top:6156px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">What </span><span id="f11" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">abstraction </span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">means</span></div>
<div class="txt" style="position:absolute; left:999px; top:6068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:6297px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstract data types are an instance of a general principle in</span></div>
<div class="txt" style="position:absolute; left:112px; top:6347px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">software engineering, which goes by many names:</span></div>
<div class="txt" style="position:absolute; left:112px; top:6408px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Abstraction(</span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">抽象</span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: Omitting or hiding low-level details with a simpler,</span></div>
<div class="txt" style="position:absolute; left:148px; top:6455px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">higher-level idea.</span></div>
<div class="txt" style="position:absolute; left:112px; top:6511px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Modularity(</span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">模块化</span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: Dividing a system into components or modules, each</span></div>
<div class="txt" style="position:absolute; left:148px; top:6559px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">of which can be designed, implemented, tested, reasoned about, and</span></div>
<div class="txt" style="position:absolute; left:148px; top:6602px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">reused separately from the rest of the system.</span></div>
<div class="txt" style="position:absolute; left:112px; top:6658px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Encapsulation(</span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">封装</span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: Building walls around a module (a hard shell or</span></div>
<div class="txt" style="position:absolute; left:148px; top:6706px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">capsule) so that the module is responsible for its own internal behavior,</span></div>
<div class="txt" style="position:absolute; left:148px; top:6749px;"><span id="f50" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and bugs in other parts of the system can’t damage its integrity.</span></div>
<div class="txt" style="position:absolute; left:112px; top:6805px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Information hiding(</span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">信息隐藏</span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">): </span><span id="f50" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Hiding details of a module’s</span></div>
<div class="txt" style="position:absolute; left:148px; top:6852px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">implementation from the rest of the system, so that those details can be</span></div>
<div class="txt" style="position:absolute; left:148px; top:6896px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">changed later without changing the rest of the system.</span></div>
<div class="txt" style="position:absolute; left:112px; top:6952px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Separation of concerns</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">(</span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">关注点分离</span><span id="f50" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">):Making a feature (or “concern”) the</span></div>
<div class="txt" style="position:absolute; left:148px; top:6999px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">responsibility of a single module, rather than spreading it across multiple</span></div>
<div class="txt" style="position:absolute; left:148px; top:7038px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">modules. </span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">模块具有单独的责任，不要将一个责任分散在不同的模块中</span></div>
<img id="background" style="position:absolute; left:0px; top:7050px;" width="1440" height="1080" src="page8.png"> <img id="background" style="position:absolute; left:1440px; top:7050px;" width="1440" height="1080" src="page-000008.png">
<div class="txt" style="position:absolute; left:33px; top:7157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">User-Defined Types</span></div>
<div class="txt" style="position:absolute; left:999px; top:7068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:7297px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A programming language came with built-in types (such as</span></div>
<div class="txt" style="position:absolute; left:112px; top:7346px;"><span id="f18" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">integers</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, </span><span id="f18" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">booleans</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, </span><span id="f18" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">strings</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, etc.) and built-in procedures, e.g., for</span></div>
<div class="txt" style="position:absolute; left:112px; top:7395px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">input and output.</span></div>
<div class="txt" style="position:absolute; left:76px; top:7465px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Users could define their own data types and procedures </span><span id="f30" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f32" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">User-</span></div>
<div class="txt" style="position:absolute; left:112px; top:7515px;"><span id="f32" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Defined Types</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<img id="background" style="position:absolute; left:0px; top:8050px;" width="1440" height="1080" src="page9.png"> <img id="background" style="position:absolute; left:1440px; top:8050px;" width="1440" height="1080" src="page-000009.png">
<div class="txt" style="position:absolute; left:999px; top:8068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:8157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">SE researchers who made contributions</span></div>
<div class="txt" style="position:absolute; left:76px; top:8297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Ole-Johan Dahl </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Kristen Nygaard Dahl </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(the inventors of the</span></div>
<div class="txt" style="position:absolute; left:112px; top:8347px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Simula language)</span></div>
<div class="txt" style="position:absolute; left:76px; top:8417px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Antony Hoare </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(who developed many of the techniques we now use</span></div>
<div class="txt" style="position:absolute; left:112px; top:8467px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to reason about abstract types)</span></div>
<div class="txt" style="position:absolute; left:76px; top:8537px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">David Parnas </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(who coined </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">the term information hiding </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and first</span></div>
<div class="txt" style="position:absolute; left:112px; top:8587px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">articulated the idea of </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">organizing program modules </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">around the</span></div>
<div class="txt" style="position:absolute; left:112px; top:8635px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">secrets they encapsulated)</span></div>
<div class="txt" style="position:absolute; left:76px; top:8705px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Barbara Liskov </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">John Guttag </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">the specification of abstract</span></div>
<div class="txt" style="position:absolute; left:112px; top:8755px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">types</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, and in programming language support for them)</span></div>
<img id="background" style="position:absolute; left:0px; top:9050px;" width="1440" height="1080" src="page10.png"> <img id="background" style="position:absolute; left:1440px; top:9050px;" width="1440" height="1080" src="page-000010.png">
<div class="txt" style="position:absolute; left:33px; top:9157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Data Abstraction</span></div>
<div class="txt" style="position:absolute; left:999px; top:9068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:9297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Data abstraction: a type is characterized by the operations you can</span></div>
<div class="txt" style="position:absolute; left:112px; top:9342px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">perform on it. </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">数据抽象：一个类型的特征由可对其执行的操作刻画</span></div>
<div class="txt" style="position:absolute; left:112px; top:9412px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A number is something you can add and multiply;</span></div>
<div class="txt" style="position:absolute; left:112px; top:9468px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A string is something you can concatenate(</span><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">连接</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">) and take substrings of;</span></div>
<div class="txt" style="position:absolute; left:112px; top:9529px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A boolean is something you can negate(</span><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">取反</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">), and so on.</span></div>
<div class="txt" style="position:absolute; left:76px; top:9598px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In a sense, users could already define their own types in early</span></div>
<div class="txt" style="position:absolute; left:112px; top:9647px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">programming languages: you could create a record type </span><span id="f43" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">date</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, for</span></div>
<div class="txt" style="position:absolute; left:112px; top:9695px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">example, with </span><span id="f43" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">integer </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">fields for day, month, and year.</span></div>
<div class="txt" style="position:absolute; left:76px; top:9766px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">But what made abstract types new and different was the focus on</span></div>
<div class="txt" style="position:absolute; left:112px; top:9816px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">operations</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: the user of the type would not need to worry about how</span></div>
<div class="txt" style="position:absolute; left:112px; top:9864px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">its values were actually stored, in the same way that a programmer</span></div>
<div class="txt" style="position:absolute; left:112px; top:9912px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">can ignore how the compiler actually stores integers. </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">All that matters</span></div>
<div class="txt" style="position:absolute; left:112px; top:9956px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">is the </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">operations</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">. </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">抽象类型的新颖性和以往不同之处在于对操作的关</span></div>
<div class="txt" style="position:absolute; left:112px; top:10004px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">注</span></div>
<img id="background" style="position:absolute; left:0px; top:10050px;" width="1440" height="1080" src="page11.png"> <img id="background" style="position:absolute; left:1440px; top:10050px;" width="1440" height="1080" src="page-000011.png">
<div class="txt" style="position:absolute; left:1105px; top:10068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:152px; top:10465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">2 Classifying Types and Operations</span></div>
<img id="background" style="position:absolute; left:0px; top:11050px;" width="1440" height="1080" src="page12.png"> <img id="background" style="position:absolute; left:1440px; top:11050px;" width="1440" height="1080" src="page-000012.png">
<div class="txt" style="position:absolute; left:33px; top:11157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Mutable and immutable types</span></div>
<div class="txt" style="position:absolute; left:999px; top:11068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:11297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Types, whether built-in or user-defined, can be classified as</span></div>
<div class="txt" style="position:absolute; left:112px; top:11347px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">mutable or immutable .</span></div>
<div class="txt" style="position:absolute; left:112px; top:11412px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The objects of a mutable type can be changed</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: that is, they provide</span></div>
<div class="txt" style="position:absolute; left:148px; top:11455px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">operations which when executed cause the results of other operations on</span></div>
<div class="txt" style="position:absolute; left:148px; top:11494px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the same object to give different results. </span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">可变类型的对象可以被修改，是因</span></div>
<div class="txt" style="position:absolute; left:148px; top:11537px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">为提供了可修改其状态的操作。</span></div>
<div class="txt" style="position:absolute; left:112px; top:11601px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">So </span><span id="f33" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Date </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is mutable, because you can call </span><span id="f33" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">setMonth() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and observe the</span></div>
<div class="txt" style="position:absolute; left:148px; top:11645px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">change with the </span><span id="f33" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">getMonth() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">operation.</span></div>
<div class="txt" style="position:absolute; left:112px; top:11705px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">But </span><span id="f33" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">String </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is immutable, because its operations create new </span><span id="f33" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">String</span></div>
<div class="txt" style="position:absolute; left:148px; top:11749px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">objects rather than changing existing ones.</span></div>
<div class="txt" style="position:absolute; left:112px; top:11809px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Sometimes a type will be provided in two forms, a mutable and an</span></div>
<div class="txt" style="position:absolute; left:148px; top:11852px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">immutable form</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">. </span><span id="f33" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">StringBuilder</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, for example, is a mutable version of</span></div>
<div class="txt" style="position:absolute; left:148px; top:11895px;"><span id="f33" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">String </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">(although the two are certainly not the same Java type, and are not</span></div>
<div class="txt" style="position:absolute; left:148px; top:11939px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">interchangeable).</span></div>
<img id="background" style="position:absolute; left:0px; top:12050px;" width="1440" height="1080" src="page13.png"> <img id="background" style="position:absolute; left:1440px; top:12050px;" width="1440" height="1080" src="page-000013.png">
<div class="txt" style="position:absolute; left:999px; top:12068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:12157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Classifying the operations of an abstract type</span></div>
<div class="txt" style="position:absolute; left:76px; top:12294px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Creators </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">create new objects of the type. </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">产生类型的新对象</span></div>
<div class="txt" style="position:absolute; left:112px; top:12364px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A creator may take an object as an argument, but not an object of the type</span></div>
<div class="txt" style="position:absolute; left:148px; top:12407px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">being constructed.</span></div>
<div class="txt" style="position:absolute; left:76px; top:12470px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Producers </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">create new objects from old objects of the type. </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">在已有对象</span></div>
<div class="txt" style="position:absolute; left:112px; top:12518px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">基础上产生新的对象</span></div>
<div class="txt" style="position:absolute; left:112px; top:12587px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f32" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">concat() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">method of </span><span id="f32" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">String </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, for example, is a producer: it takes two</span></div>
<div class="txt" style="position:absolute; left:148px; top:12631px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">strings and produces a new one representing their concatenation.</span></div>
<div class="txt" style="position:absolute; left:76px; top:12696px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Observers </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">take objects of the abstract type and return objects of a</span></div>
<div class="txt" style="position:absolute; left:112px; top:12741px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">different type. </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">输入抽象类型的对象，返回其他类型的对象</span></div>
<div class="txt" style="position:absolute; left:112px; top:12811px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f32" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">size() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">method of </span><span id="f32" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">List </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, for example, returns an </span><span id="f32" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">int </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:76px; top:12874px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Mutators </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">change objects. </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">改变对象</span></div>
<div class="txt" style="position:absolute; left:112px; top:12943px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f32" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">add() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">method of </span><span id="f32" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">List </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, for example, mutates a list by adding an</span></div>
<div class="txt" style="position:absolute; left:148px; top:12987px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">element to the end.</span></div>
<img id="background" style="position:absolute; left:0px; top:13050px;" width="1440" height="1080" src="page14.png"> <img id="background" style="position:absolute; left:1440px; top:13050px;" width="1440" height="1080" src="page-000014.png">
<div class="txt" style="position:absolute; left:999px; top:13068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:13157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Classifying the operations of an abstract type</span></div>
<div class="txt" style="position:absolute; left:76px; top:13297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">creator </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">t* → T</span></div>
<div class="txt" style="position:absolute; left:76px; top:13369px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">producer </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">T+, t* → T</span></div>
<div class="txt" style="position:absolute; left:76px; top:13441px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">observer </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">T+, t* → t</span></div>
<div class="txt" style="position:absolute; left:76px; top:13513px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">mutator </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">T+, t* → void | t | T</span></div>
<div class="txt" style="position:absolute; left:76px; top:13657px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Each </span><span id="f32" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">T </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is the abstract type itself;</span></div>
<div class="txt" style="position:absolute; left:76px; top:13729px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Each </span><span id="f32" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">t </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is some other type.</span></div>
<div class="txt" style="position:absolute; left:76px; top:13801px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f32" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">+ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">marker indicates that the type may occur one or more times</span></div>
<div class="txt" style="position:absolute; left:112px; top:13851px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">in that part of the signature.</span></div>
<div class="txt" style="position:absolute; left:76px; top:13921px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f32" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">* </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">marker indicates that it occurs zero or more times.</span></div>
<div class="txt" style="position:absolute; left:76px; top:13993px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f32" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">| </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">indicates or.</span></div>
<img id="background" style="position:absolute; left:0px; top:14050px;" width="1440" height="1080" src="page15.png"> <img id="background" style="position:absolute; left:1440px; top:14050px;" width="1440" height="1080" src="page-000015.png">
<div class="txt" style="position:absolute; left:33px; top:14157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Signature of an operation</span></div>
<div class="txt" style="position:absolute; left:999px; top:14068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:14297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">String.concat() </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">as a producer</span></div>
<div class="txt" style="position:absolute; left:112px; top:14360px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">concat: String </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">× </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">String → String</span></div>
<div class="txt" style="position:absolute; left:76px; top:14430px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">List.size() </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">as an observer</span></div>
<div class="txt" style="position:absolute; left:112px; top:14496px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">size: List → int</span></div>
<div class="txt" style="position:absolute; left:76px; top:14562px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">String.regionMatches </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">as a observer</span></div>
<div class="txt" style="position:absolute; left:112px; top:14629px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">regionMatches:</span></div>
<div class="txt" style="position:absolute; left:148px; top:14668px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">String </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">× </span><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">boolean </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">× </span><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">int </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">× </span><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">String </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">× </span><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">int </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">× </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">int → Boolean</span></div>
<div class="txt" style="position:absolute; left:112px; top:14732px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">public boolean regionMatches(boolean ignoreCase, int toffset, String</span></div>
<div class="txt" style="position:absolute; left:148px; top:14772px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">other, int ooffset, int len) </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">用于检测两个字符串在一个长度区域内是否相等</span></div>
<img id="background" style="position:absolute; left:0px; top:15050px;" width="1440" height="1080" src="page16.png"> <img id="background" style="position:absolute; left:1440px; top:15050px;" width="1440" height="1080" src="page-000016.png">
<div class="txt" style="position:absolute; left:33px; top:15157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Signature of a creator</span></div>
<div class="txt" style="position:absolute; left:999px; top:15068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:15297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A creator is either implemented as a </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">constructor </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, like </span><span id="f17" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">new</span></div>
<div class="txt" style="position:absolute; left:112px; top:15346px;"><span id="f17" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">ArrayList()</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, or simply a </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">static method </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">instead, like</span></div>
<div class="txt" style="position:absolute; left:112px; top:15394px;"><span id="f17" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">Arrays.asList()</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:112px; top:15460px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A creator implemented as a static method is often called a </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">factory method.</span></div>
<div class="txt" style="position:absolute; left:112px; top:15516px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The various </span><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">String.valueOf() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">(</span><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">返回参数的字符串形式</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">) methods in Java are</span></div>
<div class="txt" style="position:absolute; left:148px; top:15563px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">other examples of creators implemented as factory methods.</span></div>
<img id="background" style="position:absolute; left:0px; top:16050px;" width="1440" height="1080" src="page17.png"> <img id="background" style="position:absolute; left:1440px; top:16050px;" width="1440" height="1080" src="page-000017.png">
<div class="txt" style="position:absolute; left:33px; top:16157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Signature of a mutator</span></div>
<div class="txt" style="position:absolute; left:999px; top:16068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:16297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Mutators are often signaled by a </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">void </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">return type.</span></div>
<div class="txt" style="position:absolute; left:76px; top:16369px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A method that returns </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">void </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">must be called for some kind of side-</span></div>
<div class="txt" style="position:absolute; left:112px; top:16419px;"><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">effect, since it doesn’t otherwise return anything.</span></div>
<div class="txt" style="position:absolute; left:76px; top:16489px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">But not all mutators return </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">void</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:112px; top:16555px;"><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">For example, </span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Set.add() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">returns a </span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">boolean </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">that indicates whether the set</span></div>
<div class="txt" style="position:absolute; left:148px; top:16599px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">was actually changed.</span></div>
<div class="txt" style="position:absolute; left:112px; top:16659px;"><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f38" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">In Java’s graphical user interface toolkit, </span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Component.add</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">() returns the</span></div>
<div class="txt" style="position:absolute; left:148px; top:16702px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">object itself, so that multiple </span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">add() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">calls can be chained together.</span></div>
<img id="background" style="position:absolute; left:0px; top:17050px;" width="1440" height="1080" src="page18.png"> <img id="background" style="position:absolute; left:1440px; top:17050px;" width="1440" height="1080" src="page-000018.png">
<div class="txt" style="position:absolute; left:1105px; top:17068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:219px; top:17465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">3 Abstract Data Type Examples</span></div>
<img id="background" style="position:absolute; left:0px; top:18050px;" width="1440" height="1080" src="page19.png"> <img id="background" style="position:absolute; left:1440px; top:18050px;" width="1440" height="1080" src="page-000019.png">
<div class="txt" style="position:absolute; left:33px; top:18157px;"><span id="f10" style="font-size:39px;vertical-align:baseline;color:rgba(0,0,0,1);">int</span></div>
<div class="txt" style="position:absolute; left:999px; top:18068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:18297px;"><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f10" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">int </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is Java’s primitive integer type. </span><span id="f10" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">int </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is immutable, so it has no</span></div>
<div class="txt" style="position:absolute; left:112px; top:18347px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">mutators.</span></div>
<div class="txt" style="position:absolute; left:112px; top:18411px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">creators: the numeric literals </span><span id="f24" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">0 , 1 , 2 , …</span></div>
<div class="txt" style="position:absolute; left:112px; top:18472px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">producers: arithmetic operators </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">+ , - , * , /</span></div>
<div class="txt" style="position:absolute; left:112px; top:18532px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">observers: comparison operators </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">== , != , &lt; , &gt;</span></div>
<div class="txt" style="position:absolute; left:112px; top:18593px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">mutators: none (it’s immutable)</span></div>
<img id="background" style="position:absolute; left:0px; top:19050px;" width="1440" height="1080" src="page20.png"> <img id="background" style="position:absolute; left:1440px; top:19050px;" width="1440" height="1080" src="page-000020.png">
<div class="txt" style="position:absolute; left:33px; top:19157px;"><span id="f10" style="font-size:39px;vertical-align:baseline;color:rgba(0,0,0,1);">List</span></div>
<div class="txt" style="position:absolute; left:999px; top:19068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:19297px;"><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f10" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">List </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is Java’s list type and is mutable.</span></div>
<div class="txt" style="position:absolute; left:76px; top:19369px;"><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f10" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">List </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is also an interface, which means that other classes provide</span></div>
<div class="txt" style="position:absolute; left:112px; top:19419px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the actual implementation of the data type. These classes include</span></div>
<div class="txt" style="position:absolute; left:112px; top:19466px;"><span id="f10" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">ArrayList </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and </span><span id="f10" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">LinkedList </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:112px; top:19531px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">creators: </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">ArrayList </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">LinkedList </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">constructors,</span></div>
<div class="txt" style="position:absolute; left:148px; top:19575px;"><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Collections.singletonList</span></div>
<div class="txt" style="position:absolute; left:112px; top:19635px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">producers: </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Collections.unmodifiableList</span></div>
<div class="txt" style="position:absolute; left:112px; top:19696px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">observers: </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">size </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">get</span></div>
<div class="txt" style="position:absolute; left:112px; top:19756px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">mutators: </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">add </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">remove </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">addAll </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Collections.sort</span></div>
<img id="background" style="position:absolute; left:0px; top:20050px;" width="1440" height="1080" src="page21.png"> <img id="background" style="position:absolute; left:1440px; top:20050px;" width="1440" height="1080" src="page-000021.png">
<div class="txt" style="position:absolute; left:33px; top:20157px;"><span id="f10" style="font-size:39px;vertical-align:baseline;color:rgba(0,0,0,1);">String</span></div>
<div class="txt" style="position:absolute; left:999px; top:20068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:20297px;"><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f10" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">String </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is Java’s string type. </span><span id="f10" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">String </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is immutable.</span></div>
<div class="txt" style="position:absolute; left:112px; top:20363px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">creators: </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">String </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">constructors</span></div>
<div class="txt" style="position:absolute; left:112px; top:20424px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">producers: </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">concat </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">substring </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">toUpperCase</span></div>
<div class="txt" style="position:absolute; left:112px; top:20484px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">observers: </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">length </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">charAt</span></div>
<div class="txt" style="position:absolute; left:112px; top:20545px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f38" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">mutators: none (it’s immutable)</span></div>
<img id="background" style="position:absolute; left:0px; top:21050px;" width="1440" height="1080" src="page22.png"> <img id="background" style="position:absolute; left:1440px; top:21050px;" width="1440" height="1080" src="page-000022.png">
<div class="txt" style="position:absolute; left:33px; top:21157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Realizing ADT Concepts in Java</span></div>
<div class="txt" style="position:absolute; left:999px; top:21068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<img id="background" style="position:absolute; left:0px; top:22050px;" width="1440" height="1080" src="page23.png"> <img id="background" style="position:absolute; left:1440px; top:22050px;" width="1440" height="1080" src="page-000023.png">
<div class="txt" style="position:absolute; left:999px; top:22068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:22157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">An abstract type is defined by its operations</span></div>
<div class="txt" style="position:absolute; left:76px; top:22297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The essential idea here is that </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">an abstract</span></div>
<div class="txt" style="position:absolute; left:112px; top:22347px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">data type is defined by its operations.</span></div>
<div class="txt" style="position:absolute; left:112px; top:22412px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">The set of operations for a type T, along</span></div>
<div class="txt" style="position:absolute; left:148px; top:22455px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">with their specifications, fully characterize</span></div>
<div class="txt" style="position:absolute; left:148px; top:22494px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">what we mean by T</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">. </span><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">类型是由其操作集以及</span></div>
<div class="txt" style="position:absolute; left:148px; top:22538px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">规格说明所表征的。</span></div>
<div class="txt" style="position:absolute; left:112px; top:22602px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">So, for example, when we talk about the List</span></div>
<div class="txt" style="position:absolute; left:148px; top:22645px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">type, what we mean is not a linked list or an</span></div>
<div class="txt" style="position:absolute; left:148px; top:22688px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">array or any other specific data structure for</span></div>
<div class="txt" style="position:absolute; left:148px; top:22731px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">representing a list. Instead we mean a set of</span></div>
<div class="txt" style="position:absolute; left:148px; top:22771px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">opaque (</span><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">不透明的</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">) values </span><span id="f41" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the possible</span></div>
<div class="txt" style="position:absolute; left:148px; top:22818px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">objects that can have List type </span><span id="f41" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">that satisfy</span></div>
<div class="txt" style="position:absolute; left:148px; top:22861px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the specifications of all the operations of List:</span></div>
<div class="txt" style="position:absolute; left:148px; top:22904px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">get(), size(), etc.</span></div>
<img id="background" style="position:absolute; left:0px; top:23050px;" width="1440" height="1080" src="page24.png"> <img id="background" style="position:absolute; left:1440px; top:23050px;" width="1440" height="1080" src="page-000024.png">
<div class="txt" style="position:absolute; left:999px; top:23068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:23157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">An abstract type is defined by its operations</span></div>
<div class="txt" style="position:absolute; left:76px; top:23297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The essential idea here is that </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">an abstract</span></div>
<div class="txt" style="position:absolute; left:112px; top:23347px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">data type is defined by its operations.</span></div>
<div class="txt" style="position:absolute; left:112px; top:23412px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">The values of an abstract type are opaque in</span></div>
<div class="txt" style="position:absolute; left:148px; top:23455px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">the sense that a client can’t examine the data</span></div>
<div class="txt" style="position:absolute; left:148px; top:23498px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">stored inside them, except as permitted by</span></div>
<div class="txt" style="position:absolute; left:148px; top:23537px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">operations</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">. </span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">抽象类型的值是不透明的，因为</span></div>
<div class="txt" style="position:absolute; left:148px; top:23584px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">客户端无法检查存储在其中的数据，除非操作</span></div>
<div class="txt" style="position:absolute; left:148px; top:23624px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">允许。</span></div>
<div class="txt" style="position:absolute; left:112px; top:23688px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Expanding our metaphor of a specification</span></div>
<div class="txt" style="position:absolute; left:148px; top:23731px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">firewall, you might picture values of an</span></div>
<div class="txt" style="position:absolute; left:148px; top:23775px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">abstract type as hard shells, </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">hiding not just</span></div>
<div class="txt" style="position:absolute; left:148px; top:23818px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">the implementation of an individual</span></div>
<div class="txt" style="position:absolute; left:148px; top:23861px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">function, but of a set of related functions</span></div>
<div class="txt" style="position:absolute; left:148px; top:23905px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">(the operations of the type) and the data</span></div>
<div class="txt" style="position:absolute; left:148px; top:23948px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">they share (the private fields stored inside</span></div>
<div class="txt" style="position:absolute; left:148px; top:23987px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">values of the type). </span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">隐藏了数据和实现</span></div>
<img id="background" style="position:absolute; left:0px; top:24050px;" width="1440" height="1080" src="page25.png"> <img id="background" style="position:absolute; left:1440px; top:24050px;" width="1440" height="1080" src="page-000025.png">
<div class="txt" style="position:absolute; left:1105px; top:24068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:247px; top:24465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">4 Designing an Abstract Type</span></div>
<img id="background" style="position:absolute; left:0px; top:25050px;" width="1440" height="1080" src="page26.png"> <img id="background" style="position:absolute; left:1440px; top:25050px;" width="1440" height="1080" src="page-000026.png">
<div class="txt" style="position:absolute; left:33px; top:25157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Designing an Abstract Type</span></div>
<div class="txt" style="position:absolute; left:999px; top:25068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:25297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Designing an abstract type involves choosing good operations and</span></div>
<div class="txt" style="position:absolute; left:112px; top:25342px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">determining how they should behave. </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">ADT</span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">的设计需要选择良好的操</span></div>
<div class="txt" style="position:absolute; left:112px; top:25390px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">作以及确定操作的行为</span></div>
<div class="txt" style="position:absolute; left:76px; top:25465px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Rules of thumb 1</span></div>
<div class="txt" style="position:absolute; left:112px; top:25532px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">It’s better to </span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">have a few, simple operations </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">that can be combined in</span></div>
<div class="txt" style="position:absolute; left:148px; top:25571px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">powerful ways, rather than lots of complex operations. </span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">设计一组简单操作</span></div>
<div class="txt" style="position:absolute; left:148px; top:25614px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">，通过简单操作的组合实现负责的操作</span></div>
<div class="txt" style="position:absolute; left:112px; top:25679px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Each operation should have a well-defined purpose, and should have a</span></div>
<div class="txt" style="position:absolute; left:148px; top:25718px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">coherent </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">behavior rather than a panoply(</span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">完整的</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">/</span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">全部的</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">) of special cases.</span></div>
<div class="txt" style="position:absolute; left:148px; top:25761px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">操作的行为应是内聚的</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">单一职责</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">，某个操作不要包罗万象的将所有特例都</span></div>
<div class="txt" style="position:absolute; left:148px; top:25804px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">考虑进去</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span></div>
<div class="txt" style="position:absolute; left:112px; top:25868px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">We probably shouldn’t add a </span><span id="f63" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">sum </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">operation to </span><span id="f63" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">List </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, for example. It might</span></div>
<div class="txt" style="position:absolute; left:148px; top:25912px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">help clients who work with lists of integers, but what about lists of</span></div>
<div class="txt" style="position:absolute; left:148px; top:25955px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">strings? Or nested lists? All these special cases would make </span><span id="f63" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">sum </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">a hard</span></div>
<div class="txt" style="position:absolute; left:148px; top:25994px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">operation to understand and use. </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">List</span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">中不应增加</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">sum</span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">方法，缺乏通用性</span></div>
<img id="background" style="position:absolute; left:0px; top:26050px;" width="1440" height="1080" src="page27.png"> <img id="background" style="position:absolute; left:1440px; top:26050px;" width="1440" height="1080" src="page-000027.png">
<div class="txt" style="position:absolute; left:33px; top:26157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Designing an Abstract Type</span></div>
<div class="txt" style="position:absolute; left:999px; top:26068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:26297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Rules of thumb 2</span></div>
<div class="txt" style="position:absolute; left:76px; top:26369px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The set of operations should be adequate in the sense that there</span></div>
<div class="txt" style="position:absolute; left:112px; top:26419px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">must be enough to do the kinds of computations clients are likely</span></div>
<div class="txt" style="position:absolute; left:112px; top:26462px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to want to do. </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">操作集应该是完备的，覆盖该类型所有应支持的行为</span></div>
<div class="txt" style="position:absolute; left:112px; top:26532px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A good test is to check that every property of an object of the type can be</span></div>
<div class="txt" style="position:absolute; left:148px; top:26571px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">extracted. </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">判断方法：检查对象的每个需要被访问到的属性是否都能够被访</span></div>
<div class="txt" style="position:absolute; left:148px; top:26614px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">问到</span></div>
<div class="txt" style="position:absolute; left:112px; top:26678px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">For example, if there were no </span><span id="f30" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">get </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">operation, we would not be able to find</span></div>
<div class="txt" style="position:absolute; left:148px; top:26722px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">out what the elements of a list are.</span></div>
<div class="txt" style="position:absolute; left:112px; top:26839px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Basic information should not be inordinately difficult to obtain. </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">提供基本</span></div>
<div class="txt" style="position:absolute; left:148px; top:26882px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">信息的获取方法</span></div>
<div class="txt" style="position:absolute; left:112px; top:26946px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">For example, the size method is not strictly necessary for </span><span id="f30" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">List</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, because we</span></div>
<div class="txt" style="position:absolute; left:148px; top:26990px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">could apply get on increasing indices until we get a failure, but this is</span></div>
<div class="txt" style="position:absolute; left:148px; top:27033px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">inefficient and inconvenient.</span></div>
<img id="background" style="position:absolute; left:0px; top:27050px;" width="1440" height="1080" src="page28.png"> <img id="background" style="position:absolute; left:1440px; top:27050px;" width="1440" height="1080" src="page-000028.png">
<div class="txt" style="position:absolute; left:33px; top:27157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Designing an Abstract Type</span></div>
<div class="txt" style="position:absolute; left:76px; top:27297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Rules of thumb 3</span></div>
<div class="txt" style="position:absolute; left:999px; top:27068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:27441px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The type may be generic: a list or a set, or a graph, for example. Or</span></div>
<div class="txt" style="position:absolute; left:112px; top:27491px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">it may be domain-specific: a street map, an employee database, a</span></div>
<div class="txt" style="position:absolute; left:112px; top:27539px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">phone book, etc. </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">But it should not mix generic and domain-specific</span></div>
<div class="txt" style="position:absolute; left:112px; top:27582px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">features. </span><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">类型不应该混合领域无关的（通用的）和领域特定的特征</span></div>
<div class="txt" style="position:absolute; left:112px; top:27648px;"><span id="f28" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A </span><span id="f31" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Deck(</span><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">纸牌</span><span id="f31" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">) </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">type intended to represent a sequence of playing cards</span></div>
<div class="txt" style="position:absolute; left:148px; top:27695px;"><span id="f36" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">shouldn’t have a generic </span><span id="f31" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">add </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">method that accepts arbitrary objects like</span></div>
<div class="txt" style="position:absolute; left:148px; top:27738px;"><span id="f31" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">integers </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">or </span><span id="f31" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">strings</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:112px; top:27799px;"><span id="f28" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f36" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Conversely, it wouldn’t make sense to put a domain</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">-specific method like</span></div>
<div class="txt" style="position:absolute; left:148px; top:27842px;"><span id="f31" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">dealCards </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">into the generic type </span><span id="f31" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">List </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<img id="background" style="position:absolute; left:0px; top:28050px;" width="1440" height="1080" src="page29.png"> <img id="background" style="position:absolute; left:1440px; top:28050px;" width="1440" height="1080" src="page-000029.png">
<div class="txt" style="position:absolute; left:1105px; top:28068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:217px; top:28465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">5 Representation Independence</span></div>
<img id="background" style="position:absolute; left:0px; top:29050px;" width="1440" height="1080" src="page30.png"> <img id="background" style="position:absolute; left:1440px; top:29050px;" width="1440" height="1080" src="page-000030.png">
<div class="txt" style="position:absolute; left:33px; top:29157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Representation Independence</span></div>
<div class="txt" style="position:absolute; left:999px; top:29068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:29297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Critically, a good abstract data type should be </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">representation</span></div>
<div class="txt" style="position:absolute; left:112px; top:29342px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">independent </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">好的</span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">ADT</span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">应该是表示独立的</span></div>
<div class="txt" style="position:absolute; left:112px; top:29412px;"><span id="f24" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">This means that </span><span id="f14" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">the use of an abstract type is independent of its</span></div>
<div class="txt" style="position:absolute; left:148px; top:29455px;"><span id="f14" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">representation </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">(</span><span id="f14" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">the actual data structure or data fields used to</span></div>
<div class="txt" style="position:absolute; left:148px; top:29498px;"><span id="f14" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">implement it</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">), so that changes in representation have no effect on code</span></div>
<div class="txt" style="position:absolute; left:148px; top:29541px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">outside the abstract type itself.</span></div>
<div class="txt" style="position:absolute; left:76px; top:29607px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">For example, the operations offered by </span><span id="f36" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">List </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">are independent of</span></div>
<div class="txt" style="position:absolute; left:112px; top:29656px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">whether the list is represented as a </span><span id="f36" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">linked list </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">or as an </span><span id="f36" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">array</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:76px; top:29727px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f46" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">You won’t be able to change the representation of an ADT at all</span></div>
<div class="txt" style="position:absolute; left:112px; top:29777px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">unless its operations are fully specified with preconditions and</span></div>
<div class="txt" style="position:absolute; left:112px; top:29825px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">postconditions, so that clients know what to depend on, and you</span></div>
<div class="txt" style="position:absolute; left:112px; top:29868px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">know what you can safely change. </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">只有当我们通过前置条件和后置条</span></div>
<div class="txt" style="position:absolute; left:112px; top:29916px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">件充分明确了</span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">ADT</span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">的操作，使调用者知道可以依赖哪些内容，实现者</span></div>
<div class="txt" style="position:absolute; left:112px; top:29964px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">知道可以安全更改哪些内容，此时才可以修改内部表示。</span></div>
<div class="txt" style="position:absolute; left:76px; top:30039px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪</span></div>
<img id="background" style="position:absolute; left:0px; top:30050px;" width="1440" height="1080" src="page31.png"> <img id="background" style="position:absolute; left:1440px; top:30050px;" width="1440" height="1080" src="page-000031.png">
<div class="txt" style="position:absolute; left:999px; top:30068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:30157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example: Different Representations for Strings</span></div>
<img id="background" style="position:absolute; left:0px; top:31050px;" width="1440" height="1080" src="page32.png"> <img id="background" style="position:absolute; left:1440px; top:31050px;" width="1440" height="1080" src="page-000032.png">
<div class="txt" style="position:absolute; left:999px; top:31068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:31157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">A simple representation for MyString</span></div>
<div class="txt" style="position:absolute; left:76px; top:31297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">For now, let’s look at a simple representation for </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">MyString </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: just an</span></div>
<div class="txt" style="position:absolute; left:112px; top:31347px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">array of characters, exactly the length of the string, with no extra</span></div>
<div class="txt" style="position:absolute; left:112px; top:31395px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">room at the end. Here’s how that internal representation would be</span></div>
<div class="txt" style="position:absolute; left:112px; top:31443px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">declared, as an instance variable within the class:</span></div>
<div class="txt" style="position:absolute; left:521px; top:31586px;"><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">private char[] a;</span></div>
<div class="txt" style="position:absolute; left:76px; top:31729px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">With that choice of representation, the operations would be</span></div>
<div class="txt" style="position:absolute; left:112px; top:31779px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">implemented in a straightforward way:</span></div>
<img id="background" style="position:absolute; left:0px; top:32050px;" width="1440" height="1080" src="page33.png"> <img id="background" style="position:absolute; left:1440px; top:32050px;" width="1440" height="1080" src="page-000033.png">
<div class="txt" style="position:absolute; left:999px; top:32068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:32157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">The corresponding implementation for MyString</span></div>
<img id="background" style="position:absolute; left:0px; top:33050px;" width="1440" height="1080" src="page34.png"> <img id="background" style="position:absolute; left:1440px; top:33050px;" width="1440" height="1080" src="page-000034.png">
<div class="txt" style="position:absolute; left:999px; top:33068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:33157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Another representation for better performance</span></div>
<div class="txt" style="position:absolute; left:76px; top:33297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Because this data type is immutable, the </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">substring </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">operation</span></div>
<div class="txt" style="position:absolute; left:112px; top:33347px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">doesn’t really have to copy characters out into a fresh array.</span></div>
<div class="txt" style="position:absolute; left:76px; top:33417px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">It could just point to the original </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">MyString </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">object’s character array</span></div>
<div class="txt" style="position:absolute; left:112px; top:33467px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and keep track of the start and end that the new substring object</span></div>
<div class="txt" style="position:absolute; left:112px; top:33515px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">represents.</span></div>
<div class="txt" style="position:absolute; left:76px; top:33585px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">To implement this optimization, we could change the internal</span></div>
<div class="txt" style="position:absolute; left:112px; top:33635px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">representation of this class to:</span></div>
<div class="txt" style="position:absolute; left:112px; top:33700px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">private char[] a;</span></div>
<div class="txt" style="position:absolute; left:112px; top:33760px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">private int start;</span></div>
<div class="txt" style="position:absolute; left:112px; top:33820px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">private int end;</span></div>
<img id="background" style="position:absolute; left:0px; top:34050px;" width="1440" height="1080" src="page35.png"> <img id="background" style="position:absolute; left:1440px; top:34050px;" width="1440" height="1080" src="page-000035.png">
<div class="txt" style="position:absolute; left:33px; top:34157px;"><span id="f10" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Now the implementation is …</span></div>
<div class="txt" style="position:absolute; left:999px; top:34068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<img id="background" style="position:absolute; left:0px; top:35050px;" width="1440" height="1080" src="page36.png"> <img id="background" style="position:absolute; left:1440px; top:35050px;" width="1440" height="1080" src="page-000036.png">
<div class="txt" style="position:absolute; left:999px; top:35068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:35157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">What is Representation Independence</span></div>
<div class="txt" style="position:absolute; left:76px; top:35297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Because </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">MyString </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">’s existing clients depend only on the specs of</span></div>
<div class="txt" style="position:absolute; left:112px; top:35347px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">its public methods, not on its private fields, we can make this</span></div>
<div class="txt" style="position:absolute; left:112px; top:35395px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">change without having to inspect and change all that client code.</span></div>
<div class="txt" style="position:absolute; left:112px; top:35438px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">MyString</span><span id="f24" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">的现有调用者仅依赖其</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">public</span><span id="f24" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">方法，而不依赖其</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">private</span><span id="f24" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">字段</span></div>
<div class="txt" style="position:absolute; left:112px; top:35486px;"><span id="f24" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">，因此我们可以在不检查和更改所有调用者代码的情况下进行更改。</span></div>
<div class="txt" style="position:absolute; left:76px; top:35633px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">That’s the power of representation independence.</span></div>
<img id="background" style="position:absolute; left:0px; top:36050px;" width="1440" height="1080" src="page37.png"> <img id="background" style="position:absolute; left:1440px; top:36050px;" width="1440" height="1080" src="page-000037.png">
<div class="txt" style="position:absolute; left:1105px; top:36068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:208px; top:36465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">6 Testing an Abstract Data Type</span></div>
<img id="background" style="position:absolute; left:0px; top:37050px;" width="1440" height="1080" src="page38.png"> <img id="background" style="position:absolute; left:1440px; top:37050px;" width="1440" height="1080" src="page-000038.png">
<div class="txt" style="position:absolute; left:33px; top:37157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">How to test an ADT</span></div>
<div class="txt" style="position:absolute; left:999px; top:37068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:37297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">We build a test suite for an abstract data type by creating tests for</span></div>
<div class="txt" style="position:absolute; left:112px; top:37347px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">each of its operations.</span></div>
<div class="txt" style="position:absolute; left:76px; top:37414px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">These tests inevitably interact with each other. </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">测试方法间不可避免</span></div>
<div class="txt" style="position:absolute; left:112px; top:37462px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">的会相互影响</span></div>
<div class="txt" style="position:absolute; left:76px; top:37537px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The only way to test creators, producers, and mutators is by calling</span></div>
<div class="txt" style="position:absolute; left:112px; top:37587px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">observers on the objects that result, and likewise, the only way to test</span></div>
<div class="txt" style="position:absolute; left:112px; top:37635px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">observers is by creating objects for them to observe.</span></div>
<img id="background" style="position:absolute; left:0px; top:38050px;" width="1440" height="1080" src="page39.png"> <img id="background" style="position:absolute; left:1440px; top:38050px;" width="1440" height="1080" src="page-000039.png">
<div class="txt" style="position:absolute; left:999px; top:38068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:38157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Partition the input spaces of ADT operations</span></div>
<img id="background" style="position:absolute; left:0px; top:39050px;" width="1440" height="1080" src="page40.png"> <img id="background" style="position:absolute; left:1440px; top:39050px;" width="1440" height="1080" src="page-000040.png">
<div class="txt" style="position:absolute; left:999px; top:39068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:39157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Test suite that covers all partitions</span></div>
<img id="background" style="position:absolute; left:0px; top:40050px;" width="1440" height="1080" src="page41.png"> <img id="background" style="position:absolute; left:1440px; top:40050px;" width="1440" height="1080" src="page-000041.png">
<div class="txt" style="position:absolute; left:1105px; top:40068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:530px; top:40465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">7 Invariants</span></div>
<img id="background" style="position:absolute; left:0px; top:41050px;" width="1440" height="1080" src="page42.png"> <img id="background" style="position:absolute; left:1440px; top:41050px;" width="1440" height="1080" src="page-000042.png">
<div class="txt" style="position:absolute; left:33px; top:41157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Invariants of an ADT</span></div>
<div class="txt" style="position:absolute; left:999px; top:41068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:41297px;"><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The most important property of a good abstract data type is that</span></div>
<div class="txt" style="position:absolute; left:112px; top:41342px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">it </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">preserves its own invariants </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">好的</span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">ADT</span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">最重要属性是保持其不变性</span></div>
<div class="txt" style="position:absolute; left:76px; top:41417px;"><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">An </span><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">invariant </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is a property of a program that is always true, for every</span></div>
<div class="txt" style="position:absolute; left:112px; top:41462px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">possible runtime state of the program. </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">在程序运行过程中，程序始终</span></div>
<div class="txt" style="position:absolute; left:112px; top:41510px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">保持不变的性质</span></div>
<div class="txt" style="position:absolute; left:112px; top:41580px;"><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Immutability is one crucial invariant: once created, an immutable object</span></div>
<div class="txt" style="position:absolute; left:148px; top:41619px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">should always represent the same value, for its entire lifetime. </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">不可变就是</span></div>
<div class="txt" style="position:absolute; left:148px; top:41665px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">不可变类型的重要不变性</span></div>
<div class="txt" style="position:absolute; left:76px; top:41737px;"><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Saying that the </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">ADT </span><span id="f46" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">preserves its own invariants </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">means that the</span></div>
<div class="txt" style="position:absolute; left:112px; top:41782px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">ADT is responsible for ensuring that its own invariants hold. </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">ADT</span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">自</span></div>
<div class="txt" style="position:absolute; left:112px; top:41831px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">身有责任确保其不变性，而不是依赖于调用者或者其他模块</span></div>
<div class="txt" style="position:absolute; left:112px; top:41900px;"><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f57" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">It doesn’t depend on good behavior from its clients.</span></div>
<div class="txt" style="position:absolute; left:112px; top:41961px;"><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f57" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Correctness doesn’t depend on other modules.</span></div>
<img id="background" style="position:absolute; left:0px; top:42050px;" width="1440" height="1080" src="page43.png"> <img id="background" style="position:absolute; left:1440px; top:42050px;" width="1440" height="1080" src="page-000043.png">
<div class="txt" style="position:absolute; left:33px; top:42157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Why are invariants required?</span></div>
<div class="txt" style="position:absolute; left:999px; top:42068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:42297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">When an ADT preserves its own invariants, reasoning about the code</span></div>
<div class="txt" style="position:absolute; left:112px; top:42342px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">becomes much easier. </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">当</span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">ADT</span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">保持自己的不变性时，推理代码变得容</span></div>
<div class="txt" style="position:absolute; left:112px; top:42390px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">易得多。</span></div>
<div class="txt" style="position:absolute; left:112px; top:42460px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">If you can count on the fact that Strings never change, you can rule out</span></div>
<div class="txt" style="position:absolute; left:148px; top:42503px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">that possibility when you’re debugging code that uses Strings – </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">or when</span></div>
<div class="txt" style="position:absolute; left:148px; top:42546px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">you’re trying to establish an invariant for another ADT that uses Strings.</span></div>
<div class="txt" style="position:absolute; left:112px; top:42607px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Contrast that with a string type that guarantees that it will be immutable</span></div>
<div class="txt" style="position:absolute; left:148px; top:42650px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">only if its clients promise not to change it. Then you’d have to check all the</span></div>
<div class="txt" style="position:absolute; left:148px; top:42690px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">places in the code where the string might be used. </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">String</span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">不可变的性质</span></div>
<div class="txt" style="position:absolute; left:148px; top:42738px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">要比让调用者承诺的方法更容易推理代码</span></div>
<div class="txt" style="position:absolute; left:76px; top:42884px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f50" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">… Assume clients will try to destroy invariants (malicious hackers</span></div>
<div class="txt" style="position:absolute; left:112px; top:42930px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">or honest mistakes</span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">有意或者无意的</span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<img id="background" style="position:absolute; left:0px; top:43050px;" width="1440" height="1080" src="page44.png"> <img id="background" style="position:absolute; left:1440px; top:43050px;" width="1440" height="1080" src="page-000044.png">
<div class="txt" style="position:absolute; left:1105px; top:43068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:209px; top:43379px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">8 Rep Invariant and Abstraction</span></div>
<div class="txt" style="position:absolute; left:578px; top:43465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Function</span></div>
<img id="background" style="position:absolute; left:0px; top:44050px;" width="1440" height="1080" src="page45.png"> <img id="background" style="position:absolute; left:1440px; top:44050px;" width="1440" height="1080" src="page-000045.png">
<div class="txt" style="position:absolute; left:33px; top:44157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Two spaces of values</span></div>
<div class="txt" style="position:absolute; left:999px; top:44068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:44297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">R: the space of representation values</span></div>
<div class="txt" style="position:absolute; left:112px; top:44347px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(rep values) </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">consists of the values of the</span></div>
<div class="txt" style="position:absolute; left:112px; top:44390px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">actual implementation entities. </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">实现时用到</span></div>
<div class="txt" style="position:absolute; left:76px; top:44462px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">的值空间</span></div>
<div class="txt" style="position:absolute; left:112px; top:44532px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">In simple cases, an abstract type will be implemented as a single object,</span></div>
<div class="txt" style="position:absolute; left:148px; top:44575px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">but more commonly a small network of objects is needed, so this value is</span></div>
<div class="txt" style="position:absolute; left:148px; top:44618px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">actually often something rather complicated.</span></div>
<div class="txt" style="position:absolute; left:76px; top:44684px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A: the space of abstract values </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">consists of the values that the type is</span></div>
<div class="txt" style="position:absolute; left:112px; top:44729px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">designed to support. </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">需要支持的值空间</span></div>
<div class="txt" style="position:absolute; left:112px; top:44795px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">They’re platonic(</span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">柏拉图式的</span><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">) entities that don’t exist as described, but they</span></div>
<div class="txt" style="position:absolute; left:148px; top:44842px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">are the way we want to view the elements of the abstract type, as clients of</span></div>
<div class="txt" style="position:absolute; left:148px; top:44885px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the type.</span></div>
<div class="txt" style="position:absolute; left:112px; top:44946px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">For example, an abstract type for unbounded integers might have the</span></div>
<div class="txt" style="position:absolute; left:148px; top:44989px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">mathematical integers as its abstract value space; the fact that it might be</span></div>
<div class="txt" style="position:absolute; left:148px; top:45032px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">implemented as an array of primitive (bounded) integers, say, is not</span></div>
<div class="txt" style="position:absolute; left:148px; top:45075px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">relevant to the user of the type.</span></div>
<img id="background" style="position:absolute; left:0px; top:54275px;" width="1440" height="1080" src="page46.png"> <img id="background" style="position:absolute; left:1440px; top:54275px;" width="1440" height="1080" src="page-000046.png">
<div class="txt" style="position:absolute; left:33px; top:54382px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example of two spaces</span></div>
<div class="txt" style="position:absolute; left:999px; top:54293px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:54522px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The implementor of the abstract type must be interested in the</span></div>
<div class="txt" style="position:absolute; left:112px; top:54572px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">representation values, since it is the implementor’s job to achieve the</span></div>
<div class="txt" style="position:absolute; left:112px; top:54620px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">illusion of the abstract value space using the rep value space.</span></div>
<div class="txt" style="position:absolute; left:76px; top:54762px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Suppose, for example, that we choose to use a string to represent a</span></div>
<div class="txt" style="position:absolute; left:112px; top:54812px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">set of characters:</span></div>
<div class="txt" style="position:absolute; left:76px; top:55170px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Then the rep space R contains Strings, and the abstract space A is</span></div>
<div class="txt" style="position:absolute; left:112px; top:55220px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">mathematical sets of characters.</span></div>
<img id="background" style="position:absolute; left:0px; top:55480px;" width="1440" height="1080" src="page47.png"> <img id="background" style="position:absolute; left:1440px; top:55480px;" width="1440" height="1080" src="page-000047.png">
<div class="txt" style="position:absolute; left:33px; top:55587px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Mapping between R and A</span></div>
<div class="txt" style="position:absolute; left:999px; top:55498px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:55727px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Every abstract value is mapped to by</span></div>
<div class="txt" style="position:absolute; left:112px; top:55772px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">some rep value (surjective, </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">满射</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:112px; top:55842px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The purpose of implementing the abstract type is</span></div>
<div class="txt" style="position:absolute; left:148px; top:55885px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">to support operations on abstract values. Presumably, then, we will need</span></div>
<div class="txt" style="position:absolute; left:148px; top:55928px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">to be able to create and manipulate all possible abstract values, and they</span></div>
<div class="txt" style="position:absolute; left:148px; top:55971px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">must therefore be representable.</span></div>
<div class="txt" style="position:absolute; left:76px; top:56037px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Some abstract values are mapped to by more than one rep</span></div>
<div class="txt" style="position:absolute; left:112px; top:56082px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">value (not injective, </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">未必单射</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:112px; top:56152px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">This happens because the representation isn’t a tight encoding. There’s</span></div>
<div class="txt" style="position:absolute; left:148px; top:56195px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">more than one way to represent an unordered set of characters as a string.</span></div>
<div class="txt" style="position:absolute; left:76px; top:56258px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Not all rep values are mapped (not bijective, </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">未必双射</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:112px; top:56328px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">In this case, the string “abbc” is not mapped. In this case, we have decided</span></div>
<div class="txt" style="position:absolute; left:148px; top:56371px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">that the string should not contain duplicates. This will allow us to</span></div>
<div class="txt" style="position:absolute; left:148px; top:56414px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">terminate the remove method when we hit the first instance of a particular</span></div>
<div class="txt" style="position:absolute; left:148px; top:56457px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">character, since we know there can be at most one.</span></div>
<img id="background" style="position:absolute; left:0px; top:56685px;" width="1440" height="1080" src="page48.png"> <img id="background" style="position:absolute; left:1440px; top:56685px;" width="1440" height="1080" src="page-000048.png">
<div class="txt" style="position:absolute; left:33px; top:56787px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstraction Function </span><span id="f11" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">抽象函数</span></div>
<div class="txt" style="position:absolute; left:999px; top:56703px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:56932px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">An abstraction function that maps rep values to the abstract values</span></div>
<div class="txt" style="position:absolute; left:112px; top:56982px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">they represent:</span></div>
<div class="txt" style="position:absolute; left:220px; top:57053px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">AF : R → A</span></div>
<div class="txt" style="position:absolute; left:76px; top:57124px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The arcs in the diagram show the abstraction function.</span></div>
<div class="txt" style="position:absolute; left:76px; top:57196px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In the terminology of functions, the properties can be expressed by</span></div>
<div class="txt" style="position:absolute; left:112px; top:57246px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">saying that the function is surjective (also called onto), not</span></div>
<div class="txt" style="position:absolute; left:112px; top:57294px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">necessarily injective ( one-to-one ) and therefore not necessarily</span></div>
<div class="txt" style="position:absolute; left:112px; top:57337px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">bijective, and often partial.(AF</span><span id="f31" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">是满射的、未必单射、未必双射</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<img id="background" style="position:absolute; left:0px; top:57890px;" width="1440" height="1080" src="page49.png"> <img id="background" style="position:absolute; left:1440px; top:57890px;" width="1440" height="1080" src="page-000049.png">
<div class="txt" style="position:absolute; left:33px; top:57997px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Rep Invariant</span></div>
<div class="txt" style="position:absolute; left:999px; top:57908px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:58137px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A rep invariant that maps rep values to booleans:</span></div>
<div class="txt" style="position:absolute; left:220px; top:58210px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">RI : R → </span><span id="f19" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">boolean</span></div>
<div class="txt" style="position:absolute; left:76px; top:58281px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">For a rep value r , RI(r) is true if and only if r is mapped by AF .</span></div>
<div class="txt" style="position:absolute; left:76px; top:58353px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In other words, RI tells us whether a given rep value is well-</span></div>
<div class="txt" style="position:absolute; left:112px; top:58398px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">formed. </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">RI</span><span id="f30" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">告诉我们空间</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">R</span><span id="f30" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">中的</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">r</span><span id="f30" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">是否被</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">AF</span><span id="f30" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">映射到了空间</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">A</span><span id="f30" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">中的某个值</span></div>
<div class="txt" style="position:absolute; left:76px; top:58473px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f49" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Alternatively, you can think of RI as a set: it’s the subset of rep</span></div>
<div class="txt" style="position:absolute; left:112px; top:58518px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">values on which AF is defined. </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">RI</span><span id="f30" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">形成了空间</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">R</span><span id="f30" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">的一个子集</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f30" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">子集中的</span></div>
<div class="txt" style="position:absolute; left:112px; top:58566px;"><span id="f30" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">所有元素均被</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">AF</span><span id="f30" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">映射到了空间</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">A</span><span id="f30" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">中</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span></div>
<img id="background" style="position:absolute; left:0px; top:59095px;" width="1440" height="1080" src="page50.png"> <img id="background" style="position:absolute; left:1440px; top:59095px;" width="1440" height="1080" src="page-000050.png">
<div class="txt" style="position:absolute; left:33px; top:59202px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Documenting RI and AF</span></div>
<div class="txt" style="position:absolute; left:999px; top:59113px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:59342px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Both the rep invariant and the abstraction function should be</span></div>
<div class="txt" style="position:absolute; left:112px; top:59392px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">documented in the code, right next to the declaration of the rep itself:</span></div>
<img id="background" style="position:absolute; left:0px; top:60300px;" width="1440" height="1080" src="page51.png"> <img id="background" style="position:absolute; left:1440px; top:60300px;" width="1440" height="1080" src="page-000051.png">
<div class="txt" style="position:absolute; left:33px; top:60407px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">What determine AF and RI?</span></div>
<div class="txt" style="position:absolute; left:999px; top:60318px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:60547px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">A common confusion </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">about abstraction functions and rep</span></div>
<div class="txt" style="position:absolute; left:112px; top:60597px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">invariants is that they are determined by the choice of rep and</span></div>
<div class="txt" style="position:absolute; left:112px; top:60645px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">abstract value spaces, or even by the abstract value space alone. </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">AF</span></div>
<div class="txt" style="position:absolute; left:112px; top:60688px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">和 </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">RI </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">既不由选定的表示值空间决定，也不由抽象值空间单独决定</span></div>
<div class="txt" style="position:absolute; left:76px; top:60835px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f28" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The abstract value space alone doesn’t determine AF or RI:</span></div>
<div class="txt" style="position:absolute; left:112px; top:60902px;"><span id="f30" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">There can be several representations for the same abstract type.</span></div>
<div class="txt" style="position:absolute; left:112px; top:60962px;"><span id="f30" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A set of characters could equally be represented as a string, as above, or as</span></div>
<div class="txt" style="position:absolute; left:148px; top:61005px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">a bit vector, with one bit for each possible character. Clearly we need two</span></div>
<div class="txt" style="position:absolute; left:148px; top:61049px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">different abstraction functions to map these two different rep value spaces.</span></div>
<div class="txt" style="position:absolute; left:76px; top:61114px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Defining a type for the rep, and thus choosing the values for the</span></div>
<div class="txt" style="position:absolute; left:112px; top:61164px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">space of rep values, does not determine which of the rep values will</span></div>
<div class="txt" style="position:absolute; left:112px; top:61212px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">be deemed to be legal, and of those that are legal, how they will be</span></div>
<div class="txt" style="position:absolute; left:112px; top:61255px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">interpreted. </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">表示值空间确定后，</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">AF</span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">和</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">RI</span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">也不是确定的</span></div>
<img id="background" style="position:absolute; left:0px; top:61505px;" width="1440" height="1080" src="page52.png"> <img id="background" style="position:absolute; left:1440px; top:61505px;" width="1440" height="1080" src="page-000052.png">
<div class="txt" style="position:absolute; left:33px; top:61612px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">What determine AF and RI?</span></div>
<div class="txt" style="position:absolute; left:999px; top:61523px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:61752px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">For example, if we allow duplicates in strings, </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">but at the same time</span></div>
<div class="txt" style="position:absolute; left:112px; top:61802px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">require that the characters be sorted, appearing in nondecreasing</span></div>
<div class="txt" style="position:absolute; left:112px; top:61850px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">order, then there would be </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">the same rep value space but different</span></div>
<div class="txt" style="position:absolute; left:112px; top:61898px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">rep invariant.</span></div>
<img id="background" style="position:absolute; left:0px; top:62710px;" width="1440" height="1080" src="page53.png"> <img id="background" style="position:absolute; left:1440px; top:62710px;" width="1440" height="1080" src="page-000053.png">
<div class="txt" style="position:absolute; left:33px; top:62817px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">What determine AF and RI?</span></div>
<div class="txt" style="position:absolute; left:999px; top:62728px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:65px; top:62946px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">Even with the same type for the rep value space and the same rep</span></div>
<div class="txt" style="position:absolute; left:101px; top:62995px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">invariant RI, we might still interpret the rep differently, with</span></div>
<div class="txt" style="position:absolute; left:101px; top:63039px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">different abstraction functions AF. </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">即使相同的表示值空间和相同的</span></div>
<div class="txt" style="position:absolute; left:101px; top:63087px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">表示不变性</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">RI</span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">，我们仍然可以用不同的抽象函数</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">AF</span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">来映射。</span></div>
<div class="txt" style="position:absolute; left:65px; top:63162px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f43" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Perhaps we’ll interpret consecutive pairs of characters as</span></div>
<div class="txt" style="position:absolute; left:101px; top:63211px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">subranges, so that the string rep "acgg" is interpreted as two range</span></div>
<div class="txt" style="position:absolute; left:101px; top:63259px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">pairs, [a-c] and [g-g], and therefore represents the set {a,b,c,g}.</span></div>
<img id="background" style="position:absolute; left:0px; top:63915px;" width="1440" height="1080" src="page54.png"> <img id="background" style="position:absolute; left:1440px; top:63915px;" width="1440" height="1080" src="page-000054.png">
<div class="txt" style="position:absolute; left:999px; top:63933px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:64022px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">How RI and AF influence ADT design</span></div>
<div class="txt" style="position:absolute; left:76px; top:64162px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The essential point is that designing an abstract type means </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">not only</span></div>
<div class="txt" style="position:absolute; left:112px; top:64212px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">choosing the two spaces </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the abstract value space for the</span></div>
<div class="txt" style="position:absolute; left:112px; top:64260px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">specification and the rep value space for the implementation </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">but</span></div>
<div class="txt" style="position:absolute; left:112px; top:64308px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">also deciding what rep values to use(RI) and how to interpret</span></div>
<div class="txt" style="position:absolute; left:112px; top:64351px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">them(AF)</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">. </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">ADT</span><span id="f29" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">设计的关键：不仅是选择两个空间</span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f29" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">面向规格说明的抽</span></div>
<div class="txt" style="position:absolute; left:112px; top:64399px;"><span id="f29" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">象值空间和面向实现的表示值空间</span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">), </span><span id="f29" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">而且要决定表示值</span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(RI)</span><span id="f29" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">和如何映</span></div>
<div class="txt" style="position:absolute; left:112px; top:64447px;"><span id="f29" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">射</span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(AF)</span><span id="f29" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">。</span></div>
<div class="txt" style="position:absolute; left:76px; top:64522px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f84" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">It’s critically important to write down these assumptions in your</span></div>
<div class="txt" style="position:absolute; left:112px; top:64572px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">code</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, as we’ve done above, so that future programmers (and your</span></div>
<div class="txt" style="position:absolute; left:112px; top:64620px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">future self) are aware of what the representation actually means.</span></div>
<div class="txt" style="position:absolute; left:112px; top:64668px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Why? What happens if different implementers disagree about the</span></div>
<div class="txt" style="position:absolute; left:112px; top:64716px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">meaning of the rep?</span></div>
<img id="background" style="position:absolute; left:0px; top:65120px;" width="1440" height="1080" src="page55.png"> <img id="background" style="position:absolute; left:1440px; top:65120px;" width="1440" height="1080" src="page-000055.png">
<div class="txt" style="position:absolute; left:999px; top:65138px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:65227px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example: ADT for Rational Numbers</span></div>
<img id="background" style="position:absolute; left:0px; top:66325px;" width="1440" height="1080" src="page56.png"> <img id="background" style="position:absolute; left:1440px; top:66325px;" width="1440" height="1080" src="page-000056.png">
<div class="txt" style="position:absolute; left:33px; top:66432px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">RI and AF of this example</span></div>
<div class="txt" style="position:absolute; left:999px; top:66343px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:66572px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The RI requires that numerator/denominator pairs be in reduced</span></div>
<div class="txt" style="position:absolute; left:112px; top:66622px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">form (i.e., lowest terms), so pairs like (2,4) and (18,12) above should</span></div>
<div class="txt" style="position:absolute; left:112px; top:66670px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">be drawn as outside the RI.</span></div>
<img id="background" style="position:absolute; left:0px; top:67530px;" width="1440" height="1080" src="page57.png"> <img id="background" style="position:absolute; left:1440px; top:67530px;" width="1440" height="1080" src="page-000057.png">
<div class="txt" style="position:absolute; left:33px; top:67637px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Checking the Rep Invariant</span></div>
<div class="txt" style="position:absolute; left:999px; top:67548px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:67777px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">The rep invariant isn’t just a neat mathematical idea. If your</span></div>
<div class="txt" style="position:absolute; left:112px; top:67827px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">implementation asserts the rep invariant at run time, then you can</span></div>
<div class="txt" style="position:absolute; left:112px; top:67870px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">catch bugs early. </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">在实现中采用断言技术来检查不变性是否保持，可</span></div>
<div class="txt" style="position:absolute; left:112px; top:67918px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">以更早地捕获</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">bug</span></div>
<div class="txt" style="position:absolute; left:76px; top:68137px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">You should certainly call </span><span id="f27" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">checkRep() </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to assert the rep invariant at</span></div>
<div class="txt" style="position:absolute; left:112px; top:68187px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the end of every operation that creates or mutates the rep (</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">creators,</span></div>
<div class="txt" style="position:absolute; left:112px; top:68234px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">producers, and mutators</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">). Look back at the </span><span id="f27" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">RatNum </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">code above, and</span></div>
<div class="txt" style="position:absolute; left:112px; top:68278px;"><span id="f39" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">you’ll see that it calls </span><span id="f27" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">checkRep() </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">at the end of both constructors. </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">应</span></div>
<div class="txt" style="position:absolute; left:112px; top:68326px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">该在所有有</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">create</span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">和</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">mutate</span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">作用类型方法的最后检查不变性</span></div>
<div class="txt" style="position:absolute; left:76px; top:68401px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f39" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Observer methods don’t normally need to call </span><span id="f27" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">checkRep()</span><span id="f39" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, but it’s</span></div>
<div class="txt" style="position:absolute; left:112px; top:68451px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">good defensive practice to do so anyway.</span></div>
<div class="txt" style="position:absolute; left:112px; top:68515px;"><span id="f62" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Calling </span><span id="f27" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">checkRep() </span><span id="f39" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">in every method, including observers, means you’ll</span></div>
<div class="txt" style="position:absolute; left:148px; top:68559px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">be more likely to </span><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">catch rep invariant violations caused by rep exposure</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<img id="background" style="position:absolute; left:0px; top:68735px;" width="1440" height="1080" src="page58.png"> <img id="background" style="position:absolute; left:1440px; top:68735px;" width="1440" height="1080" src="page-000058.png">
<div class="txt" style="position:absolute; left:33px; top:68842px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">No Null Values in the Rep</span></div>
<div class="txt" style="position:absolute; left:999px; top:68753px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:68982px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">null </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">values are troublesome and unsafe, so that we try to remove</span></div>
<div class="txt" style="position:absolute; left:112px; top:69032px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">them from our programming entirely.</span></div>
<div class="txt" style="position:absolute; left:76px; top:69102px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The preconditions and postconditions of our methods implicitly</span></div>
<div class="txt" style="position:absolute; left:112px; top:69151px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">require that objects and arrays be </span><span id="f21" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">non-null</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:76px; top:69222px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">We extend that prohibition to the reps of abstract data types. By</span></div>
<div class="txt" style="position:absolute; left:112px; top:69271px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">default, the rep invariant implicitly includes </span><span id="f21" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">x != null </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">for every</span></div>
<div class="txt" style="position:absolute; left:112px; top:69319px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">reference </span><span id="f21" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">x </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">in the rep that has object type (including references inside</span></div>
<div class="txt" style="position:absolute; left:112px; top:69368px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">arrays or lists).</span></div>
<div class="txt" style="position:absolute; left:76px; top:69498px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f36" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Although you don’t need to state it in a rep invariant comment</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">, you</span></div>
<div class="txt" style="position:absolute; left:112px; top:69548px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">still must implement the </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">x != null </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">check</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, and make sure that</span></div>
<div class="txt" style="position:absolute; left:112px; top:69592px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">your </span><span id="f21" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">checkRep() </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">correctly fails when </span><span id="f21" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">x </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is null. </span><span id="f50" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">即使在注释中进行了</span></div>
<div class="txt" style="position:absolute; left:112px; top:69640px;"><span id="f50" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">阐述，也要在</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">checkRep</span><span id="f50" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">中检查</span></div>
<img id="background" style="position:absolute; left:0px; top:69940px;" width="1440" height="1080" src="page59.png"> <img id="background" style="position:absolute; left:1440px; top:69940px;" width="1440" height="1080" src="page-000059.png">
<div class="txt" style="position:absolute; left:1105px; top:69958px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:371px; top:70355px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">9 Beneficent mutation</span></div>
<img id="background" style="position:absolute; left:0px; top:71145px;" width="1440" height="1080" src="page60.png"> <img id="background" style="position:absolute; left:1440px; top:71145px;" width="1440" height="1080" src="page-000060.png">
<div class="txt" style="position:absolute; left:33px; top:71252px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Beneficent mutation</span></div>
<div class="txt" style="position:absolute; left:999px; top:71163px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:71392px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Recall that a type is immutable if and only if a value of the type</span></div>
<div class="txt" style="position:absolute; left:112px; top:71442px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">never changes after being created.</span></div>
<div class="txt" style="position:absolute; left:76px; top:71512px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">With our new understanding of the abstract space A and rep space R,</span></div>
<div class="txt" style="position:absolute; left:112px; top:71561px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">we can refine this definition: </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">the </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">abstract value </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">should never</span></div>
<div class="txt" style="position:absolute; left:112px; top:71605px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">change</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">. </span><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">抽象值永远不可改变</span></div>
<div class="txt" style="position:absolute; left:76px; top:71680px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">But the implementation is free to mutate a </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">rep value </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">as long as it</span></div>
<div class="txt" style="position:absolute; left:112px; top:71730px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">continues to map to the same abstract value</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, so that the change is</span></div>
<div class="txt" style="position:absolute; left:112px; top:71773px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">invisible to the client. </span><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">在确保其映射的抽象值不变前提下，表示值可</span></div>
<div class="txt" style="position:absolute; left:112px; top:71821px;"><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">以变化</span></div>
<div class="txt" style="position:absolute; left:76px; top:71896px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">This kind of change is called </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">beneficent mutation</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<img id="background" style="position:absolute; left:0px; top:72350px;" width="1440" height="1080" src="page61.png"> <img id="background" style="position:absolute; left:1440px; top:72350px;" width="1440" height="1080" src="page-000061.png">
<div class="txt" style="position:absolute; left:999px; top:72368px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:72457px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">An example of beneficent mutation</span></div>
<div class="txt" style="position:absolute; left:76px; top:72597px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">RatNum</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: this rep has a weaker</span></div>
<div class="txt" style="position:absolute; left:112px; top:72647px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">rep invariant that doesn’t require</span></div>
<div class="txt" style="position:absolute; left:112px; top:72695px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the numerator and denominator</span></div>
<div class="txt" style="position:absolute; left:112px; top:72738px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to be stored in lowest terms:(</span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">不要</span></div>
<div class="txt" style="position:absolute; left:112px; top:72786px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">求不含公约数</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<img id="background" style="position:absolute; left:0px; top:73555px;" width="1440" height="1080" src="page62.png"> <img id="background" style="position:absolute; left:1440px; top:73555px;" width="1440" height="1080" src="page-000062.png">
<div class="txt" style="position:absolute; left:999px; top:73573px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:73662px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">An example of beneficent mutation</span></div>
<div class="txt" style="position:absolute; left:76px; top:73802px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">This weaker rep invariant allows a sequence of RatNum arithmetic</span></div>
<div class="txt" style="position:absolute; left:112px; top:73852px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">operations to simply omit reducing the result to lowest terms. But</span></div>
<div class="txt" style="position:absolute; left:112px; top:73895px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">when it’s time to display a result to a human, we first simplify it:</span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">参</span></div>
<div class="txt" style="position:absolute; left:112px; top:73943px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">与运算时，可以有公约数；显示输出时，需要简化（没有公约数）</span></div>
<img id="background" style="position:absolute; left:0px; top:74760px;" width="1440" height="1080" src="page63.png"> <img id="background" style="position:absolute; left:1440px; top:74760px;" width="1440" height="1080" src="page-000063.png">
<div class="txt" style="position:absolute; left:999px; top:74778px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:74867px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">An example of beneficent mutation</span></div>
<div class="txt" style="position:absolute; left:76px; top:75007px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Notice that this </span><span id="f14" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">toString </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">implementation reassigns the private</span></div>
<div class="txt" style="position:absolute; left:112px; top:75057px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">fields numerator and denominator, mutating the representation </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">–</span></div>
<div class="txt" style="position:absolute; left:112px; top:75105px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">even though it is an observer method on an immutable type!</span></div>
<div class="txt" style="position:absolute; left:76px; top:75175px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">But, crucially, </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">the mutation doesn’t change the abstract value.</span></div>
<div class="txt" style="position:absolute; left:76px; top:75247px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Dividing both numerator and denominator by the same common</span></div>
<div class="txt" style="position:absolute; left:112px; top:75297px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">factor, or multiplying both by -1, has no effect on the result of the</span></div>
<div class="txt" style="position:absolute; left:112px; top:75345px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">abstraction function, AF(numerator, denominator) =</span></div>
<div class="txt" style="position:absolute; left:112px; top:75393px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">numerator/denominator.</span></div>
<div class="txt" style="position:absolute; left:76px; top:75463px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Another way of thinking about it is that the AF is a many-to-one</span></div>
<div class="txt" style="position:absolute; left:112px; top:75513px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">function, and the rep value has changed to another that still maps to</span></div>
<div class="txt" style="position:absolute; left:112px; top:75556px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the same abstract value. </span><span id="f41" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">另外一种理解：</span><span id="f44" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">AF</span><span id="f41" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">是多对一的映射，</span><span id="f44" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">rep</span></div>
<div class="txt" style="position:absolute; left:112px; top:75604px;"><span id="f44" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">value</span><span id="f41" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">改变为了“多”中的另外一个。</span></div>
<div class="txt" style="position:absolute; left:76px; top:75679px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">So the mutation is harmless, or beneficent.</span></div>
<img id="background" style="position:absolute; left:0px; top:75965px;" width="1440" height="1080" src="page64.png"> <img id="background" style="position:absolute; left:1440px; top:75965px;" width="1440" height="1080" src="page-000064.png">
<div class="txt" style="position:absolute; left:999px; top:75983px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:76072px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Why is beneficent mutation required?</span></div>
<div class="txt" style="position:absolute; left:76px; top:76212px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">This kind of implementer freedom often permits performance</span></div>
<div class="txt" style="position:absolute; left:112px; top:76257px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">improvements like: </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">实现的自由为性能改善提供了可能</span></div>
<div class="txt" style="position:absolute; left:112px; top:76327px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Caching</span></div>
<div class="txt" style="position:absolute; left:112px; top:76387px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Data structure rebalancing</span></div>
<div class="txt" style="position:absolute; left:112px; top:76444px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Lazy computation(</span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">惰性计算、延迟计算，例：尽可能延迟表达式求值，仅</span></div>
<div class="txt" style="position:absolute; left:148px; top:76487px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">在必要时，而不是在声明时，对表达式进行求值</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<div class="txt" style="position:absolute; left:112px; top:76551px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Lazy cleanup</span></div>
<img id="background" style="position:absolute; left:0px; top:77170px;" width="1440" height="1080" src="page65.png"> <img id="background" style="position:absolute; left:1440px; top:77170px;" width="1440" height="1080" src="page-000065.png">
<div class="txt" style="position:absolute; left:1105px; top:77188px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:207px; top:77499px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">10 Documenting the AF, RI, and</span></div>
<div class="txt" style="position:absolute; left:304px; top:77585px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Safety from Rep Exposure</span></div>
<img id="background" style="position:absolute; left:0px; top:78375px;" width="1440" height="1080" src="page66.png"> <img id="background" style="position:absolute; left:1440px; top:78375px;" width="1440" height="1080" src="page-000066.png">
<div class="txt" style="position:absolute; left:33px; top:78482px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Documenting AF and RI</span></div>
<div class="txt" style="position:absolute; left:999px; top:78393px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:78622px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">It’s good practice to document the abstraction function and rep</span></div>
<div class="txt" style="position:absolute; left:112px; top:78672px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">invariant in the class, using comments right where the private fields</span></div>
<div class="txt" style="position:absolute; left:112px; top:78715px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">of the rep are declared. </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">在类中说明</span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">AF</span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">、</span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">RI</span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">、不变性，在定义</span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">Rep</span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">的</span></div>
<div class="txt" style="position:absolute; left:112px; top:78763px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">位置</span></div>
<div class="txt" style="position:absolute; left:76px; top:78838px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">representation exposure </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">mean sthat code outside the class can</span></div>
<div class="txt" style="position:absolute; left:112px; top:78888px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">modify the representation directly.</span></div>
<div class="txt" style="position:absolute; left:76px; top:78958px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Another piece of documentation is a </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">rep exposure safety argument </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:112px; top:79008px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">This is a comment that examines each part of the rep, looks at the</span></div>
<div class="txt" style="position:absolute; left:112px; top:79056px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">code that handles that part of the rep (particularly with respect to</span></div>
<div class="txt" style="position:absolute; left:112px; top:79104px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">parameters and return values from clients, because that is where rep</span></div>
<div class="txt" style="position:absolute; left:112px; top:79152px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">exposure occurs), and presents a reason why the code doesn’t expose</span></div>
<div class="txt" style="position:absolute; left:112px; top:79195px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the rep. </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">对表示泄露安全相关的参数，特别是输入参数和返回值，给</span></div>
<div class="txt" style="position:absolute; left:112px; top:79243px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">出保证不泄露内部表示的策略。</span></div>
<img id="background" style="position:absolute; left:0px; top:79580px;" width="1440" height="1080" src="page67.png"> <img id="background" style="position:absolute; left:1440px; top:79580px;" width="1440" height="1080" src="page-000067.png">
<div class="txt" style="position:absolute; left:999px; top:79598px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:79687px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Documenting AF and RI: example 1</span></div>
<img id="background" style="position:absolute; left:0px; top:80785px;" width="1440" height="1080" src="page68.png"> <img id="background" style="position:absolute; left:1440px; top:80785px;" width="1440" height="1080" src="page-000068.png">
<div class="txt" style="position:absolute; left:999px; top:80803px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:80892px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Documenting AF and RI: example 2</span></div>
<img id="background" style="position:absolute; left:0px; top:81990px;" width="1440" height="1080" src="page69.png"> <img id="background" style="position:absolute; left:1440px; top:81990px;" width="1440" height="1080" src="page-000069.png">
<div class="txt" style="position:absolute; left:33px; top:82097px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">How to establish invariants</span></div>
<div class="txt" style="position:absolute; left:999px; top:82008px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:82237px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">An invariant is a property that is true for the entire program </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">which in</span></div>
<div class="txt" style="position:absolute; left:112px; top:82287px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the case of an invariant about an object, reduces to the entire lifetime of</span></div>
<div class="txt" style="position:absolute; left:112px; top:82335px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the object.</span></div>
<div class="txt" style="position:absolute; left:76px; top:82405px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">To make an invariant hold, we need to:</span></div>
<div class="txt" style="position:absolute; left:112px; top:82468px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Make the invariant true in the initial state of the object; </span><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">在初始化时使之为真</span></div>
<div class="txt" style="position:absolute; left:112px; top:82528px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Ensure that all changes to the object keep the invariant true. </span><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">所有修改都使不</span></div>
<div class="txt" style="position:absolute; left:148px; top:82572px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">变性得到保持</span></div>
<div class="txt" style="position:absolute; left:76px; top:82641px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Translating this in terms of the types of ADT operations, this means:</span></div>
<div class="txt" style="position:absolute; left:112px; top:82708px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Creators and producers must establish the invariant for new object</span></div>
<div class="txt" style="position:absolute; left:148px; top:82747px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">instances; </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Creators and producers</span><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">必须为新创建的对象建立不变性</span></div>
<div class="txt" style="position:absolute; left:112px; top:82812px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Mutators and observers must preserve the invariant. </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Mutators and</span></div>
<div class="txt" style="position:absolute; left:148px; top:82851px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">observers</span><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">必须保持不变性。</span></div>
<img id="background" style="position:absolute; left:0px; top:83195px;" width="1440" height="1080" src="page70.png"> <img id="background" style="position:absolute; left:1440px; top:83195px;" width="1440" height="1080" src="page-000070.png">
<div class="txt" style="position:absolute; left:33px; top:83302px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">How to establish invariants</span></div>
<div class="txt" style="position:absolute; left:999px; top:83213px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:83442px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">The risk of rep exposure makes the situation more complicated</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">. If the</span></div>
<div class="txt" style="position:absolute; left:112px; top:83492px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">rep is exposed, then the object might be changed anywhere in the</span></div>
<div class="txt" style="position:absolute; left:112px; top:83540px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">program, not just in the ADT’s operations, and we can’t guarantee that</span></div>
<div class="txt" style="position:absolute; left:112px; top:83588px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the invariant still holds after those arbitrary changes.</span></div>
<div class="txt" style="position:absolute; left:76px; top:83658px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">So the full rule for proving invariants is: </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Structural induction --- </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If an</span></div>
<div class="txt" style="position:absolute; left:112px; top:83708px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">invariant of an abstract data type is</span></div>
<div class="txt" style="position:absolute; left:112px; top:83769px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">established by creators and producers </span><span id="f30" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">只通过</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">creators and producers</span><span id="f30" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">创建</span></div>
<div class="txt" style="position:absolute; left:112px; top:83829px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">preserved by mutators, and observers </span><span id="f30" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">通过</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">mutators and observers</span><span id="f30" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">保持</span></div>
<div class="txt" style="position:absolute; left:112px; top:83895px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">no representation exposure occurs</span></div>
<div class="txt" style="position:absolute; left:798px; top:83890px;"><span id="f30" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">没有表示泄露发生</span></div>
<div class="txt" style="position:absolute; left:76px; top:83961px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">then the invariant is true of all instances of the abstract data type.</span></div>
<img id="background" style="position:absolute; left:0px; top:84400px;" width="1440" height="1080" src="page71.png"> <img id="background" style="position:absolute; left:1440px; top:84400px;" width="1440" height="1080" src="page-000071.png">
<div class="txt" style="position:absolute; left:1105px; top:84418px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:303px; top:84729px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">11 ADT invariants replace</span></div>
<div class="txt" style="position:absolute; left:499px; top:84815px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">preconditions</span></div>
<img id="background" style="position:absolute; left:0px; top:85605px;" width="1440" height="1080" src="page72.png"> <img id="background" style="position:absolute; left:1440px; top:85605px;" width="1440" height="1080" src="page-000072.png">
<div class="txt" style="position:absolute; left:999px; top:85623px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:33px; top:85712px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">ADT invariants replace preconditions</span></div>
<div class="txt" style="position:absolute; left:76px; top:85852px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">An enormous advantage of a well-designed abstract data type is that</span></div>
<div class="txt" style="position:absolute; left:112px; top:85902px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">it encapsulates and enforces properties that we would otherwise</span></div>
<div class="txt" style="position:absolute; left:112px; top:85945px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">have to stipulate in a precondition. </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">良好设计的</span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">ADT</span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">，可以替代</span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">spec</span></div>
<div class="txt" style="position:absolute; left:112px; top:85993px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">中的部分</span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">preconditions</span></div>
<img id="background" style="position:absolute; left:0px; top:86810px;" width="1440" height="1080" src="page73.png"> <img id="background" style="position:absolute; left:1440px; top:86810px;" width="1440" height="1080" src="page-000073.png">
<div class="txt" style="position:absolute; left:1105px; top:86828px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:563px; top:87225px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary</span></div>
<img id="background" style="position:absolute; left:0px; top:88015px;" width="1440" height="1080" src="page74.png"> <img id="background" style="position:absolute; left:1440px; top:88015px;" width="1440" height="1080" src="page-000074.png">
<div class="txt" style="position:absolute; left:33px; top:88122px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary</span></div>
<div class="txt" style="position:absolute; left:999px; top:88033px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:88262px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstract data types are characterized by their operations.</span></div>
<div class="txt" style="position:absolute; left:76px; top:88334px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Operations can be classified into creators, producers, observers, and</span></div>
<div class="txt" style="position:absolute; left:112px; top:88384px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">mutators.</span></div>
<div class="txt" style="position:absolute; left:76px; top:88454px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">An ADT’s specification is its set of operations and their specs.</span></div>
<div class="txt" style="position:absolute; left:76px; top:88526px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A good ADT is simple, coherent, adequate, and representation-</span></div>
<div class="txt" style="position:absolute; left:112px; top:88576px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">independent.</span></div>
<div class="txt" style="position:absolute; left:76px; top:88646px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">An ADT is tested by generating tests for each of its operations, but</span></div>
<div class="txt" style="position:absolute; left:112px; top:88696px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">using the creators, producers, mutators, and observers together in</span></div>
<div class="txt" style="position:absolute; left:112px; top:88744px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the same tests.</span></div>
<img id="background" style="position:absolute; left:0px; top:89220px;" width="1440" height="1080" src="page75.png"> <img id="background" style="position:absolute; left:1440px; top:89220px;" width="1440" height="1080" src="page-000075.png">
<div class="txt" style="position:absolute; left:33px; top:89327px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary</span></div>
<div class="txt" style="position:absolute; left:999px; top:89238px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:89467px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Safe from bugs. </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A good ADT offers a well-defined contract for a</span></div>
<div class="txt" style="position:absolute; left:112px; top:89517px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">data type, so that clients know what to expect from the data type,</span></div>
<div class="txt" style="position:absolute; left:112px; top:89565px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and implementors have well-defined freedom to vary.</span></div>
<div class="txt" style="position:absolute; left:76px; top:89635px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Easy to understand. </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A good ADT hides its implementation behind a</span></div>
<div class="txt" style="position:absolute; left:112px; top:89685px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">set of simple operations, so that programmers using the ADT only</span></div>
<div class="txt" style="position:absolute; left:112px; top:89733px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">need to understand the operations, not the details of the</span></div>
<div class="txt" style="position:absolute; left:112px; top:89781px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">implementation.</span></div>
<div class="txt" style="position:absolute; left:76px; top:89851px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Ready for change. </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Representation independence allows the</span></div>
<div class="txt" style="position:absolute; left:112px; top:89901px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">implementation of an abstract data type to change without requiring</span></div>
<div class="txt" style="position:absolute; left:112px; top:89949px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">changes from its clients.</span></div>
<img id="background" style="position:absolute; left:0px; top:90425px;" width="1440" height="1080" src="page76.png"> <img id="background" style="position:absolute; left:1440px; top:90425px;" width="1440" height="1080" src="page-000076.png">
<div class="txt" style="position:absolute; left:33px; top:90532px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary</span></div>
<div class="txt" style="position:absolute; left:999px; top:90443px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:90672px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">An invariant is a property that is always true of an ADT object</span></div>
<div class="txt" style="position:absolute; left:112px; top:90722px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">instance, for the lifetime of the object.</span></div>
<div class="txt" style="position:absolute; left:76px; top:90792px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A good ADT preserves its own invariants. Invariants must be</span></div>
<div class="txt" style="position:absolute; left:112px; top:90842px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">established by creators and producers, and preserved by observers</span></div>
<div class="txt" style="position:absolute; left:112px; top:90890px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and mutators.</span></div>
<div class="txt" style="position:absolute; left:76px; top:90960px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The rep invariant specifies legal values of the representation, and</span></div>
<div class="txt" style="position:absolute; left:112px; top:91010px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">should be checked at runtime with checkRep() .</span></div>
<div class="txt" style="position:absolute; left:76px; top:91080px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The abstraction function maps a concrete representation to the</span></div>
<div class="txt" style="position:absolute; left:112px; top:91130px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">abstract value it represents.</span></div>
<div class="txt" style="position:absolute; left:76px; top:91200px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Representation exposure threatens both representation</span></div>
<div class="txt" style="position:absolute; left:112px; top:91250px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">independence and invariant preservation.</span></div>
<img id="background" style="position:absolute; left:0px; top:91630px;" width="1440" height="1080" src="page77.png"> <img id="background" style="position:absolute; left:1440px; top:91630px;" width="1440" height="1080" src="page-000077.png">
<div class="txt" style="position:absolute; left:33px; top:91737px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary</span></div>
<div class="txt" style="position:absolute; left:999px; top:91648px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.3 Abstract Data Type (ADT)</span></div>
<div class="txt" style="position:absolute; left:76px; top:91877px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Safe from bugs. </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A good ADT preserves its own invariants, so that</span></div>
<div class="txt" style="position:absolute; left:112px; top:91927px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">those invariants are less vulnerable to bugs in the ADT’s clients, and</span></div>
<div class="txt" style="position:absolute; left:112px; top:91975px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">violations of the invariants can be more easily isolated within the</span></div>
<div class="txt" style="position:absolute; left:112px; top:92023px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">implementation of the ADT itself. Stating the rep invariant explicitly,</span></div>
<div class="txt" style="position:absolute; left:112px; top:92071px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and checking it at runtime with checkRep(), catches</span></div>
<div class="txt" style="position:absolute; left:112px; top:92119px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">misunderstandings and bugs earlier, rather than continuing on with</span></div>
<div class="txt" style="position:absolute; left:112px; top:92167px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">a corrupt data structure.</span></div>
<div class="txt" style="position:absolute; left:76px; top:92237px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Easy to understand. </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Rep invariants and abstraction functions</span></div>
<div class="txt" style="position:absolute; left:112px; top:92287px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">explicate the meaning of a data type’s representation, and how it</span></div>
<div class="txt" style="position:absolute; left:112px; top:92335px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">relates to its abstraction.</span></div>
<div class="txt" style="position:absolute; left:76px; top:92405px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Ready for change. </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstract data types separate the abstraction from</span></div>
<div class="txt" style="position:absolute; left:112px; top:92455px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the concrete representation, which makes it possible to change the</span></div>
<div class="txt" style="position:absolute; left:112px; top:92503px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">representation without having to change client code.</span></div>
<img id="background" style="position:absolute; left:0px; top:92835px;" width="1440" height="1080" src="page78.png"> <img id="background" style="position:absolute; left:1440px; top:92835px;" width="1440" height="1080" src="page-000078.png">
<div class="txt" style="position:absolute; left:1105px; top:92853px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:590px; top:93250px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">The end</span></div>
<div class="txt" style="position:absolute; left:587px; top:93509px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">March 19, 2019</span></div>
</body></html>