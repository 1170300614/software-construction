<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head> <body onload="start()"><div style="background:#5c5c5f; color:#FFF"> <p align="center">&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;[&#x6DF1;&#x5BB9;Pubmed&#x6587;&#x732E;&#x68C0;&#x7D22;] &nbsp 1. &#x6B64;&#x5904;&#x53F3;&#x952E;&#xFF1A;&#x9009;&#x83DC;&#x5355;&#x3010;&#x7FFB;&#x6210;&#x4E2D;&#x6587;&#xFF08;&#x7B80;&#x4F53;&#xFF09;&#x3011; &nbsp &nbsp &nbsp  2. &#x7FFB;&#x8BD1;&#x540E;&#xFF0C;&#x6B64;&#x5904;&#x53F3;&#x952E;&#xFF1A;&#x9009;&#x83DC;&#x5355;&#x3010;&#x6253;&#x5370;...&#x3011;&#x6210;PDF&#x683C;&#x5F0F; <br>&#x5EFA;&#x8BAE;&#x5C4F;&#x5E55;&#x5206;&#x8FA8;&#x7387;&#xFF1A;1920X1080&#xFF1B;&#x5982;&#x679C;&#x5C4F;&#x5E55;&#x592A;&#x5C0F;&#xFF0C;&#x53EF;&#x4EE5;&#x6309;Ctrl + &#x6216; Ctrl -&#x7F29;&#x653E;&#x7F51;&#x9875;&#x3002;</p></div><style type="text/css"> .txt { white-space:nowrap; }	 #f0 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f1 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f2 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f3 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f4 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f5 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f6 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f7 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f8 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f9 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f10 { font-family:sans-serif; font-weight:normal; font-style:normal; }  #f11 { font-family:sans-serif; font-weight:normal; font-style:normal; }  #f12 { font-family:sans-serif; font-weight:normal; font-style:normal; } 	#f13 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f14 { font-family:sans-serif; font-weight:normal; font-style:normal; } #f15 { font-family:sans-serif; font-weight:normal; font-style:normal; } 	#f16 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f17 { font-family:sans-serif; font-weight:normal; font-style:normal; } #f18 { font-family:sans-serif; font-weight:normal; font-style:normal; } #f19 { font-family:sans-serif; font-weight:normal; font-style:normal; }		#f20 { font-family:sans-serif; font-weight:normal; font-style:normal; }		</style><img id="background" style="position:absolute; left:0px; top:50px;" width="1440" height="1080" src="page1.png"> <img id="background" style="position:absolute; left:1440px; top:50px;" width="1440" height="1080" src="page-000001.png">
<div class="txt" style="position:absolute; left:1105px; top:68px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:263px; top:361px;"><span id="f9" style="font-size:55px;vertical-align:baseline;color:rgba(0,0,0,1);">Chapter 7: Software Construction for</span></div>
<div class="txt" style="position:absolute; left:579px; top:429px;"><span id="f9" style="font-size:55px;vertical-align:baseline;color:rgba(0,0,0,1);">Robustness</span></div>
<div class="txt" style="position:absolute; left:172px; top:500px;"><span id="f17" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:596px; top:719px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Xu Hanchuan</span></div>
<div class="txt" style="position:absolute; left:585px; top:772px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(255,98,176,1);">xhc@hit.edu.cn</span></div>
<div class="txt" style="position:absolute; left:597px; top:877px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">April 23, 2019</span></div>
<img id="background" style="position:absolute; left:0px; top:1050px;" width="1440" height="1080" src="page2.png"> <img id="background" style="position:absolute; left:1440px; top:1050px;" width="1440" height="1080" src="page-000002.png">
<div class="txt" style="position:absolute; left:33px; top:1157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Outline</span></div>
<div class="txt" style="position:absolute; left:942px; top:1066px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:1297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">1. Generic Error and Exception Handling Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:1369px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">2. Error and Exception Handling in Java</span></div>
<div class="txt" style="position:absolute; left:112px; top:1436px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Classification of exceptions</span></div>
<div class="txt" style="position:absolute; left:112px; top:1496px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Checked and unchecked exceptions</span></div>
<div class="txt" style="position:absolute; left:112px; top:1557px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">How to Throw an Exception</span></div>
<div class="txt" style="position:absolute; left:112px; top:1617px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Creating Exception Classes</span></div>
<div class="txt" style="position:absolute; left:112px; top:1678px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Catching Exceptions</span></div>
<div class="txt" style="position:absolute; left:112px; top:1738px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Rethrowing and Chaining Exceptions</span></div>
<div class="txt" style="position:absolute; left:112px; top:1799px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">finally Clause</span></div>
<div class="txt" style="position:absolute; left:112px; top:1859px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The Try-with-Resources Statement</span></div>
<div class="txt" style="position:absolute; left:112px; top:1920px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Analyzing Stack Trace Elements</span></div>
<div class="txt" style="position:absolute; left:112px; top:1980px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Tips for Using Exceptions</span></div>
<img id="background" style="position:absolute; left:0px; top:2050px;" width="1440" height="1080" src="page3.png"> <img id="background" style="position:absolute; left:1440px; top:2050px;" width="1440" height="1080" src="page-000003.png">
<div class="txt" style="position:absolute; left:1105px; top:2068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:238px; top:2378px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">1 Generic Error and Exception</span></div>
<div class="txt" style="position:absolute; left:375px; top:2465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Handling Techniques</span></div>
<img id="background" style="position:absolute; left:0px; top:3050px;" width="1440" height="1080" src="page4.png"> <img id="background" style="position:absolute; left:1440px; top:3050px;" width="1440" height="1080" src="page-000004.png">
<div class="txt" style="position:absolute; left:33px; top:3157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Errors in this section</span></div>
<div class="txt" style="position:absolute; left:942px; top:3066px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:3297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The errors described in this section is not exactly equivalent to the</span></div>
<div class="txt" style="position:absolute; left:112px; top:3347px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">“error” </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">in Java.</span></div>
<div class="txt" style="position:absolute; left:76px; top:3417px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">It means all abnormal things in program.</span></div>
<img id="background" style="position:absolute; left:0px; top:4050px;" width="1440" height="1080" src="page5.png"> <img id="background" style="position:absolute; left:1440px; top:4050px;" width="1440" height="1080" src="page-000005.png">
<div class="txt" style="position:absolute; left:33px; top:4157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Sorts of errors</span></div>
<div class="txt" style="position:absolute; left:942px; top:4066px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:65px; top:4297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">User input errors</span></div>
<div class="txt" style="position:absolute; left:101px; top:4364px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">In addition to the inevitable typos, some users like to blaze their own trail</span></div>
<div class="txt" style="position:absolute; left:137px; top:4407px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">instead of following directions. E.g. a user asks to connect to a URL that is</span></div>
<div class="txt" style="position:absolute; left:137px; top:4450px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">syntactically wrong, the network layer will complain.</span></div>
<div class="txt" style="position:absolute; left:65px; top:4516px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Device errors</span></div>
<div class="txt" style="position:absolute; left:101px; top:4583px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Hardware does not always do what you want it to. The printer may be</span></div>
<div class="txt" style="position:absolute; left:137px; top:4626px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">turned off. A web page may be temporarily unavailable. Devices will often</span></div>
<div class="txt" style="position:absolute; left:137px; top:4669px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">fail in the middle of a task.</span></div>
<div class="txt" style="position:absolute; left:65px; top:4735px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Physical limitations</span></div>
<div class="txt" style="position:absolute; left:101px; top:4802px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Disks can fill up; you can run out of available memory</span></div>
<div class="txt" style="position:absolute; left:65px; top:4867px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Code errors</span></div>
<div class="txt" style="position:absolute; left:101px; top:4934px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A method may not perform correctly. e.g. it could deliver wrong answers</span></div>
<div class="txt" style="position:absolute; left:137px; top:4977px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">or use other methods incorrectly. Computing an invalid array index,</span></div>
<div class="txt" style="position:absolute; left:137px; top:5021px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">trying to find a nonexistent entry in a hash table, or trying to pop an</span></div>
<div class="txt" style="position:absolute; left:137px; top:5064px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">empty stack are all examples of a code error.</span></div>
<img id="background" style="position:absolute; left:0px; top:6020px;" width="1440" height="1080" src="page6.png"> <img id="background" style="position:absolute; left:1440px; top:6020px;" width="1440" height="1080" src="page-000006.png">
<div class="txt" style="position:absolute; left:33px; top:6127px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Error handling</span></div>
<div class="txt" style="position:absolute; left:942px; top:6036px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:6267px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Error handling refers to the anticipation, detection, and resolution of</span></div>
<div class="txt" style="position:absolute; left:112px; top:6312px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">programming, application, and communications errors. </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">错误处理是指</span></div>
<div class="txt" style="position:absolute; left:112px; top:6360px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">编程、应用程序和通信中错误的预测、检测和解决。</span></div>
<div class="txt" style="position:absolute; left:76px; top:6507px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Specialized programs, called </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">error handlers, </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">are available to deal</span></div>
<div class="txt" style="position:absolute; left:112px; top:6557px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">with errors.</span></div>
<div class="txt" style="position:absolute; left:76px; top:6699px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Possible strategies of error handling:</span></div>
<div class="txt" style="position:absolute; left:112px; top:6762px;"><span id="f28" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Forestall errors if possible </span><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">预先防止</span></div>
<div class="txt" style="position:absolute; left:112px; top:6822px;"><span id="f28" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Recover from them when they occur without terminating the application, </span><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">错</span></div>
<div class="txt" style="position:absolute; left:148px; top:6866px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">误中恢复</span></div>
<div class="txt" style="position:absolute; left:112px; top:6930px;"><span id="f28" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Gracefully terminate an affected application and save the error information</span></div>
<div class="txt" style="position:absolute; left:148px; top:6969px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">to a log file </span><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">优雅地退出</span></div>
<img id="background" style="position:absolute; left:0px; top:7214px;" width="1440" height="1080" src="page7.png"> <img id="background" style="position:absolute; left:1440px; top:7214px;" width="1440" height="1080" src="page-000007.png">
<div class="txt" style="position:absolute; left:33px; top:7321px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Dealing with Errors</span></div>
<div class="txt" style="position:absolute; left:942px; top:7230px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:7461px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">While encountering errors, or an operation cannot be completed</span></div>
<div class="txt" style="position:absolute; left:112px; top:7511px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">because of an error, </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">the program ought to either</span></div>
<div class="txt" style="position:absolute; left:112px; top:7576px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Notify the user of an error</span></div>
<div class="txt" style="position:absolute; left:112px; top:7636px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Save all work</span></div>
<div class="txt" style="position:absolute; left:112px; top:7697px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Return to a safe state and enable the user to execute other commands</span></div>
<div class="txt" style="position:absolute; left:112px; top:7757px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Allow the user to save all work and terminate the program gracefully</span></div>
<div class="txt" style="position:absolute; left:76px; top:7823px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">This may not be easy to do</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, because the code that detects (or even</span></div>
<div class="txt" style="position:absolute; left:112px; top:7873px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">causes) the error condition is usually far removed from the code that</span></div>
<div class="txt" style="position:absolute; left:112px; top:7921px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">can roll back the data to a safe state or the code that can save the</span></div>
<div class="txt" style="position:absolute; left:112px; top:7964px;"><span id="f31" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">user’s work and exit cheerfully. </span><span id="f34" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">难点在于检测错误的代码通常远离可</span></div>
<div class="txt" style="position:absolute; left:112px; top:8012px;"><span id="f34" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">以回滚数据或保存数据并优雅退出的代码</span></div>
<div class="txt" style="position:absolute; left:76px; top:8087px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">The mission of error handling is to transfer control from where the</span></div>
<div class="txt" style="position:absolute; left:112px; top:8137px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">error occurred to an error handler that can deal with the situation.</span></div>
<div class="txt" style="position:absolute; left:112px; top:8183px;"><span id="f34" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">错误处理的任务就是将控制权从发生错误的位置转移到可以处理错误</span></div>
<div class="txt" style="position:absolute; left:112px; top:8228px;"><span id="f34" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">的程序</span></div>
<img id="background" style="position:absolute; left:0px; top:8408px;" width="1440" height="1080" src="page8.png"> <img id="background" style="position:absolute; left:1440px; top:8408px;" width="1440" height="1080" src="page-000008.png">
<div class="txt" style="position:absolute; left:33px; top:8515px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">(1) Return a neutral value</span></div>
<div class="txt" style="position:absolute; left:942px; top:8424px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:8652px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Return a neutral value </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">(Robustness) </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">返回一个中性值</span></div>
<div class="txt" style="position:absolute; left:112px; top:8722px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Sometimes the best response to bad data is to continue operating and</span></div>
<div class="txt" style="position:absolute; left:148px; top:8765px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">simply return a value that’s known to be harmless.</span></div>
<div class="txt" style="position:absolute; left:112px; top:8825px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">E.g., A numeric computation might return 0. A string operation might</span></div>
<div class="txt" style="position:absolute; left:148px; top:8869px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">return an empty string, or a pointer operation might return an empty</span></div>
<div class="txt" style="position:absolute; left:148px; top:8912px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">pointer. A drawing routine that gets a bad input value for color might use</span></div>
<div class="txt" style="position:absolute; left:148px; top:8951px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the default background or foreground color. </span><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">采用通用值或缺省值，如</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">0</span><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">、</span></div>
<div class="txt" style="position:absolute; left:148px; top:8994px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">空字符串、空指针等。</span></div>
<div class="txt" style="position:absolute; left:76px; top:9064px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f38" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">However, for a drawing program that shows a patient‘s X</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">-ray film,</span></div>
<div class="txt" style="position:absolute; left:112px; top:9114px;"><span id="f38" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">it is best not to display a neutral value. In this case, it’s better to</span></div>
<div class="txt" style="position:absolute; left:112px; top:9162px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">close the program than to show the wrong patient data.</span></div>
<div class="txt" style="position:absolute; left:112px; top:9205px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(Correctness, </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">not robustness) </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">对安全或生命相关的程序，则需要严格</span></div>
<div class="txt" style="position:absolute; left:112px; top:9253px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">保证正确性。</span></div>
<img id="background" style="position:absolute; left:0px; top:9602px;" width="1440" height="1080" src="page9.png"> <img id="background" style="position:absolute; left:1440px; top:9602px;" width="1440" height="1080" src="page-000009.png">
<div class="txt" style="position:absolute; left:942px; top:9618px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:9709px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">(2) Substitute the next piece of valid data</span></div>
<div class="txt" style="position:absolute; left:76px; top:9846px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Substitute the next piece of valid data </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">(Robustness) </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">用下一个有效</span></div>
<div class="txt" style="position:absolute; left:112px; top:9894px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">值替代</span></div>
<div class="txt" style="position:absolute; left:112px; top:9964px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">When processing a stream of data, some circumstances call for simply</span></div>
<div class="txt" style="position:absolute; left:148px; top:10007px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">returning the next valid data.</span></div>
<div class="txt" style="position:absolute; left:112px; top:10067px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">E.g., If you’re reading records from a database and encounter a corrupted</span></div>
<div class="txt" style="position:absolute; left:148px; top:10111px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">record, you might simply continue reading until you find a valid record. If</span></div>
<div class="txt" style="position:absolute; left:148px; top:10154px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">you’re taking readings from a thermometer 100 times per second and you</span></div>
<div class="txt" style="position:absolute; left:148px; top:10197px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">don’t get a valid reading one time, you might simply wait another 1/100th</span></div>
<div class="txt" style="position:absolute; left:148px; top:10240px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">of a second and take the next reading.</span></div>
<img id="background" style="position:absolute; left:0px; top:10796px;" width="1440" height="1080" src="page10.png"> <img id="background" style="position:absolute; left:1440px; top:10796px;" width="1440" height="1080" src="page-000010.png">
<div class="txt" style="position:absolute; left:942px; top:10812px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:10903px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">(3) Return the same answer as the previous time</span></div>
<div class="txt" style="position:absolute; left:76px; top:11043px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Return the same answer as the previous time (Robustness)</span></div>
<div class="txt" style="position:absolute; left:112px; top:11110px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">If a thermometer-</span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">reading software doesn’t get a reading one time, it might</span></div>
<div class="txt" style="position:absolute; left:148px; top:11153px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">simply return the same value as last time. Depending on the application,</span></div>
<div class="txt" style="position:absolute; left:148px; top:11196px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">temperatures might not be very likely to change much in 1/100th of a</span></div>
<div class="txt" style="position:absolute; left:148px; top:11239px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">second. In a video game, if you detect a request to paint part of the screen</span></div>
<div class="txt" style="position:absolute; left:148px; top:11283px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">an invalid color, you might simply return the same color used previously.</span></div>
<div class="txt" style="position:absolute; left:76px; top:11420px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">However, if you are managing a deal on an ATM, you may not</span></div>
<div class="txt" style="position:absolute; left:112px; top:11470px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">want to use this rule, because that is the previous user's bank</span></div>
<div class="txt" style="position:absolute; left:112px; top:11518px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">account. (Correctness)</span></div>
<img id="background" style="position:absolute; left:0px; top:11990px;" width="1440" height="1080" src="page11.png"> <img id="background" style="position:absolute; left:1440px; top:11990px;" width="1440" height="1080" src="page-000011.png">
<div class="txt" style="position:absolute; left:942px; top:12006px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:12097px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">(4) Substitute the closest legal value</span></div>
<div class="txt" style="position:absolute; left:76px; top:12237px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Substitute the closest legal value (Robustness)</span></div>
<div class="txt" style="position:absolute; left:112px; top:12304px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">In some cases, you might choose to return the closest legal value.</span></div>
<div class="txt" style="position:absolute; left:112px; top:12364px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">This is often a reasonable approach when taking readings from a</span></div>
<div class="txt" style="position:absolute; left:148px; top:12407px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">calibrated instrument. The thermometer might be calibrated between 0</span></div>
<div class="txt" style="position:absolute; left:148px; top:12451px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and 100 degrees Celsius, for example. If you detect a reading less than 0,</span></div>
<div class="txt" style="position:absolute; left:148px; top:12494px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">you can substitute 0 which is the closest legal value. If you detect a value</span></div>
<div class="txt" style="position:absolute; left:148px; top:12537px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">greater than 100, you can substitute 100.</span></div>
<div class="txt" style="position:absolute; left:112px; top:12598px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">For a string operation, if a string length is reported to be less than 0, you</span></div>
<div class="txt" style="position:absolute; left:148px; top:12641px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">could substitute 0.</span></div>
<img id="background" style="position:absolute; left:0px; top:13184px;" width="1440" height="1080" src="page12.png"> <img id="background" style="position:absolute; left:1440px; top:13184px;" width="1440" height="1080" src="page-000012.png">
<div class="txt" style="position:absolute; left:942px; top:13200px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:13291px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">(5) Log a warning message to a file</span></div>
<div class="txt" style="position:absolute; left:76px; top:13431px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Log a warning message to a file (Robustness)</span></div>
<div class="txt" style="position:absolute; left:112px; top:13498px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">When bad data is detected, you might choose to log a warning message to</span></div>
<div class="txt" style="position:absolute; left:148px; top:13541px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">a file and then continue on.</span></div>
<div class="txt" style="position:absolute; left:112px; top:13601px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">This approach can be used in conjunction with other techniques like</span></div>
<div class="txt" style="position:absolute; left:148px; top:13645px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">substituting the closest legal value or substituting the next piece of valid</span></div>
<div class="txt" style="position:absolute; left:148px; top:13688px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">data.</span></div>
<div class="txt" style="position:absolute; left:76px; top:13753px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">See 7.4 logging</span></div>
<img id="background" style="position:absolute; left:0px; top:14378px;" width="1440" height="1080" src="page13.png"> <img id="background" style="position:absolute; left:1440px; top:14378px;" width="1440" height="1080" src="page-000013.png">
<div class="txt" style="position:absolute; left:33px; top:14485px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">(6) Return an error code</span></div>
<div class="txt" style="position:absolute; left:942px; top:14394px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:14625px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Return an error code (Correctness)</span></div>
<div class="txt" style="position:absolute; left:112px; top:14692px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">You could decide that only certain parts of a system will handle errors;</span></div>
<div class="txt" style="position:absolute; left:148px; top:14735px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">other parts will not handle errors locally; they will simply report that an</span></div>
<div class="txt" style="position:absolute; left:148px; top:14778px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">error has been detected and trust that some other routine higher up in the</span></div>
<div class="txt" style="position:absolute; left:148px; top:14821px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">calling hierarchy will handle the error.</span></div>
<div class="txt" style="position:absolute; left:112px; top:14882px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The specific mechanism for notifying the rest of the system that an error</span></div>
<div class="txt" style="position:absolute; left:148px; top:14925px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">has occurred could be any of the following:</span></div>
<div class="txt" style="position:absolute; left:148px; top:14978px;"><span id="f26" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Set the value of a status variable </span><span id="f30" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,255,1);">设置状态值</span></div>
<div class="txt" style="position:absolute; left:148px; top:15024px;"><span id="f26" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f26" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Return status as the function’s return value </span><span id="f30" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,255,1);">返回状态值</span></div>
<div class="txt" style="position:absolute; left:148px; top:15070px;"><span id="f26" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f26" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Throw an exception using the language’s built</span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">-in exception mechanism</span><span id="f30" style="font-size:31px;vertical-align:baseline;color:rgba(255,0,0,1);">（ </span><span id="f13" style="font-size:31px;vertical-align:baseline;color:rgba(255,0,0,1);">See</span></div>
<div class="txt" style="position:absolute; left:184px; top:15109px;"><span id="f13" style="font-size:31px;vertical-align:baseline;color:rgba(255,0,0,1);">7.2.3 Exception handling</span><span id="f30" style="font-size:31px;vertical-align:baseline;color:rgba(255,0,0,1);">） 利用异常机制</span></div>
<div class="txt" style="position:absolute; left:112px; top:15208px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">In this case, the specific error-reporting mechanism is less important than</span></div>
<div class="txt" style="position:absolute; left:148px; top:15252px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the decision about which parts of the system will handle errors directly</span></div>
<div class="txt" style="position:absolute; left:148px; top:15295px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and which will just report that they’ve occurred. If security is an issue, be</span></div>
<div class="txt" style="position:absolute; left:148px; top:15338px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">sure that calling routines always check return codes.</span></div>
<img id="background" style="position:absolute; left:0px; top:15572px;" width="1440" height="1080" src="page14.png"> <img id="background" style="position:absolute; left:1440px; top:15572px;" width="1440" height="1080" src="page-000014.png">
<div class="txt" style="position:absolute; left:942px; top:15588px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:15679px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">(7) Call an error processing routine/object</span></div>
<div class="txt" style="position:absolute; left:76px; top:15819px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Call an error processing routine/object (Correctness)</span></div>
<div class="txt" style="position:absolute; left:112px; top:15886px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">This is to centralize error handling in a global error handling routine or</span></div>
<div class="txt" style="position:absolute; left:148px; top:15925px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">error handling object. </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">集中处理错误</span></div>
<div class="txt" style="position:absolute; left:112px; top:15989px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The advantage is that error processing responsibility can be centralized,</span></div>
<div class="txt" style="position:absolute; left:148px; top:16029px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">which can make debugging easier. </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">利于调试</span></div>
<div class="txt" style="position:absolute; left:112px; top:16093px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The tradeoff is that the whole program will know about this central</span></div>
<div class="txt" style="position:absolute; left:148px; top:16136px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">capability and will be coupled to it. If you ever want to reuse any of the</span></div>
<div class="txt" style="position:absolute; left:148px; top:16180px;"><span id="f32" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">code from the system in another system, you’ll have to drag the error</span></div>
<div class="txt" style="position:absolute; left:148px; top:16219px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">handling machinery along with the code you reuse. </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">不利于重用</span></div>
<div class="txt" style="position:absolute; left:76px; top:16360px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">This approach has an important security implication.</span></div>
<div class="txt" style="position:absolute; left:112px; top:16427px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">If your code has encountered a buffer-</span><span id="f32" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">overrun, it’s possible that an</span></div>
<div class="txt" style="position:absolute; left:148px; top:16470px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">attacker has compromised the address of the handler routine or object.</span></div>
<div class="txt" style="position:absolute; left:112px; top:16531px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Thus, once a buffer overrun has occurred while an application is running,</span></div>
<div class="txt" style="position:absolute; left:148px; top:16570px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">it is no longer safe to use this approach.</span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">一旦应用程序运行时发生缓冲区溢</span></div>
<div class="txt" style="position:absolute; left:148px; top:16614px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">出，使用此方法就不再安全。</span></div>
<img id="background" style="position:absolute; left:0px; top:16766px;" width="1440" height="1080" src="page15.png"> <img id="background" style="position:absolute; left:1440px; top:16766px;" width="1440" height="1080" src="page-000015.png">
<div class="txt" style="position:absolute; left:33px; top:16873px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">(8) Display an error message</span></div>
<div class="txt" style="position:absolute; left:942px; top:16782px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:17013px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Display an error message wherever the error is encountered</span></div>
<div class="txt" style="position:absolute; left:112px; top:17063px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(Correctness)</span></div>
<div class="txt" style="position:absolute; left:112px; top:17128px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">This approach minimizes error-handling overhead, however it does have</span></div>
<div class="txt" style="position:absolute; left:148px; top:17171px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the potential to spread user interface messages through the entire</span></div>
<div class="txt" style="position:absolute; left:148px; top:17214px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">application, which can create challenges when you need to create a</span></div>
<div class="txt" style="position:absolute; left:148px; top:17257px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">consistent user interface, try to clearly separate the UI from the rest of the</span></div>
<div class="txt" style="position:absolute; left:148px; top:17301px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">system, or try to localize the software into a different language.</span></div>
<div class="txt" style="position:absolute; left:112px; top:17361px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Also, beware of telling a potential attacker of the system too much.</span></div>
<div class="txt" style="position:absolute; left:148px; top:17404px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Attackers sometimes use error messages to discover how to attack a</span></div>
<div class="txt" style="position:absolute; left:148px; top:17447px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">system.</span></div>
<img id="background" style="position:absolute; left:0px; top:17960px;" width="1440" height="1080" src="page16.png"> <img id="background" style="position:absolute; left:1440px; top:17960px;" width="1440" height="1080" src="page-000016.png">
<div class="txt" style="position:absolute; left:33px; top:18067px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">(9) Handle the error locally</span></div>
<div class="txt" style="position:absolute; left:942px; top:17976px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:18207px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Handle the error in whatever way works best locally (Correctness)</span></div>
<div class="txt" style="position:absolute; left:112px; top:18274px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Some designs call for handling all errors locally</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">—</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the decision of which</span></div>
<div class="txt" style="position:absolute; left:148px; top:18317px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">specific error-handling method to use is left up to the programmer</span></div>
<div class="txt" style="position:absolute; left:148px; top:18360px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">designing and implementing the part of the system that encounters the</span></div>
<div class="txt" style="position:absolute; left:148px; top:18403px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">error.</span></div>
<div class="txt" style="position:absolute; left:112px; top:18464px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">This approach provides individual developers with great flexibility, but it</span></div>
<div class="txt" style="position:absolute; left:148px; top:18507px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">creates a significant risk that the overall performance of the system will</span></div>
<div class="txt" style="position:absolute; left:148px; top:18550px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">not satisfy its requirements for correctness or robustness.</span></div>
<div class="txt" style="position:absolute; left:112px; top:18611px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Depending on how developers end up handling specific errors, this</span></div>
<div class="txt" style="position:absolute; left:148px; top:18654px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">approach also has the potential to spread user interface code throughout</span></div>
<div class="txt" style="position:absolute; left:148px; top:18697px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the system, which exposes the program to all the problems associated with</span></div>
<div class="txt" style="position:absolute; left:148px; top:18740px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">displaying error messages.</span></div>
<img id="background" style="position:absolute; left:0px; top:19154px;" width="1440" height="1080" src="page17.png"> <img id="background" style="position:absolute; left:1440px; top:19154px;" width="1440" height="1080" src="page-000017.png">
<div class="txt" style="position:absolute; left:33px; top:19261px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">(10) Shutdown</span></div>
<div class="txt" style="position:absolute; left:942px; top:19170px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:19401px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Shutdown (Correctness)</span></div>
<div class="txt" style="position:absolute; left:112px; top:19468px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Some systems shut down whenever they detect an error.</span></div>
<div class="txt" style="position:absolute; left:112px; top:19528px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">This approach is useful in safety critical applications.</span></div>
<div class="txt" style="position:absolute; left:148px; top:19585px;"><span id="f22" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">For example, if the software that controls radiation equipment for treating cancer</span></div>
<div class="txt" style="position:absolute; left:184px; top:19623px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">patients receives bad input data for the radiation dosage, shutting down is the</span></div>
<div class="txt" style="position:absolute; left:184px; top:19662px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">best option.</span></div>
<div class="txt" style="position:absolute; left:148px; top:19708px;"><span id="f22" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f22" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">We’d much prefer to reboot the machine than to run the risk of delivering the</span></div>
<div class="txt" style="position:absolute; left:184px; top:19746px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">wrong dosage.</span></div>
<div class="txt" style="position:absolute; left:76px; top:19801px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A similar approach can be used to improve security of Microsoft</span></div>
<div class="txt" style="position:absolute; left:112px; top:19851px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Windows.</span></div>
<div class="txt" style="position:absolute; left:112px; top:19916px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">By default, Windows continues to operate even when its security log is</span></div>
<div class="txt" style="position:absolute; left:148px; top:19959px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">full.</span></div>
<div class="txt" style="position:absolute; left:112px; top:20020px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">But you can configure Windows to halt the server if the security log</span></div>
<div class="txt" style="position:absolute; left:148px; top:20063px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">becomes full, which can be appropriate in a security-critical environment.</span></div>
<div class="txt" style="position:absolute; left:112px; top:20119px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f42" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">当日志写满时，</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">windows</span><span id="f42" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">允许继续运行，但在严格要求安全的情况的下，</span></div>
<div class="txt" style="position:absolute; left:148px; top:20163px;"><span id="f42" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">应当停机</span></div>
<img id="background" style="position:absolute; left:0px; top:20348px;" width="1440" height="1080" src="page18.png"> <img id="background" style="position:absolute; left:1440px; top:20348px;" width="1440" height="1080" src="page-000018.png">
<div class="txt" style="position:absolute; left:942px; top:20364px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:20455px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">High-Level Design Implications of Error Processing</span></div>
<div class="txt" style="position:absolute; left:76px; top:20595px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">With so many options, you need to </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">be careful to handle invalid</span></div>
<div class="txt" style="position:absolute; left:112px; top:20640px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">parameters in consistent ways throughout the program</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">. </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">整个程序应</span></div>
<div class="txt" style="position:absolute; left:112px; top:20688px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">该采用一致的处理机制</span></div>
<div class="txt" style="position:absolute; left:76px; top:20763px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The way in which errors are handled affects the software’s ability to</span></div>
<div class="txt" style="position:absolute; left:112px; top:20813px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">meet requirements related to correctness, robustness, and other non-</span></div>
<div class="txt" style="position:absolute; left:112px; top:20856px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">functional attributes. </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">错误处理机制同程序的正确性、健壮性和其他非</span></div>
<div class="txt" style="position:absolute; left:112px; top:20904px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">功能指标密切相关</span></div>
<div class="txt" style="position:absolute; left:76px; top:20979px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Deciding on a general approach to bad parameters is an architectural</span></div>
<div class="txt" style="position:absolute; left:112px; top:21029px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">or high-level design decision and should be addressed at one of</span></div>
<div class="txt" style="position:absolute; left:112px; top:21072px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">those levels. </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">错误处理机制的决策是体系结构级别或者高层的设计决</span></div>
<div class="txt" style="position:absolute; left:112px; top:21120px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">策问题</span></div>
<div class="txt" style="position:absolute; left:76px; top:21193px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Once you decide on the approach, make sure you follow it consistently.</span></div>
<img id="background" style="position:absolute; left:0px; top:21542px;" width="1440" height="1080" src="page19.png"> <img id="background" style="position:absolute; left:1440px; top:21542px;" width="1440" height="1080" src="page-000019.png">
<div class="txt" style="position:absolute; left:942px; top:21558px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:21649px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">High-Level Design Implications of Error Processing</span></div>
<div class="txt" style="position:absolute; left:76px; top:21789px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">E.g., if you decide to have high-level code handle errors and low-</span></div>
<div class="txt" style="position:absolute; left:112px; top:21839px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">level code merely report errors, make sure the high level code</span></div>
<div class="txt" style="position:absolute; left:112px; top:21887px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">actually handles the errors!</span></div>
<div class="txt" style="position:absolute; left:76px; top:21957px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Don’t ignore error information! Test the function return value. If</span></div>
<div class="txt" style="position:absolute; left:112px; top:22007px;"><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">you don’t expect the function ever to produce an error, check it</span></div>
<div class="txt" style="position:absolute; left:112px; top:22055px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">anyway.</span></div>
<div class="txt" style="position:absolute; left:76px; top:22125px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Unless you’ve set an architectural guideline of not checking system</span></div>
<div class="txt" style="position:absolute; left:112px; top:22175px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">calls for errors, check for error codes after each call.</span></div>
<div class="txt" style="position:absolute; left:76px; top:22245px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If you detect an error, include the error number and the</span></div>
<div class="txt" style="position:absolute; left:112px; top:22295px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">description of the error.</span></div>
<div class="txt" style="position:absolute; left:76px; top:22362px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f37" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">确定错误处理机制后，要严格执行。</span></div>
<div class="txt" style="position:absolute; left:76px; top:22437px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">The whole point of defensive programming is guarding against</span></div>
<div class="txt" style="position:absolute; left:112px; top:22482px;"><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">errors you don’t expect. </span><span id="f37" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">防御性编程的重点在于防范不期望的错误。</span></div>
<img id="background" style="position:absolute; left:0px; top:22736px;" width="1440" height="1080" src="page20.png"> <img id="background" style="position:absolute; left:1440px; top:22736px;" width="1440" height="1080" src="page-000020.png">
<div class="txt" style="position:absolute; left:1105px; top:22754px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:108px; top:23113px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">2 Error and Exception Handling in Java</span></div>
<img id="background" style="position:absolute; left:0px; top:23930px;" width="1440" height="1080" src="page21.png"> <img id="background" style="position:absolute; left:1440px; top:23930px;" width="1440" height="1080" src="page-000021.png">
<div class="txt" style="position:absolute; left:33px; top:24037px;"><span id="f22" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">“Abnormals” in Java</span></div>
<div class="txt" style="position:absolute; left:942px; top:23946px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:24177px;"><span id="f10" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The base class for all Exception objects is </span><span id="f14" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">java.lang.Throwable</span><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">,</span></div>
<div class="txt" style="position:absolute; left:112px; top:24226px;"><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">together with its two subclasses </span><span id="f14" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">java.lang.Exception </span><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and</span></div>
<div class="txt" style="position:absolute; left:112px; top:24274px;"><span id="f14" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">java.lang.Error</span><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<img id="background" style="position:absolute; left:0px; top:25124px;" width="1440" height="1080" src="page22.png"> <img id="background" style="position:absolute; left:1440px; top:25124px;" width="1440" height="1080" src="page-000022.png">
<div class="txt" style="position:absolute; left:33px; top:25231px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Error and Exception</span></div>
<div class="txt" style="position:absolute; left:942px; top:25140px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:25371px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f15" style="font-size:24px;vertical-align:baseline;color:rgba(255,0,0,1);">Error </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">class describes internal system errors and resource</span></div>
<div class="txt" style="position:absolute; left:112px; top:25421px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">exhaustion situations inside the Java runtime system (e.g.,</span></div>
<div class="txt" style="position:absolute; left:112px; top:25464px;"><span id="f19" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">VirtualMachineError</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, </span><span id="f19" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">LinkageError</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">) that rarely occur. </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">Error</span><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">类描</span></div>
<div class="txt" style="position:absolute; left:112px; top:25512px;"><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">述</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">Java</span><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">虚拟机内部错误</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">资源耗尽和系统错误等</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">，多数情况下无需处</span></div>
<div class="txt" style="position:absolute; left:112px; top:25560px;"><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">理，也无法处理</span></div>
<div class="txt" style="position:absolute; left:112px; top:25630px;"><span id="f45" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">You should not throw an object of this type.</span></div>
<div class="txt" style="position:absolute; left:112px; top:25690px;"><span id="f45" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">There is little you can do if such an internal error occurs, beyond notifying</span></div>
<div class="txt" style="position:absolute; left:148px; top:25733px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the user and trying to terminate the program gracefully.</span></div>
<div class="txt" style="position:absolute; left:76px; top:25871px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:24px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f15" style="font-size:24px;vertical-align:baseline;color:rgba(255,0,0,1);">Exception </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">class describes the error caused by your program</span></div>
<div class="txt" style="position:absolute; left:112px; top:25917px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(e.g. </span><span id="f19" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">FileNotFoundException</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, </span><span id="f19" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">IOException</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">). </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">Exception</span><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">类描述程序</span></div>
<div class="txt" style="position:absolute; left:112px; top:25965px;"><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">导致的错误，需要处理</span></div>
<div class="txt" style="position:absolute; left:112px; top:26034px;"><span id="f45" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">These errors could be caught and handled by your program (e.g., perform</span></div>
<div class="txt" style="position:absolute; left:148px; top:26077px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">an alternate action or do a graceful exit by closing all the files, network</span></div>
<div class="txt" style="position:absolute; left:148px; top:26120px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and database connections).</span></div>
<img id="background" style="position:absolute; left:0px; top:26318px;" width="1440" height="1080" src="page23.png"> <img id="background" style="position:absolute; left:1440px; top:26318px;" width="1440" height="1080" src="page-000023.png">
<div class="txt" style="position:absolute; left:33px; top:26425px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">An Example</span></div>
<div class="txt" style="position:absolute; left:942px; top:26334px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<img id="background" style="position:absolute; left:0px; top:27512px;" width="1440" height="1080" src="page24.png"> <img id="background" style="position:absolute; left:1440px; top:27512px;" width="1440" height="1080" src="page-000024.png">
<div class="txt" style="position:absolute; left:1105px; top:27530px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:364px; top:27927px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(1) What is Exception?</span></div>
<img id="background" style="position:absolute; left:0px; top:28706px;" width="1440" height="1080" src="page25.png"> <img id="background" style="position:absolute; left:1440px; top:28706px;" width="1440" height="1080" src="page-000025.png">
<div class="txt" style="position:absolute; left:33px; top:28813px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Exceptions</span></div>
<div class="txt" style="position:absolute; left:942px; top:28722px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:28953px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">An exception is an </span><span id="f15" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">abnormal event </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">that arises during the execution</span></div>
<div class="txt" style="position:absolute; left:112px; top:29003px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">of the program and disrupts the normal flow of the program.</span></div>
<div class="txt" style="position:absolute; left:76px; top:29073px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Exceptions mechanism are a specific means by which code can pass</span></div>
<div class="txt" style="position:absolute; left:112px; top:29118px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">along errors or exceptional events to the code that called it. </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">异常处</span></div>
<div class="txt" style="position:absolute; left:112px; top:29166px;"><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">理机制将允许代码将错误或者异常事件传递给调用它的代码。</span></div>
<div class="txt" style="position:absolute; left:76px; top:29241px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Java allows every method an alternative exit path if it is unable to</span></div>
<div class="txt" style="position:absolute; left:112px; top:29286px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">complete its task in the normal way. </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">当方法不能正常完成时，提供</span></div>
<div class="txt" style="position:absolute; left:112px; top:29334px;"><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">了另外一个退出路径</span></div>
<div class="txt" style="position:absolute; left:112px; top:29403px;"><span id="f36" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">In this situation, the method </span><span id="f15" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,255,1);">throws </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">an object that encapsulates the error</span></div>
<div class="txt" style="position:absolute; left:148px; top:29447px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">information. The method exits immediately and does not return any value.</span></div>
<div class="txt" style="position:absolute; left:148px; top:29490px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Moreover, execution does not resume at the code that called the method;</span></div>
<div class="txt" style="position:absolute; left:148px; top:29530px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">方法抛出异常，停止执行，不返回任何值，不执行后续代码。</span></div>
<div class="txt" style="position:absolute; left:112px; top:29594px;"><span id="f36" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Instead, the </span><span id="f15" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,255,1);">exception-handling </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">mechanism begins its search for an</span></div>
<div class="txt" style="position:absolute; left:148px; top:29633px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">exception handler that can deal with this particular error condition. </span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">异常处</span></div>
<div class="txt" style="position:absolute; left:148px; top:29676px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">理机制捕获异常，寻找到可以处理此异常的代码进行处理。</span></div>
<img id="background" style="position:absolute; left:0px; top:29900px;" width="1440" height="1080" src="page26.png"> <img id="background" style="position:absolute; left:1440px; top:29900px;" width="1440" height="1080" src="page-000026.png">
<div class="txt" style="position:absolute; left:33px; top:30007px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Benefits of exceptions</span></div>
<div class="txt" style="position:absolute; left:942px; top:29916px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:30147px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">You can’t forget to handle common failure modes</span></div>
<div class="txt" style="position:absolute; left:112px; top:30214px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Compare: using a flag or special return value</span></div>
<div class="txt" style="position:absolute; left:76px; top:30279px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Provide high-level summary of error, and stack trace</span></div>
<div class="txt" style="position:absolute; left:112px; top:30346px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Compare: core dump in C</span></div>
<div class="txt" style="position:absolute; left:76px; top:30412px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Improve code structure</span></div>
<div class="txt" style="position:absolute; left:112px; top:30479px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Separate normal code path from exceptional</span></div>
<div class="txt" style="position:absolute; left:112px; top:30539px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Ease task of recovering from failure</span></div>
<div class="txt" style="position:absolute; left:76px; top:30605px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Ease task of writing robust, maintainable code</span></div>
<img id="background" style="position:absolute; left:0px; top:31094px;" width="1440" height="1080" src="page27.png"> <img id="background" style="position:absolute; left:1440px; top:31094px;" width="1440" height="1080" src="page-000027.png">
<div class="txt" style="position:absolute; left:33px; top:31201px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Benefits of exceptions</span></div>
<div class="txt" style="position:absolute; left:942px; top:31110px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:31329px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">FileInputStream fIn = new FileInputStream(fileName);</span></div>
<div class="txt" style="position:absolute; left:76px; top:31365px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">if (fIn == null) {</span></div>
<div class="txt" style="position:absolute; left:126px; top:31401px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">switch (errno) {</span></div>
<div class="txt" style="position:absolute; left:159px; top:31437px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">case _ENOFILE:</span></div>
<div class="txt" style="position:absolute; left:220px; top:31473px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.err.println</span><span id="f27" style="font-size:30px;vertical-align:baseline;color:rgba(0,0,0,1);">(“File not found:” + …);</span></div>
<div class="txt" style="position:absolute; left:220px; top:31509px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">return -1;</span></div>
<div class="txt" style="position:absolute; left:159px; top:31545px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">default:</span></div>
<div class="txt" style="position:absolute; left:220px; top:31581px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.err.println</span><span id="f27" style="font-size:30px;vertical-align:baseline;color:rgba(0,0,0,1);">(“Something else bad happened:” + …);</span></div>
<div class="txt" style="position:absolute; left:220px; top:31617px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">return -1;</span></div>
<div class="txt" style="position:absolute; left:126px; top:31653px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:76px; top:31689px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:995px; top:31702px;"><span id="f77" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">缺点：业务逻辑代码</span></div>
<div class="txt" style="position:absolute; left:76px; top:31761px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">DataInput dataInput = new DataInputStream(fIn);</span></div>
<div class="txt" style="position:absolute; left:76px; top:31797px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">if (dataInput == null) {</span></div>
<div class="txt" style="position:absolute; left:995px; top:31745px;"><span id="f77" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">与错误处理代码</span></div>
<div class="txt" style="position:absolute; left:995px; top:31788px;"><span id="f77" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">交织在一起</span></div>
<div class="txt" style="position:absolute; left:126px; top:31833px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.err.println</span><span id="f27" style="font-size:30px;vertical-align:baseline;color:rgba(0,0,0,1);">(“Unknown internal error.”);</span></div>
<div class="txt" style="position:absolute; left:126px; top:31869px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">return -1; // errno &gt; 0 set by new DataInputStream</span></div>
<div class="txt" style="position:absolute; left:76px; top:31905px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:76px; top:31941px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">int i = dataInput.readInt();</span></div>
<div class="txt" style="position:absolute; left:76px; top:31977px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">if (errno &gt; 0) {</span></div>
<div class="txt" style="position:absolute; left:126px; top:32013px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.err.println</span><span id="f27" style="font-size:30px;vertical-align:baseline;color:rgba(0,0,0,1);">(“Error reading binary data from file”);</span></div>
<div class="txt" style="position:absolute; left:126px; top:32049px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">return -1;</span></div>
<div class="txt" style="position:absolute; left:76px; top:32085px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:76px; top:32121px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">return i;</span></div>
<img id="background" style="position:absolute; left:0px; top:32288px;" width="1440" height="1080" src="page28.png"> <img id="background" style="position:absolute; left:1440px; top:32288px;" width="1440" height="1080" src="page-000028.png">
<div class="txt" style="position:absolute; left:33px; top:32395px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Benefits of exceptions</span></div>
<div class="txt" style="position:absolute; left:942px; top:32304px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:144px; top:32569px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">FileInputStream fileInput = null;</span></div>
<div class="txt" style="position:absolute; left:144px; top:32646px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">try {</span></div>
<div class="txt" style="position:absolute; left:214px; top:32684px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">fileInput = new FileInputStream(fileName);</span></div>
<div class="txt" style="position:absolute; left:214px; top:32723px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">DataInput dataInput = new DataInputStream(fileInput);</span></div>
<div class="txt" style="position:absolute; left:214px; top:32761px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">return dataInput.readInt();</span></div>
<div class="txt" style="position:absolute; left:144px; top:32800px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:144px; top:32838px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">catch(FileNotFoundException e) {</span></div>
<div class="txt" style="position:absolute; left:214px; top:32876px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Could not open file " + fileName);</span></div>
<div class="txt" style="position:absolute; left:144px; top:32915px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:144px; top:32953px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">catch (IOException e) {</span></div>
<div class="txt" style="position:absolute; left:214px; top:32991px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println</span><span id="f45" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">("Couldn’t read file: " + e);</span></div>
<div class="txt" style="position:absolute; left:144px; top:33030px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:144px; top:33068px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">finally {</span></div>
<div class="txt" style="position:absolute; left:214px; top:33107px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">if (fileInput != null) fileInput.close();</span></div>
<div class="txt" style="position:absolute; left:144px; top:33145px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:419px; top:33229px;"><span id="f56" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">业务逻辑代码与错误处理代码分离</span></div>
<img id="background" style="position:absolute; left:0px; top:33482px;" width="1440" height="1080" src="page29.png"> <img id="background" style="position:absolute; left:1440px; top:33482px;" width="1440" height="1080" src="page-000029.png">
<div class="txt" style="position:absolute; left:1105px; top:33500px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:236px; top:33897px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(2) Classification of exceptions</span></div>
<img id="background" style="position:absolute; left:0px; top:34676px;" width="1440" height="1080" src="page30.png"> <img id="background" style="position:absolute; left:1440px; top:34676px;" width="1440" height="1080" src="page-000030.png">
<div class="txt" style="position:absolute; left:942px; top:34692px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:34782px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Exceptions are derived from </span><span id="f15" style="font-size:39px;vertical-align:baseline;color:rgba(0,0,0,1);">Throwable</span></div>
<div class="txt" style="position:absolute; left:76px; top:34923px;"><span id="f10" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In Java programming language, an exception object is always an</span></div>
<div class="txt" style="position:absolute; left:112px; top:34972px;"><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">instance of a class derived from </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,255,1);">Throwable</span><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<img id="background" style="position:absolute; left:0px; top:35870px;" width="1440" height="1080" src="page31.png"> <img id="background" style="position:absolute; left:1440px; top:35870px;" width="1440" height="1080" src="page-000031.png">
<div class="txt" style="position:absolute; left:942px; top:35886px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<img id="background" style="position:absolute; left:0px; top:37064px;" width="1440" height="1080" src="page32.png"> <img id="background" style="position:absolute; left:1440px; top:37064px;" width="1440" height="1080" src="page-000032.png">
<div class="txt" style="position:absolute; left:942px; top:37080px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:37171px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">RuntimeException and Other Exceptions</span></div>
<div class="txt" style="position:absolute; left:76px; top:37311px;"><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">When doing Java programming, focus on the </span><span id="f16" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,255,1);">Exception </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">hierarchy.</span></div>
<div class="txt" style="position:absolute; left:76px; top:37383px;"><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f16" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,255,1);">Exception </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">hierarchy also splits into </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">two branches: </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">Exceptions</span></div>
<div class="txt" style="position:absolute; left:112px; top:37432px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">that derive from </span><span id="f26" style="font-size:24px;vertical-align:baseline;color:rgba(0,0,255,1);">RuntimeException </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">those that do not.</span></div>
<div class="txt" style="position:absolute; left:76px; top:37503px;"><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">General rule:</span></div>
<div class="txt" style="position:absolute; left:112px; top:37569px;"><span id="f33" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A </span><span id="f36" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">RuntimeException </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">happens because you made a programming error.</span></div>
<div class="txt" style="position:absolute; left:112px; top:37630px;"><span id="f33" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Any other exception occurs because a bad thing, such as an I/O error,</span></div>
<div class="txt" style="position:absolute; left:148px; top:37673px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">happened to your otherwise good program.</span></div>
<img id="background" style="position:absolute; left:0px; top:38258px;" width="1440" height="1080" src="page33.png"> <img id="background" style="position:absolute; left:1440px; top:38258px;" width="1440" height="1080" src="page-000033.png">
<div class="txt" style="position:absolute; left:942px; top:38274px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:38365px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Runtime Exception and Other Exceptions</span></div>
<div class="txt" style="position:absolute; left:76px; top:38505px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Exceptions that inherit from </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">RuntimeException </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">include such</span></div>
<div class="txt" style="position:absolute; left:112px; top:38555px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">problems as:</span></div>
<div class="txt" style="position:absolute; left:112px; top:38616px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A bad cast(</span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">类型转换</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<div class="txt" style="position:absolute; left:112px; top:38680px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">An out-of-bounds array access</span></div>
<div class="txt" style="position:absolute; left:112px; top:38741px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A null pointer access</span></div>
<div class="txt" style="position:absolute; left:112px; top:38801px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">……</span></div>
<div class="txt" style="position:absolute; left:76px; top:38928px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Exceptions that do not inherit from </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">RuntimeException </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">include</span></div>
<div class="txt" style="position:absolute; left:112px; top:38994px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Trying to read past the end of a file</span></div>
<div class="txt" style="position:absolute; left:112px; top:39055px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Trying to open a file that doesn’t exist</span></div>
<div class="txt" style="position:absolute; left:112px; top:39115px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Trying to find a Class object for a string that does not denote an existing</span></div>
<div class="txt" style="position:absolute; left:148px; top:39158px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">class</span></div>
<div class="txt" style="position:absolute; left:112px; top:39219px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">……</span></div>
<img id="background" style="position:absolute; left:0px; top:39452px;" width="1440" height="1080" src="page34.png"> <img id="background" style="position:absolute; left:1440px; top:39452px;" width="1440" height="1080" src="page-000034.png">
<div class="txt" style="position:absolute; left:33px; top:39559px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">RuntimeException</span></div>
<div class="txt" style="position:absolute; left:942px; top:39468px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:39699px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">If it is a </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">RuntimeException</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">, it was your fault</span></div>
<div class="txt" style="position:absolute; left:112px; top:39765px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">You could have avoided </span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">ArrayIndexOutOfBoundsException </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">by testing</span></div>
<div class="txt" style="position:absolute; left:148px; top:39809px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the array index against the array bounds.</span></div>
<div class="txt" style="position:absolute; left:112px; top:39869px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">NullPointerException </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">would not have happened had you checked</span></div>
<div class="txt" style="position:absolute; left:148px; top:39913px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">whether the variable was null before using it.</span></div>
<div class="txt" style="position:absolute; left:76px; top:40050px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f30" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">How about a file that doesn’t exist?</span></div>
<div class="txt" style="position:absolute; left:112px; top:40117px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f33" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Can’t you first check whether the file exists, and then open it?</span></div>
<div class="txt" style="position:absolute; left:112px; top:40178px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Actually, the file might be deleted right after you checked for its existence.</span></div>
<div class="txt" style="position:absolute; left:148px; top:40221px;"><span id="f33" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Thus, the notion of “existence” depends on the environment, not just on</span></div>
<div class="txt" style="position:absolute; left:148px; top:40264px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">your code.</span></div>
<img id="background" style="position:absolute; left:0px; top:40646px;" width="1440" height="1080" src="page35.png"> <img id="background" style="position:absolute; left:1440px; top:40646px;" width="1440" height="1080" src="page-000035.png">
<div class="txt" style="position:absolute; left:1105px; top:40664px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:144px; top:41061px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(3) </span><span id="f13" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Checked </span><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">and </span><span id="f13" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">unchecked </span><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">exceptions</span></div>
<img id="background" style="position:absolute; left:0px; top:41840px;" width="1440" height="1080" src="page36.png"> <img id="background" style="position:absolute; left:1440px; top:41840px;" width="1440" height="1080" src="page-000036.png">
<div class="txt" style="position:absolute; left:942px; top:41856px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:41947px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Again, the exception hierarchy in Java</span></div>
<img id="background" style="position:absolute; left:0px; top:43034px;" width="1440" height="1080" src="page37.png"> <img id="background" style="position:absolute; left:1440px; top:43034px;" width="1440" height="1080" src="page-000037.png">
<div class="txt" style="position:absolute; left:942px; top:43050px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:43141px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Checked/unchecked exceptions</span></div>
<div class="txt" style="position:absolute; left:76px; top:43281px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Unchecked exception: </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Programming error, other unrecoverable</span></div>
<div class="txt" style="position:absolute; left:112px; top:43331px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">failure (Error </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">+ RuntimeException)</span></div>
<div class="txt" style="position:absolute; left:112px; top:43396px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">No action is required for program to compile, but uncaught exception will</span></div>
<div class="txt" style="position:absolute; left:148px; top:43435px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">cause program to fail </span><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">不要求必须捕获处理</span></div>
<div class="txt" style="position:absolute; left:76px; top:43505px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Checked exception: </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">An error that every caller should be aware of</span></div>
<div class="txt" style="position:absolute; left:112px; top:43554px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and handle</span></div>
<div class="txt" style="position:absolute; left:112px; top:43619px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f32" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Must be caught or propagated, or program won’t compile (The compiler</span></div>
<div class="txt" style="position:absolute; left:148px; top:43659px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">checks that you provide exception handlers for all checked exceptions) </span><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">要</span></div>
<div class="txt" style="position:absolute; left:148px; top:43702px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">求必须捕获处理，</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">compiler</span><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">会进行检查</span></div>
<img id="background" style="position:absolute; left:0px; top:44228px;" width="1440" height="1080" src="page38.png"> <img id="background" style="position:absolute; left:1440px; top:44228px;" width="1440" height="1080" src="page-000038.png">
<div class="txt" style="position:absolute; left:942px; top:44244px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:44335px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Common </span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(255,0,0,1);">Unchecked </span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Exception Classes</span></div>
<div class="txt" style="position:absolute; left:76px; top:44475px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">ArrayIndexOutOfBoundsException</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: thrown by JVM when your</span></div>
<div class="txt" style="position:absolute; left:112px; top:44525px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">code uses an array index, which is outside the array's bounds.</span></div>
<div class="txt" style="position:absolute; left:112px; top:44590px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">int[] anArray = new int[3];</span></div>
<div class="txt" style="position:absolute; left:112px; top:44650px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println(anArray[3]);</span></div>
<div class="txt" style="position:absolute; left:112px; top:44709px;"><span id="f15" style="font-size:14px;vertical-align:baseline;color:rgba(255,0,0,1);">Exception in thread "main" </span><span id="f31" style="font-size:12px;vertical-align:baseline;color:rgba(255,0,0,1);">java.lang.ArrayIndexOutOfBoundsException: 3</span></div>
<div class="txt" style="position:absolute; left:76px; top:44824px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">NullPointerException</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: thrown by the JVM when your code</span></div>
<div class="txt" style="position:absolute; left:112px; top:44873px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">attempts to use a null reference where an object reference is</span></div>
<div class="txt" style="position:absolute; left:112px; top:44921px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">required.</span></div>
<div class="txt" style="position:absolute; left:112px; top:44986px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">String[] strs = new String[3];</span></div>
<div class="txt" style="position:absolute; left:112px; top:45047px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println(strs[0].length());</span></div>
<div class="txt" style="position:absolute; left:112px; top:45107px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(255,0,0,1);">Exception in thread "main" java.lang.NullPointerException</span></div>
<img id="background" style="position:absolute; left:0px; top:45422px;" width="1440" height="1080" src="page39.png"> <img id="background" style="position:absolute; left:1440px; top:45422px;" width="1440" height="1080" src="page-000039.png">
<div class="txt" style="position:absolute; left:942px; top:45438px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:45529px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Common </span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(255,0,0,1);">Unchecked </span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Exception Classes</span></div>
<div class="txt" style="position:absolute; left:76px; top:45669px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">NumberFormatException</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: Thrown programmatically (e.g., by</span></div>
<div class="txt" style="position:absolute; left:112px; top:45719px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Integer.parseInt()) when an attempt is made to convert a string to a</span></div>
<div class="txt" style="position:absolute; left:112px; top:45767px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">numeric type, but the string does not have the appropriate format.</span></div>
<div class="txt" style="position:absolute; left:112px; top:45832px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Integer.parseInt("abc");</span></div>
<div class="txt" style="position:absolute; left:112px; top:45892px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(255,0,0,1);">Exception in thread "main" java.lang.NumberFormatException:</span></div>
<div class="txt" style="position:absolute; left:112px; top:45935px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(255,0,0,1);">For input string: "abc"</span></div>
<div class="txt" style="position:absolute; left:76px; top:46073px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">ClassCastException</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: thrown by JVM when an attempt is made to</span></div>
<div class="txt" style="position:absolute; left:112px; top:46123px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">cast an object reference fails.</span></div>
<div class="txt" style="position:absolute; left:112px; top:46188px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Object o = new Object();</span></div>
<div class="txt" style="position:absolute; left:112px; top:46248px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Integer i = (Integer)o;</span></div>
<div class="txt" style="position:absolute; left:112px; top:46309px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(255,0,0,1);">Exception in thread "main" java.lang.ClassCastException:</span></div>
<div class="txt" style="position:absolute; left:112px; top:46352px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(255,0,0,1);">java.lang.Object cannot be cast to java.lang.Integer</span></div>
<img id="background" style="position:absolute; left:0px; top:46616px;" width="1440" height="1080" src="page40.png"> <img id="background" style="position:absolute; left:1440px; top:46616px;" width="1440" height="1080" src="page-000040.png">
<div class="txt" style="position:absolute; left:942px; top:46632px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:46723px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Common </span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(255,0,0,1);">Unchecked </span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Exception Classes</span></div>
<div class="txt" style="position:absolute; left:76px; top:46863px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">IllegalArgumentException</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: thrown programmatically to indicate</span></div>
<div class="txt" style="position:absolute; left:112px; top:46913px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">that a method has been passed an illegal or inappropriate argument.</span></div>
<div class="txt" style="position:absolute; left:112px; top:46961px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">You could re-use this exception for your own methods.</span></div>
<div class="txt" style="position:absolute; left:76px; top:47031px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">IllegalStateException</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: thrown programmatically when a method</span></div>
<div class="txt" style="position:absolute; left:112px; top:47081px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is invoked and the program is not in an appropriate state for that</span></div>
<div class="txt" style="position:absolute; left:112px; top:47129px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">method to perform its task. This typically happens when a method is</span></div>
<div class="txt" style="position:absolute; left:112px; top:47177px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">invoked out of sequence, or perhaps a method is only allowed to be</span></div>
<div class="txt" style="position:absolute; left:112px; top:47225px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">invoked once and an attempt is made to invoke it again.</span></div>
<div class="txt" style="position:absolute; left:76px; top:47295px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">NoClassDefFoundError</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: thrown by the JVM or class loader when</span></div>
<div class="txt" style="position:absolute; left:112px; top:47345px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the definition of a class cannot be found.</span></div>
<img id="background" style="position:absolute; left:0px; top:47810px;" width="1440" height="1080" src="page41.png"> <img id="background" style="position:absolute; left:1440px; top:47810px;" width="1440" height="1080" src="page-000041.png">
<div class="txt" style="position:absolute; left:942px; top:47826px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:47917px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(255,0,0,1);">Checked </span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Exception Handling Operations</span></div>
<div class="txt" style="position:absolute; left:76px; top:48057px;"><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Five keywords are used in exception handling</span><span id="f16" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">: try, catch,</span></div>
<div class="txt" style="position:absolute; left:112px; top:48106px;"><span id="f16" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">finally, throws </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and </span><span id="f16" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">throw</span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:76px; top:48249px;"><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Java’s exception handling consists of three operations:</span></div>
<div class="txt" style="position:absolute; left:112px; top:48315px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Declaring exceptions (</span><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(255,0,0,1);">throws</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<div class="txt" style="position:absolute; left:112px; top:48376px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Throwing an exception (</span><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(255,0,0,1);">throw</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<div class="txt" style="position:absolute; left:112px; top:48436px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Catching an exception (</span><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(255,0,0,1);">try, catch, finally</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<img id="background" style="position:absolute; left:0px; top:49004px;" width="1440" height="1080" src="page42.png"> <img id="background" style="position:absolute; left:1440px; top:49004px;" width="1440" height="1080" src="page-000042.png">
<div class="txt" style="position:absolute; left:942px; top:49020px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:49110px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Declaring Checked Exceptions by </span><span id="f11" style="font-size:39px;vertical-align:baseline;color:rgba(0,0,0,1);">throws</span></div>
<div class="txt" style="position:absolute; left:76px; top:49251px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A Java method can throw an exception if it encounters a situation it</span></div>
<div class="txt" style="position:absolute; left:112px; top:49301px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">cannot handle.</span></div>
<div class="txt" style="position:absolute; left:112px; top:49366px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A method will not only tell the Java compiler what values it can return, it</span></div>
<div class="txt" style="position:absolute; left:148px; top:49405px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is also going to tell the compiler what can go wrong. </span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">方法不仅可以告诉编</span></div>
<div class="txt" style="position:absolute; left:148px; top:49448px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">译器返回值是什么，也可以声明会出现什么样的错误</span></div>
<div class="txt" style="position:absolute; left:112px; top:49513px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">E.g. code that attempts to read from a file knows that the file might not</span></div>
<div class="txt" style="position:absolute; left:148px; top:49556px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">exist or that it might be empty. The code that tries to process the</span></div>
<div class="txt" style="position:absolute; left:148px; top:49599px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">information in a file therefore will need to notify the compiler that it can</span></div>
<div class="txt" style="position:absolute; left:148px; top:49642px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">throw some sort of </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">IOException</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:76px; top:49708px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">The place in which you advertise that your method can throw an</span></div>
<div class="txt" style="position:absolute; left:112px; top:49758px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">exception is the header of the method; </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the header changes to reflect</span></div>
<div class="txt" style="position:absolute; left:112px; top:49806px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the checked exceptions the method can throw.</span></div>
<div class="txt" style="position:absolute; left:381px; top:49871px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public FileInputStream(String name)</span></div>
<div class="txt" style="position:absolute; left:450px; top:49914px;"><span id="f42" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">throws FileNotFoundException</span></div>
<img id="background" style="position:absolute; left:0px; top:50198px;" width="1440" height="1080" src="page43.png"> <img id="background" style="position:absolute; left:1440px; top:50198px;" width="1440" height="1080" src="page-000043.png">
<div class="txt" style="position:absolute; left:942px; top:50214px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:50304px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Declaring Checked Exceptions by </span><span id="f11" style="font-size:39px;vertical-align:baseline;color:rgba(0,0,0,1);">throws</span></div>
<div class="txt" style="position:absolute; left:76px; top:50445px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">When you write your own methods, you don’t have to advertise</span></div>
<div class="txt" style="position:absolute; left:112px; top:50494px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">every possible </span><span id="f11" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">throwable </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">object that your method might actually</span></div>
<div class="txt" style="position:absolute; left:112px; top:50538px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">throw. </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">不需要为方法声明出所有可能的异常</span></div>
<div class="txt" style="position:absolute; left:76px; top:50613px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">To understand when (and what) you have to advertise in the</span></div>
<div class="txt" style="position:absolute; left:112px; top:50662px;"><span id="f27" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,255,1);">throws clause </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">of the methods you write, keep in mind that an</span></div>
<div class="txt" style="position:absolute; left:112px; top:50706px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">exception is thrown in any of the following four situations: </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">会抛出</span></div>
<div class="txt" style="position:absolute; left:112px; top:50754px;"><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">异常的四种情况</span></div>
<div class="txt" style="position:absolute; left:112px; top:50824px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">You call a method that throws a checked exception</span><span id="f37" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">—</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">for example, the</span></div>
<div class="txt" style="position:absolute; left:148px; top:50864px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">FileInputStream </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">constructor. </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">调用的方法抛出了异常</span></div>
<div class="txt" style="position:absolute; left:112px; top:50933px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">You detect an error and throw a checked exception with the </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">throw</span></div>
<div class="txt" style="position:absolute; left:148px; top:50973px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">statement. </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">自己的方法抛出了异常</span></div>
<div class="txt" style="position:absolute; left:112px; top:51042px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">You make a programming error, such as </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">a[-1] = 0 </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">that gives rise to an</span></div>
<div class="txt" style="position:absolute; left:148px; top:51084px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">unchecked exception (</span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">ArrayIndexOutOfBoundsException</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">). </span><span id="f23" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,255,1);">程序存在错误</span></div>
<div class="txt" style="position:absolute; left:112px; top:51144px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">An internal error occurs in the virtual machine or runtime library. </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">虚拟机</span></div>
<div class="txt" style="position:absolute; left:148px; top:51192px;"><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">或者运行时类库错误</span></div>
<img id="background" style="position:absolute; left:0px; top:51392px;" width="1440" height="1080" src="page44.png"> <img id="background" style="position:absolute; left:1440px; top:51392px;" width="1440" height="1080" src="page-000044.png">
<div class="txt" style="position:absolute; left:942px; top:51408px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:51498px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Declaring Checked Exceptions by </span><span id="f11" style="font-size:39px;vertical-align:baseline;color:rgba(0,0,0,1);">throws</span></div>
<div class="txt" style="position:absolute; left:76px; top:51639px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">If either of the first two scenarios occurs, you must tell the</span></div>
<div class="txt" style="position:absolute; left:112px; top:51689px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">programmers who will use your method about the possibility of an</span></div>
<div class="txt" style="position:absolute; left:112px; top:51732px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">exception. </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">前两种情况需要声明</span></div>
<div class="txt" style="position:absolute; left:112px; top:51802px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Any method that throws an exception is a potential death trap.</span></div>
<div class="txt" style="position:absolute; left:112px; top:51862px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">If no handler catches the exception, the current thread of execution</span></div>
<div class="txt" style="position:absolute; left:148px; top:51905px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">terminates.</span></div>
<div class="txt" style="position:absolute; left:76px; top:51971px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">As with Java methods that are part of the supplied classes, you</span></div>
<div class="txt" style="position:absolute; left:112px; top:52021px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">declare that your method may </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">throw an exception </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">with an</span></div>
<div class="txt" style="position:absolute; left:112px; top:52068px;"><span id="f33" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">exception specification </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">in the method header.</span></div>
<div class="txt" style="position:absolute; left:139px; top:52149px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">class MyAnimation {</span></div>
<div class="txt" style="position:absolute; left:191px; top:52215px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">...</span></div>
<div class="txt" style="position:absolute; left:191px; top:52275px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public Image loadImage(String s) throws </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,255,1);">IOException</span></div>
<div class="txt" style="position:absolute; left:191px; top:52336px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">{...}</span></div>
<div class="txt" style="position:absolute; left:112px; top:52396px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:52586px;" width="1440" height="1080" src="page45.png"> <img id="background" style="position:absolute; left:1440px; top:52586px;" width="1440" height="1080" src="page-000045.png">
<div class="txt" style="position:absolute; left:942px; top:52602px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:52693px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Declare more than one Checked Exceptions</span></div>
<div class="txt" style="position:absolute; left:76px; top:52833px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If a method might </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">throw more than one checked exception type,</span></div>
<div class="txt" style="position:absolute; left:112px; top:52883px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">you must list all exception classes in the header. Separate them by</span></div>
<div class="txt" style="position:absolute; left:112px; top:52931px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">commas, as in the following example</span></div>
<div class="txt" style="position:absolute; left:88px; top:53026px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">class MyAnimation {</span></div>
<div class="txt" style="position:absolute; left:158px; top:53083px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">...</span></div>
<div class="txt" style="position:absolute; left:158px; top:53141px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public Image loadImage(String s)</span></div>
<div class="txt" style="position:absolute; left:376px; top:53179px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">throws </span><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,255,1);">FileNotFoundException, EOFException</span></div>
<div class="txt" style="position:absolute; left:158px; top:53237px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:193px; top:53295px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">...</span></div>
<div class="txt" style="position:absolute; left:158px; top:53352px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:88px; top:53410px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:53780px;" width="1440" height="1080" src="page46.png"> <img id="background" style="position:absolute; left:1440px; top:53780px;" width="1440" height="1080" src="page-000046.png">
<div class="txt" style="position:absolute; left:942px; top:53796px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:53886px;"><span id="f10" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Don’t throw </span><span id="f12" style="font-size:39px;vertical-align:baseline;color:rgba(0,0,0,1);">Error </span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">and unchecked exceptions</span></div>
<div class="txt" style="position:absolute; left:76px; top:54027px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Do not need to advertise internal Java errors</span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">—</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">that is, exceptions</span></div>
<div class="txt" style="position:absolute; left:112px; top:54072px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">inheriting from </span><span id="f12" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">Error</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">. </span><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">不需要声明</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">Error</span><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">类型的异常</span></div>
<div class="txt" style="position:absolute; left:112px; top:54142px;"><span id="f32" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Any code could potentially throw those exceptions, and they are entirely</span></div>
<div class="txt" style="position:absolute; left:148px; top:54185px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">beyond your control.</span></div>
<div class="txt" style="position:absolute; left:76px; top:54251px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Similarly, you should not advertise unchecked exceptions</span></div>
<div class="txt" style="position:absolute; left:112px; top:54296px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">inheriting from </span><span id="f12" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">RuntimeException</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">.</span><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">不需要声明</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">RuntimeException</span></div>
<div class="txt" style="position:absolute; left:112px; top:54344px;"><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">类型的异常</span></div>
<div class="txt" style="position:absolute; left:112px; top:54413px;"><span id="f32" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">These runtime errors are completely under your control.</span></div>
<div class="txt" style="position:absolute; left:112px; top:54474px;"><span id="f32" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">If you are so concerned about array index errors, you should spend your</span></div>
<div class="txt" style="position:absolute; left:148px; top:54517px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">time fixing them instead of advertising the possibility that they can</span></div>
<div class="txt" style="position:absolute; left:148px; top:54560px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">happen.</span></div>
<div class="txt" style="position:absolute; left:178px; top:54685px;"><span id="f12" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">void drawImage(int i) throws </span><span id="f12" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,255,1);">ArrayIndexOutOfBoundsException</span></div>
<div class="txt" style="position:absolute; left:178px; top:54742px;"><span id="f12" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,255,1);">// bad style</span></div>
<img id="background" style="position:absolute; left:0px; top:54974px;" width="1440" height="1080" src="page47.png"> <img id="background" style="position:absolute; left:1440px; top:54974px;" width="1440" height="1080" src="page-000047.png">
<div class="txt" style="position:absolute; left:33px; top:55081px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary</span></div>
<div class="txt" style="position:absolute; left:942px; top:54990px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:55221px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary:</span></div>
<div class="txt" style="position:absolute; left:112px; top:55284px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A method must declare all the </span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">checked </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">exceptions that it might throw.</span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">一个</span></div>
<div class="txt" style="position:absolute; left:148px; top:55327px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">方法必须声明它可能抛出的所有</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">checked</span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">异常。</span></div>
<div class="txt" style="position:absolute; left:112px; top:55391px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">If your method fails to faithfully declare all checked exceptions, the</span></div>
<div class="txt" style="position:absolute; left:148px; top:55431px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">compiler will issue an error message. </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Compiler</span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">会检查是否所有</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">checked</span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">异</span></div>
<div class="txt" style="position:absolute; left:148px; top:55474px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">常都被正确声明了</span></div>
<div class="txt" style="position:absolute; left:112px; top:55538px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Unchecked exceptions are either beyond your control (Error) or result</span></div>
<div class="txt" style="position:absolute; left:148px; top:55582px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">from conditions that you should not have allowed in the first place</span></div>
<div class="txt" style="position:absolute; left:148px; top:55621px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">(RuntimeException). </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Unchecked</span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">异常不需要处理</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">要么无法处理，要么不</span></div>
<div class="txt" style="position:absolute; left:148px; top:55664px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">应该发生</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span></div>
<img id="background" style="position:absolute; left:0px; top:56168px;" width="1440" height="1080" src="page48.png"> <img id="background" style="position:absolute; left:1440px; top:56168px;" width="1440" height="1080" src="page-000048.png">
<div class="txt" style="position:absolute; left:33px; top:56275px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary</span></div>
<div class="txt" style="position:absolute; left:942px; top:56184px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:56415px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Caution:</span></div>
<div class="txt" style="position:absolute; left:112px; top:56482px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">If you override a method from a superclass, the checked exceptions that</span></div>
<div class="txt" style="position:absolute; left:148px; top:56525px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">subclass method declares cannot be more general than those of the</span></div>
<div class="txt" style="position:absolute; left:148px; top:56564px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">superclass method. </span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">如果子类中重写超类的方法，则子类方法声明的受检查</span></div>
<div class="txt" style="position:absolute; left:148px; top:56608px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">异常不能比超类方法更普遍。</span></div>
<div class="txt" style="position:absolute; left:112px; top:56732px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">It is OK to throw more specific exceptions, or not to throw any exceptions</span></div>
<div class="txt" style="position:absolute; left:148px; top:56772px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">in the subclass method. </span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">可以抛出更特定的异常</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">子类型</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">，或者不要在子类</span></div>
<div class="txt" style="position:absolute; left:148px; top:56815px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">方法中抛出任何异常。</span></div>
<div class="txt" style="position:absolute; left:112px; top:56940px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">In particular, if the superclass method throws no checked exception at all,</span></div>
<div class="txt" style="position:absolute; left:148px; top:56979px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">neither can the subclass. </span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">如果超类方法根本不抛出</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">checked</span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">异常，那么子类</span></div>
<div class="txt" style="position:absolute; left:148px; top:57022px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">中方法</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">重写</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">也不应抛出。</span></div>
<img id="background" style="position:absolute; left:0px; top:57362px;" width="1440" height="1080" src="page49.png"> <img id="background" style="position:absolute; left:1440px; top:57362px;" width="1440" height="1080" src="page-000049.png">
<div class="txt" style="position:absolute; left:1105px; top:57380px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:217px; top:57777px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(4) How to Throw an Exception</span></div>
<img id="background" style="position:absolute; left:0px; top:58556px;" width="1440" height="1080" src="page50.png"> <img id="background" style="position:absolute; left:1440px; top:58556px;" width="1440" height="1080" src="page-000050.png">
<div class="txt" style="position:absolute; left:33px; top:58663px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">How to Throw an Exception</span></div>
<div class="txt" style="position:absolute; left:942px; top:58572px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:58803px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Suppose you have a method, </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">readData</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, that is reading in a file.</span></div>
<div class="txt" style="position:absolute; left:112px; top:58853px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Something terrible has happened in your code.</span></div>
<div class="txt" style="position:absolute; left:76px; top:58923px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">You may decide this situation is so abnormal that you want to</span></div>
<div class="txt" style="position:absolute; left:112px; top:58972px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">throw an exception </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">EOFException </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">with the description “Signals</span></div>
<div class="txt" style="position:absolute; left:112px; top:59021px;"><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">that an EOF has been reached unexpectedly during input.”</span></div>
<div class="txt" style="position:absolute; left:125px; top:59111px;"><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,255,1);">throw new EOFException();</span></div>
<div class="txt" style="position:absolute; left:125px; top:59207px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">or</span></div>
<div class="txt" style="position:absolute; left:125px; top:59303px;"><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,255,1);">EOFException e = new EOFException();</span></div>
<div class="txt" style="position:absolute; left:125px; top:59351px;"><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,255,1);">throw e;</span></div>
<img id="background" style="position:absolute; left:0px; top:59750px;" width="1440" height="1080" src="page51.png"> <img id="background" style="position:absolute; left:1440px; top:59750px;" width="1440" height="1080" src="page-000051.png">
<div class="txt" style="position:absolute; left:33px; top:59857px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">How to Throw an Exception</span></div>
<div class="txt" style="position:absolute; left:942px; top:59766px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:88px; top:60052px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">String readData(Scanner in) </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,255,1);">throws EOFException</span></div>
<div class="txt" style="position:absolute; left:88px; top:60095px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:166px; top:60139px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">...</span></div>
<div class="txt" style="position:absolute; left:166px; top:60182px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">while (. . .)</span></div>
<div class="txt" style="position:absolute; left:166px; top:60225px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:246px; top:60268px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">if (!in.hasNext()) // EOF encountered</span></div>
<div class="txt" style="position:absolute; left:246px; top:60311px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:324px; top:60355px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">if (n &lt; len)</span></div>
<div class="txt" style="position:absolute; left:443px; top:60398px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,255,1);">throw new EOFException();</span></div>
<div class="txt" style="position:absolute; left:265px; top:60441px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:285px; top:60484px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">...</span></div>
<div class="txt" style="position:absolute; left:186px; top:60528px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:206px; top:60571px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">return s;</span></div>
<div class="txt" style="position:absolute; left:88px; top:60614px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:60944px;" width="1440" height="1080" src="page52.png"> <img id="background" style="position:absolute; left:1440px; top:60944px;" width="1440" height="1080" src="page-000052.png">
<div class="txt" style="position:absolute; left:33px; top:61051px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">How to Throw an Exception</span></div>
<div class="txt" style="position:absolute; left:942px; top:60960px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:79px; top:61202px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f15" style="font-size:24px;vertical-align:baseline;color:rgba(0,0,0,1);">EOFException </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">has a second constructor that takes a </span><span id="f15" style="font-size:24px;vertical-align:baseline;color:rgba(0,0,0,1);">string</span></div>
<div class="txt" style="position:absolute; left:115px; top:61252px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">argument.</span></div>
<div class="txt" style="position:absolute; left:79px; top:61322px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">You can put this to good use by describing the exceptional</span></div>
<div class="txt" style="position:absolute; left:115px; top:61372px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">condition more carefully.</span></div>
<div class="txt" style="position:absolute; left:110px; top:61568px;"><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">String gripe = "Content-length: " + len + ", Received: " + n;</span></div>
<div class="txt" style="position:absolute; left:110px; top:61654px;"><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">throw new EOFException(gripe);</span></div>
<img id="background" style="position:absolute; left:0px; top:62138px;" width="1440" height="1080" src="page53.png"> <img id="background" style="position:absolute; left:1440px; top:62138px;" width="1440" height="1080" src="page-000053.png">
<div class="txt" style="position:absolute; left:33px; top:62245px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">How to Throw an Exception</span></div>
<div class="txt" style="position:absolute; left:942px; top:62154px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:62385px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Throwing an exception is easy if one of the existing exception</span></div>
<div class="txt" style="position:absolute; left:112px; top:62435px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">classes works for you:</span></div>
<div class="txt" style="position:absolute; left:112px; top:62496px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Find an appropriate exception class. </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">找到或者设计合适的异常类</span></div>
<div class="txt" style="position:absolute; left:112px; top:62556px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Make an object of that class. </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">创建异常类的对象</span></div>
<div class="txt" style="position:absolute; left:112px; top:62617px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Throw it. </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">抛出</span></div>
<div class="txt" style="position:absolute; left:76px; top:62747px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Once a method throws an exception, it does not return to its caller.</span></div>
<div class="txt" style="position:absolute; left:112px; top:62797px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">This means you do not have to worry about cooking up a default</span></div>
<div class="txt" style="position:absolute; left:112px; top:62840px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">return value or an error code. </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">一旦方法抛出一个异常，它就不会返回</span></div>
<div class="txt" style="position:absolute; left:112px; top:62888px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">到调用者，这意味着不需要担心会产生默认返回值或错误编码。</span></div>
<img id="background" style="position:absolute; left:0px; top:63332px;" width="1440" height="1080" src="page54.png"> <img id="background" style="position:absolute; left:1440px; top:63332px;" width="1440" height="1080" src="page-000054.png">
<div class="txt" style="position:absolute; left:1105px; top:63350px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:237px; top:63747px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(5) Creating Exception Classes</span></div>
<img id="background" style="position:absolute; left:0px; top:64526px;" width="1440" height="1080" src="page55.png"> <img id="background" style="position:absolute; left:1440px; top:64526px;" width="1440" height="1080" src="page-000055.png">
<div class="txt" style="position:absolute; left:33px; top:64633px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Creating Exception Classes</span></div>
<div class="txt" style="position:absolute; left:942px; top:64542px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:64773px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Your code may run into a problem which is not adequately</span></div>
<div class="txt" style="position:absolute; left:112px; top:64823px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">described by any of the standard exception classes.</span></div>
<div class="txt" style="position:absolute; left:76px; top:64893px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In this case, it is easy enough to create your own exception class.</span></div>
<div class="txt" style="position:absolute; left:76px; top:65037px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Just </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">derive it from </span><span id="f21" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">Exception</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, or </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">from a child class of </span><span id="f21" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">Exception</span></div>
<div class="txt" style="position:absolute; left:112px; top:65086px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">such as </span><span id="f21" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">IOException</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:76px; top:65157px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">It is customary to </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">give both a default constructor and a constructor</span></div>
<div class="txt" style="position:absolute; left:112px; top:65202px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">that contains a detailed message.</span><span id="f34" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">习惯上同时给出一个默认构造函数</span></div>
<div class="txt" style="position:absolute; left:112px; top:65250px;"><span id="f34" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">和一个包含详细消息的构造函数。</span></div>
<div class="txt" style="position:absolute; left:112px; top:65320px;"><span id="f38" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f21" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">toString </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">method of the </span><span id="f21" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Throwable </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">superclass returns a string</span></div>
<div class="txt" style="position:absolute; left:148px; top:65363px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">containing that detailed message, which is handy for debugging.</span></div>
<img id="background" style="position:absolute; left:0px; top:65720px;" width="1440" height="1080" src="page56.png"> <img id="background" style="position:absolute; left:1440px; top:65720px;" width="1440" height="1080" src="page-000056.png">
<div class="txt" style="position:absolute; left:38px; top:65826px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Creating Exception Classes</span></div>
<div class="txt" style="position:absolute; left:942px; top:65736px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:58px; top:65960px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(192,0,0,1);">class FileFormatException extends IOException</span></div>
<div class="txt" style="position:absolute; left:58px; top:65998px;"><span id="f16" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:128px; top:66037px;"><span id="f16" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public FileFormatException() {}</span></div>
<div class="txt" style="position:absolute; left:128px; top:66075px;"><span id="f16" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public FileFormatException(String gripe)</span></div>
<div class="txt" style="position:absolute; left:128px; top:66113px;"><span id="f16" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:198px; top:66152px;"><span id="f16" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">super(gripe);</span></div>
<div class="txt" style="position:absolute; left:128px; top:66190px;"><span id="f16" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:58px; top:66229px;"><span id="f16" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:246px; top:66330px;"><span id="f16" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">String readData(BufferedReader in) throws FileFormatException {</span></div>
<div class="txt" style="position:absolute; left:317px; top:66368px;"><span id="f16" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">...</span></div>
<div class="txt" style="position:absolute; left:317px; top:66407px;"><span id="f16" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">while (. . .){</span></div>
<div class="txt" style="position:absolute; left:387px; top:66445px;"><span id="f16" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">if (ch == -1) { // EOF encountered</span></div>
<div class="txt" style="position:absolute; left:457px; top:66484px;"><span id="f16" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">if (n &lt; len)</span></div>
<div class="txt" style="position:absolute; left:527px; top:66522px;"><span id="f16" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">throw new FileFormatException();</span></div>
<div class="txt" style="position:absolute; left:387px; top:66560px;"><span id="f16" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:387px; top:66599px;"><span id="f16" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">...</span></div>
<div class="txt" style="position:absolute; left:317px; top:66637px;"><span id="f16" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:317px; top:66676px;"><span id="f16" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">return s;</span></div>
<div class="txt" style="position:absolute; left:246px; top:66714px;"><span id="f16" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:66914px;" width="1440" height="1080" src="page57.png"> <img id="background" style="position:absolute; left:1440px; top:66914px;" width="1440" height="1080" src="page-000057.png">
<div class="txt" style="position:absolute; left:1105px; top:66932px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:342px; top:67329px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(6) Catching Exceptions</span></div>
<img id="background" style="position:absolute; left:0px; top:68108px;" width="1440" height="1080" src="page58.png"> <img id="background" style="position:absolute; left:1440px; top:68108px;" width="1440" height="1080" src="page-000058.png">
<div class="txt" style="position:absolute; left:33px; top:68215px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Catching Exceptions</span></div>
<div class="txt" style="position:absolute; left:942px; top:68124px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:68355px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If an exception occurs that is not caught anywhere, the program</span></div>
<div class="txt" style="position:absolute; left:112px; top:68405px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">will terminate and print a message to the console, giving the type</span></div>
<div class="txt" style="position:absolute; left:112px; top:68453px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">of the exception and a stack trace.</span></div>
<div class="txt" style="position:absolute; left:76px; top:68523px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">GUI programs catch exceptions, print stack trace messages, and</span></div>
<div class="txt" style="position:absolute; left:112px; top:68573px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">then go back to the user interface processing loop.</span></div>
<div class="txt" style="position:absolute; left:76px; top:68643px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">To catch an exception, set up a </span><span id="f22" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">try/catch </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">block :</span></div>
<div class="txt" style="position:absolute; left:303px; top:68768px;"><span id="f22" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">try {</span></div>
<div class="txt" style="position:absolute; left:373px; top:68806px;"><span id="f22" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">code</span></div>
<div class="txt" style="position:absolute; left:373px; top:68845px;"><span id="f22" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">more code</span></div>
<div class="txt" style="position:absolute; left:373px; top:68883px;"><span id="f22" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">more code</span></div>
<div class="txt" style="position:absolute; left:303px; top:68921px;"><span id="f22" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:303px; top:68960px;"><span id="f22" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">catch (ExceptionType e) {</span></div>
<div class="txt" style="position:absolute; left:373px; top:68998px;"><span id="f22" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">handler for this type</span></div>
<div class="txt" style="position:absolute; left:303px; top:69037px;"><span id="f22" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:69302px;" width="1440" height="1080" src="page59.png"> <img id="background" style="position:absolute; left:1440px; top:69302px;" width="1440" height="1080" src="page-000059.png">
<div class="txt" style="position:absolute; left:33px; top:69409px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Catching Exceptions</span></div>
<div class="txt" style="position:absolute; left:942px; top:69318px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:69549px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If any code inside the </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">try </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">block throws an exception of the class</span></div>
<div class="txt" style="position:absolute; left:112px; top:69599px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">specified in the catch clause, then</span></div>
<div class="txt" style="position:absolute; left:112px; top:69663px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The program skips the remainder of the code in the </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">try block</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:112px; top:69724px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The program executes the handler code inside the </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">catch clause</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:121px; top:69781px;"><span id="f30" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">当</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">try</span><span id="f30" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">块中出现异常时，将忽略出现异常位置之后的代码，由</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">catch</span><span id="f30" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">子句进行异</span></div>
<div class="txt" style="position:absolute; left:112px; top:69824px;"><span id="f30" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">常处理。</span></div>
<div class="txt" style="position:absolute; left:112px; top:69949px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">If none of the code inside the </span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">try </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">block throws an exception, then the</span></div>
<div class="txt" style="position:absolute; left:148px; top:69988px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">program skips </span><span id="f47" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,255,1);">the catch clause</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">. </span><span id="f30" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">无异常时，</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">catch</span><span id="f30" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">子句不执行</span></div>
<div class="txt" style="position:absolute; left:112px; top:70053px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">If any of the code in a method throws an exception of a type other than the</span></div>
<div class="txt" style="position:absolute; left:148px; top:70096px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">one named in the </span><span id="f47" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,255,1);">catch clause</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, this method exits immediately. (Hopefully,</span></div>
<div class="txt" style="position:absolute; left:148px; top:70135px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">one of its callers has already provided a catch clause for that type.) </span><span id="f30" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">如果</span></div>
<div class="txt" style="position:absolute; left:148px; top:70178px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">catch</span><span id="f30" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">语句中没有匹配的异常处理，则被访问的程序退出。</span></div>
<img id="background" style="position:absolute; left:0px; top:70496px;" width="1440" height="1080" src="page60.png"> <img id="background" style="position:absolute; left:1440px; top:70496px;" width="1440" height="1080" src="page-000060.png">
<div class="txt" style="position:absolute; left:33px; top:70603px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Catching Exceptions</span></div>
<div class="txt" style="position:absolute; left:942px; top:70512px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:88px; top:70782px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public void read(String filename) {</span></div>
<div class="txt" style="position:absolute; left:173px; top:70858px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(255,0,0,1);">try {</span></div>
<div class="txt" style="position:absolute; left:258px; top:70897px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">InputStream in = new FileInputStream(filename);</span></div>
<div class="txt" style="position:absolute; left:258px; top:70935px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">int b;</span></div>
<div class="txt" style="position:absolute; left:258px; top:70974px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">while ((b = in.read()) != -1) {</span></div>
<div class="txt" style="position:absolute; left:343px; top:71012px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">process input...</span></div>
<div class="txt" style="position:absolute; left:258px; top:71050px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:173px; top:71089px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:173px; top:71127px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(255,0,0,1);">catch (IOException exception) {</span></div>
<div class="txt" style="position:absolute; left:258px; top:71166px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">exception.printStackTrace();</span></div>
<div class="txt" style="position:absolute; left:173px; top:71204px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:88px; top:71242px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:71690px;" width="1440" height="1080" src="page61.png"> <img id="background" style="position:absolute; left:1440px; top:71690px;" width="1440" height="1080" src="page-000061.png">
<div class="txt" style="position:absolute; left:942px; top:71706px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:71797px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Pass the exception on to the caller</span></div>
<div class="txt" style="position:absolute; left:54px; top:71925px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Another choice to handle the exceptions: </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">do nothing at all and</span></div>
<div class="txt" style="position:absolute; left:90px; top:71974px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">simply pass the exception on to the caller. </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">另一种处理异常的策略：将异</span></div>
<div class="txt" style="position:absolute; left:90px; top:72019px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">常处理交给调用者，某些情况下，调用者更清楚如何处理。</span></div>
<div class="txt" style="position:absolute; left:90px; top:72083px;"><span id="f24" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Let the caller of the read method worry about it!</span></div>
<div class="txt" style="position:absolute; left:90px; top:72143px;"><span id="f24" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Might be the best choice (prefer more correctness to robustness).</span></div>
<div class="txt" style="position:absolute; left:54px; top:72209px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If we take that approach, then we have to advertise the fact that the</span></div>
<div class="txt" style="position:absolute; left:90px; top:72257px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">method may throw an IOException. </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">此时，需要在方法声明中声明异常</span></div>
<div class="txt" style="position:absolute; left:144px; top:72338px;"><span id="f46" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public void read(String filename) </span><span id="f46" style="font-size:14px;vertical-align:baseline;color:rgba(255,0,0,1);">throws IOException </span><span id="f46" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:229px; top:72377px;"><span id="f46" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">InputStream in = new FileInputStream(filename);</span></div>
<div class="txt" style="position:absolute; left:229px; top:72415px;"><span id="f46" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">int b;</span></div>
<div class="txt" style="position:absolute; left:229px; top:72454px;"><span id="f46" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">while ((b = in.read()) != -1) {</span></div>
<div class="txt" style="position:absolute; left:314px; top:72492px;"><span id="f46" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">process input</span></div>
<div class="txt" style="position:absolute; left:229px; top:72531px;"><span id="f46" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:144px; top:72569px;"><span id="f46" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:54px; top:72617px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The compiler strictly enforces the throws specifiers. If you call a</span></div>
<div class="txt" style="position:absolute; left:90px; top:72667px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">method that throws a checked exception, you must either handle it</span></div>
<div class="txt" style="position:absolute; left:90px; top:72713px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">or pass it on. </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">调用声明了</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">checked</span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">异常的方法，则必须处理异常或继续传递。</span></div>
<img id="background" style="position:absolute; left:0px; top:72884px;" width="1440" height="1080" src="page62.png"> <img id="background" style="position:absolute; left:1440px; top:72884px;" width="1440" height="1080" src="page-000062.png">
<div class="txt" style="position:absolute; left:942px; top:72900px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:72991px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Try/catch and throw an exception?</span></div>
<div class="txt" style="position:absolute; left:76px; top:73131px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">As a general rule, </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">you should catch those exceptions that you know</span></div>
<div class="txt" style="position:absolute; left:112px; top:73181px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">how to handle </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">propagate those that you do not know how to</span></div>
<div class="txt" style="position:absolute; left:112px; top:73227px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">handle. </span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">准则：处理知道如何处理的异常，传播不知道如何处理的异常。</span></div>
<div class="txt" style="position:absolute; left:76px; top:73299px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">When you propagate an exception, you must add a throws specifier</span></div>
<div class="txt" style="position:absolute; left:112px; top:73347px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to alert the caller that an exception may be thrown. </span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">传播异常时，通过</span></div>
<div class="txt" style="position:absolute; left:112px; top:73392px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">throws</span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">通知调用者处理。</span></div>
<div class="txt" style="position:absolute; left:76px; top:73461px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Notice:</span></div>
<div class="txt" style="position:absolute; left:112px; top:73528px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">If you are writing a method that overrides a superclass method which</span></div>
<div class="txt" style="position:absolute; left:148px; top:73571px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">throws no exceptions, then you must catch each checked exception in the</span></div>
<div class="txt" style="position:absolute; left:148px; top:73611px;"><span id="f38" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">method’s code. </span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">如果子类方法重写了父类方法，父类方法没有抛出异常，则</span></div>
<div class="txt" style="position:absolute; left:148px; top:73654px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">子类方法中需要</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">catch</span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">所有的</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">checked</span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">异常</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">不能继续传播</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span></div>
<div class="txt" style="position:absolute; left:112px; top:73718px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">You are not allowed to add more throws specifiers to a subclass method</span></div>
<div class="txt" style="position:absolute; left:148px; top:73758px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">that are present in the superclass method. </span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">子类继承自父类的方法，在子类</span></div>
<div class="txt" style="position:absolute; left:148px; top:73801px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">中不能增加异常</span></div>
<img id="background" style="position:absolute; left:0px; top:74078px;" width="1440" height="1080" src="page63.png"> <img id="background" style="position:absolute; left:1440px; top:74078px;" width="1440" height="1080" src="page-000063.png">
<div class="txt" style="position:absolute; left:942px; top:74094px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:74185px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Get detailed information from an Exception</span></div>
<div class="txt" style="position:absolute; left:76px; top:74325px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The exception object may contain information about the nature of</span></div>
<div class="txt" style="position:absolute; left:112px; top:74375px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the exception.</span></div>
<div class="txt" style="position:absolute; left:112px; top:74439px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">To find out more about the object, try </span><span id="f19" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">e.getMessage() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">to get the detailed</span></div>
<div class="txt" style="position:absolute; left:148px; top:74483px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">error message (if there is one)</span></div>
<div class="txt" style="position:absolute; left:112px; top:74543px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Use </span><span id="f19" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">e.getClass().getName() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">to get the actual type of the exception</span></div>
<div class="txt" style="position:absolute; left:148px; top:74587px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">object.</span></div>
<img id="background" style="position:absolute; left:0px; top:75272px;" width="1440" height="1080" src="page64.png"> <img id="background" style="position:absolute; left:1440px; top:75272px;" width="1440" height="1080" src="page-000064.png">
<div class="txt" style="position:absolute; left:33px; top:75379px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Catching Multiple Exceptions</span></div>
<div class="txt" style="position:absolute; left:942px; top:75288px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:75519px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">You can catch multiple exception types in a try block and handle</span></div>
<div class="txt" style="position:absolute; left:112px; top:75569px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">each type differently.</span></div>
<div class="txt" style="position:absolute; left:76px; top:75639px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Use a separate catch clause for each type as in the following</span></div>
<div class="txt" style="position:absolute; left:112px; top:75689px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">example:</span></div>
<div class="txt" style="position:absolute; left:201px; top:75773px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">try {</span></div>
<div class="txt" style="position:absolute; left:286px; top:75811px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">code that might throw exceptions</span></div>
<div class="txt" style="position:absolute; left:201px; top:75850px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:201px; top:75888px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">catch (FileNotFoundException e) {</span></div>
<div class="txt" style="position:absolute; left:286px; top:75927px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">emergency action for missing files</span></div>
<div class="txt" style="position:absolute; left:201px; top:75965px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:201px; top:76003px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">catch (UnknownHostException e) {</span></div>
<div class="txt" style="position:absolute; left:286px; top:76042px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">emergency action for unknown hosts</span></div>
<div class="txt" style="position:absolute; left:201px; top:76080px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:201px; top:76119px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">catch (IOException e) {</span></div>
<div class="txt" style="position:absolute; left:286px; top:76157px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">emergency action for all other I/O problems</span></div>
<div class="txt" style="position:absolute; left:201px; top:76195px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:76466px;" width="1440" height="1080" src="page65.png"> <img id="background" style="position:absolute; left:1440px; top:76466px;" width="1440" height="1080" src="page-000065.png">
<div class="txt" style="position:absolute; left:1105px; top:76484px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:253px; top:76795px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(7) Rethrowing and Chaining</span></div>
<div class="txt" style="position:absolute; left:546px; top:76881px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Exceptions</span></div>
<img id="background" style="position:absolute; left:0px; top:77660px;" width="1440" height="1080" src="page66.png"> <img id="background" style="position:absolute; left:1440px; top:77660px;" width="1440" height="1080" src="page-000066.png">
<div class="txt" style="position:absolute; left:942px; top:77676px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:77767px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Rethrowing and Chaining Exceptions</span></div>
<div class="txt" style="position:absolute; left:62px; top:77895px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">You can throw an exception in a </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">catch </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">clause</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:62px; top:77968px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Typically, you do this when you want to change the exception type.</span></div>
<div class="txt" style="position:absolute; left:98px; top:78017px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If you build a subsystem that other programmers use, it makes a</span></div>
<div class="txt" style="position:absolute; left:98px; top:78065px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">lot of sense to use an exception type that indicates a failure of the</span></div>
<div class="txt" style="position:absolute; left:98px; top:78109px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">subsystem. </span><span id="f25" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">用于改变异常的类型，对异常信息进行重新封装。</span></div>
<div class="txt" style="position:absolute; left:98px; top:78178px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">E.g., </span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">ServletException</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, the code that executes a servlet may not want to</span></div>
<div class="txt" style="position:absolute; left:134px; top:78222px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">know in minute detail what went wrong in the servlet, but it definitely</span></div>
<div class="txt" style="position:absolute; left:134px; top:78265px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">wants to know that the servlet was at fault.</span></div>
<div class="txt" style="position:absolute; left:62px; top:78330px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Here is how you can catch an exception and rethrow it:</span></div>
<div class="txt" style="position:absolute; left:122px; top:78388px;"><span id="f15" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">try {</span></div>
<div class="txt" style="position:absolute; left:207px; top:78426px;"><span id="f15" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">access the database</span></div>
<div class="txt" style="position:absolute; left:122px; top:78465px;"><span id="f15" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:122px; top:78503px;"><span id="f15" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">catch (</span><span id="f40" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,255,1);">SQLException </span><span id="f15" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">e) {</span></div>
<div class="txt" style="position:absolute; left:207px; top:78541px;"><span id="f15" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">throw new </span><span id="f40" style="font-size:12px;vertical-align:baseline;color:rgba(255,0,0,1);">ServletException</span><span id="f15" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">("database error: " + e.getMessage());</span></div>
<div class="txt" style="position:absolute; left:122px; top:78580px;"><span id="f15" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:62px; top:78619px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Here, the </span><span id="f40" style="font-size:24px;vertical-align:baseline;color:rgba(0,0,0,1);">ServletException </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is constructed with the message text</span></div>
<div class="txt" style="position:absolute; left:98px; top:78668px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">of the exception.</span></div>
<img id="background" style="position:absolute; left:0px; top:78854px;" width="1440" height="1080" src="page67.png"> <img id="background" style="position:absolute; left:1440px; top:78854px;" width="1440" height="1080" src="page-000067.png">
<div class="txt" style="position:absolute; left:942px; top:78870px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:78961px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Rethrowing and Chaining Exceptions</span></div>
<div class="txt" style="position:absolute; left:76px; top:79101px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">However, it is a better idea to set the original exception as the</span></div>
<div class="txt" style="position:absolute; left:112px; top:79146px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">“cause” of the new exception: </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">将原始异常信息传递出去</span></div>
<div class="txt" style="position:absolute; left:224px; top:79196px;"><span id="f31" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">try {</span></div>
<div class="txt" style="position:absolute; left:309px; top:79235px;"><span id="f31" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">access the database</span></div>
<div class="txt" style="position:absolute; left:224px; top:79273px;"><span id="f31" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:224px; top:79311px;"><span id="f31" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">catch (SQLException e) {</span></div>
<div class="txt" style="position:absolute; left:309px; top:79350px;"><span id="f31" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Throwable se = new ServletException("database error");</span></div>
<div class="txt" style="position:absolute; left:309px; top:79388px;"><span id="f31" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">se.initCause(e);</span></div>
<div class="txt" style="position:absolute; left:309px; top:79427px;"><span id="f31" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">throw se;</span></div>
<div class="txt" style="position:absolute; left:224px; top:79465px;"><span id="f31" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:76px; top:79509px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">When the exception is caught, the original exception can be</span></div>
<div class="txt" style="position:absolute; left:112px; top:79559px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">retrieved</span></div>
<div class="txt" style="position:absolute; left:156px; top:79634px;"><span id="f31" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Throwable e = se.getCause();</span></div>
<div class="txt" style="position:absolute; left:76px; top:79701px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">This wrapping technique is highly recommended. It allows you to</span></div>
<div class="txt" style="position:absolute; left:112px; top:79751px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">throw high level exceptions in subsystems without losing the</span></div>
<div class="txt" style="position:absolute; left:112px; top:79797px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">details of the original failure.</span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">这种包装技术允许在子系统中抛出高级异常</span></div>
<div class="txt" style="position:absolute; left:112px; top:79842px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">，而不会丢失原始失败的细节。</span></div>
<img id="background" style="position:absolute; left:0px; top:80048px;" width="1440" height="1080" src="page68.png"> <img id="background" style="position:absolute; left:1440px; top:80048px;" width="1440" height="1080" src="page-000068.png">
<div class="txt" style="position:absolute; left:1105px; top:80066px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:413px; top:80462px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(8) </span><span id="f13" style="font-size:47px;vertical-align:baseline;color:rgba(0,0,0,1);">finally </span><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Clause</span></div>
<img id="background" style="position:absolute; left:0px; top:81242px;" width="1440" height="1080" src="page69.png"> <img id="background" style="position:absolute; left:1440px; top:81242px;" width="1440" height="1080" src="page-000069.png">
<div class="txt" style="position:absolute; left:33px; top:81348px;"><span id="f10" style="font-size:39px;vertical-align:baseline;color:rgba(0,0,0,1);">finally </span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Clause</span></div>
<div class="txt" style="position:absolute; left:942px; top:81258px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:81489px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">When your code throws an exception, it stops processing the</span></div>
<div class="txt" style="position:absolute; left:112px; top:81539px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">remaining code in your method and exits the method.</span></div>
<div class="txt" style="position:absolute; left:76px; top:81609px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">This is a problem if the method has acquired some resource </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(files,</span></div>
<div class="txt" style="position:absolute; left:112px; top:81659px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">database connections,…), </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">which only this method knows about,</span></div>
<div class="txt" style="position:absolute; left:112px; top:81702px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">and that resource must be cleaned up. </span><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">问题</span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">:</span><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">出现异常时，需要清理</span></div>
<div class="txt" style="position:absolute; left:112px; top:81750px;"><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">已经占用的资源</span></div>
<div class="txt" style="position:absolute; left:76px; top:81897px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">One solution is to catch and re-throw all exceptions.</span></div>
<div class="txt" style="position:absolute; left:76px; top:81969px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">But this solution is tedious because you need to clean up the resource</span></div>
<div class="txt" style="position:absolute; left:112px; top:82019px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">allocation in two places</span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">—</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">in the normal code and in the exception</span></div>
<div class="txt" style="position:absolute; left:112px; top:82067px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">code.</span></div>
<div class="txt" style="position:absolute; left:76px; top:82209px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">Java has a better solution: </span><span id="f46" style="font-size:37px;vertical-align:baseline;color:rgba(192,0,0,1);">the finally clause.</span></div>
<img id="background" style="position:absolute; left:0px; top:82436px;" width="1440" height="1080" src="page70.png"> <img id="background" style="position:absolute; left:1440px; top:82436px;" width="1440" height="1080" src="page-000070.png">
<div class="txt" style="position:absolute; left:33px; top:82542px;"><span id="f10" style="font-size:39px;vertical-align:baseline;color:rgba(0,0,0,1);">Try-Catch-Finally</span></div>
<div class="txt" style="position:absolute; left:942px; top:82452px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:82683px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The code in the finally clause executes whether or not an exception</span></div>
<div class="txt" style="position:absolute; left:112px; top:82728px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">was caught. </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">Finally</span><span id="f24" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">部分的代码，是否捕获异常都会被执行。</span></div>
<div class="txt" style="position:absolute; left:76px; top:82803px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In the following example, the program will close the file </span><span id="f28" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,255,1);">under all</span></div>
<div class="txt" style="position:absolute; left:112px; top:82852px;"><span id="f28" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,255,1);">circumstances</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">:</span></div>
<div class="txt" style="position:absolute; left:439px; top:82907px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">InputStream in = new FileInputStream(. . .);</span></div>
<div class="txt" style="position:absolute; left:439px; top:82941px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">try {</span></div>
<div class="txt" style="position:absolute; left:524px; top:82975px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// 1</span></div>
<div class="txt" style="position:absolute; left:524px; top:83008px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">code that might throw exceptions</span></div>
<div class="txt" style="position:absolute; left:524px; top:83042px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// 2</span></div>
<div class="txt" style="position:absolute; left:439px; top:83075px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:439px; top:83109px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">catch (IOException e) {</span></div>
<div class="txt" style="position:absolute; left:524px; top:83143px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// 3</span></div>
<div class="txt" style="position:absolute; left:524px; top:83176px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">show error message</span></div>
<div class="txt" style="position:absolute; left:524px; top:83210px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// 4</span></div>
<div class="txt" style="position:absolute; left:439px; top:83243px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:439px; top:83277px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Finally {</span></div>
<div class="txt" style="position:absolute; left:524px; top:83311px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// 5</span></div>
<div class="txt" style="position:absolute; left:524px; top:83344px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">in.close();</span></div>
<div class="txt" style="position:absolute; left:439px; top:83378px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:439px; top:83411px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// 6</span></div>
<img id="background" style="position:absolute; left:0px; top:83630px;" width="1440" height="1080" src="page71.png"> <img id="background" style="position:absolute; left:1440px; top:83630px;" width="1440" height="1080" src="page-000071.png">
<div class="txt" style="position:absolute; left:33px; top:83736px;"><span id="f10" style="font-size:39px;vertical-align:baseline;color:rgba(0,0,0,1);">Try-Catch-Finally</span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">: case 1</span></div>
<div class="txt" style="position:absolute; left:942px; top:83646px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:83877px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Look at the three possible</span></div>
<div class="txt" style="position:absolute; left:112px; top:83927px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">situations in which the program</span></div>
<div class="txt" style="position:absolute; left:112px; top:83975px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">will execute the finally clause.</span></div>
<div class="txt" style="position:absolute; left:76px; top:84045px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Case 1: The code throws no</span></div>
<div class="txt" style="position:absolute; left:112px; top:84090px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">exceptions. </span><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">没有抛出异常</span></div>
<div class="txt" style="position:absolute; left:112px; top:84160px;"><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">In this case, the program first</span></div>
<div class="txt" style="position:absolute; left:148px; top:84203px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">executes all the code in the </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">try</span></div>
<div class="txt" style="position:absolute; left:148px; top:84246px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">block.</span></div>
<div class="txt" style="position:absolute; left:112px; top:84307px;"><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Then, it executes the code in the</span></div>
<div class="txt" style="position:absolute; left:148px; top:84350px;"><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">finally </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">clause.</span></div>
<div class="txt" style="position:absolute; left:112px; top:84410px;"><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Afterwards, execution continues</span></div>
<div class="txt" style="position:absolute; left:148px; top:84454px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">with the first statement after the</span></div>
<div class="txt" style="position:absolute; left:148px; top:84496px;"><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">finally </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">clause.</span></div>
<div class="txt" style="position:absolute; left:112px; top:84557px;"><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">In other words, execution passes</span></div>
<div class="txt" style="position:absolute; left:148px; top:84600px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">through points </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">1, 2, 5, and 6.</span></div>
<div class="txt" style="position:absolute; left:734px; top:83967px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">InputStream in = new FileInputStream(. . .);</span></div>
<div class="txt" style="position:absolute; left:734px; top:84000px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">try {</span></div>
<div class="txt" style="position:absolute; left:819px; top:84034px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// 1</span></div>
<div class="txt" style="position:absolute; left:819px; top:84068px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">code that might throw exceptions</span></div>
<div class="txt" style="position:absolute; left:819px; top:84101px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// 2</span></div>
<div class="txt" style="position:absolute; left:734px; top:84135px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:734px; top:84168px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">catch (IOException e) {</span></div>
<div class="txt" style="position:absolute; left:819px; top:84202px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// 3</span></div>
<div class="txt" style="position:absolute; left:819px; top:84236px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">show error message</span></div>
<div class="txt" style="position:absolute; left:819px; top:84269px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// 4</span></div>
<div class="txt" style="position:absolute; left:734px; top:84303px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:734px; top:84337px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Finally {</span></div>
<div class="txt" style="position:absolute; left:819px; top:84370px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// 5</span></div>
<div class="txt" style="position:absolute; left:819px; top:84404px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">in.close();</span></div>
<div class="txt" style="position:absolute; left:734px; top:84437px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:734px; top:84471px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// 6</span></div>
<img id="background" style="position:absolute; left:0px; top:84824px;" width="1440" height="1080" src="page72.png"> <img id="background" style="position:absolute; left:1440px; top:84824px;" width="1440" height="1080" src="page-000072.png">
<div class="txt" style="position:absolute; left:33px; top:84930px;"><span id="f10" style="font-size:39px;vertical-align:baseline;color:rgba(0,0,0,1);">Try-Catch-Finally</span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">: case 2</span></div>
<div class="txt" style="position:absolute; left:942px; top:84840px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:66px; top:85071px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Case 2: The code throws an exception that is caught in a catch</span></div>
<div class="txt" style="position:absolute; left:102px; top:85116px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">clause and the </span><span id="f22" style="font-size:24px;vertical-align:baseline;color:rgba(0,0,0,1);">catch </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">clause does not throw an exception. </span><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">抛出一个</span></div>
<div class="txt" style="position:absolute; left:102px; top:85164px;"><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">被捕获的异常，</span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">catch</span><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">没有继续抛出异常</span></div>
<div class="txt" style="position:absolute; left:102px; top:85233px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The program executes all code in the </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">try </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">block, up to the point at which</span></div>
<div class="txt" style="position:absolute; left:138px; top:85277px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the exception was thrown. The remaining code in the </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">try </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">block is skipped.</span></div>
<div class="txt" style="position:absolute; left:138px; top:85320px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The program then executes the code in the matching </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">catch </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">clause, and</span></div>
<div class="txt" style="position:absolute; left:138px; top:85363px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">then the code in the </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">finally </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">clause.</span></div>
<div class="txt" style="position:absolute; left:779px; top:85395px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">InputStream in = new FileInputStream(. . .);</span></div>
<div class="txt" style="position:absolute; left:102px; top:85424px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">If the </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">catch </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">clause does not throw</span></div>
<div class="txt" style="position:absolute; left:138px; top:85467px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">an exception, the program executes</span></div>
<div class="txt" style="position:absolute; left:779px; top:85424px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">try {</span></div>
<div class="txt" style="position:absolute; left:864px; top:85453px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">// 1</span></div>
<div class="txt" style="position:absolute; left:864px; top:85482px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">code that might throw exceptions</span></div>
<div class="txt" style="position:absolute; left:138px; top:85510px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the first line after the </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">finally </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">clause.</span></div>
<div class="txt" style="position:absolute; left:864px; top:85511px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">// 2</span></div>
<div class="txt" style="position:absolute; left:779px; top:85539px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:102px; top:85571px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Execution passes through points </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">1,</span></div>
<div class="txt" style="position:absolute; left:138px; top:85614px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">3, 4, 5, and 6.</span></div>
<div class="txt" style="position:absolute; left:779px; top:85568px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">catch (IOException e) {</span></div>
<div class="txt" style="position:absolute; left:864px; top:85597px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">// 3</span></div>
<div class="txt" style="position:absolute; left:864px; top:85626px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">show error message</span></div>
<div class="txt" style="position:absolute; left:864px; top:85655px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">// 4</span></div>
<div class="txt" style="position:absolute; left:779px; top:85683px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:779px; top:85712px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">Finally {</span></div>
<div class="txt" style="position:absolute; left:864px; top:85741px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">// 5</span></div>
<div class="txt" style="position:absolute; left:864px; top:85770px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">in.close();</span></div>
<div class="txt" style="position:absolute; left:779px; top:85799px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:779px; top:85827px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">// 6</span></div>
<img id="background" style="position:absolute; left:0px; top:86018px;" width="1440" height="1080" src="page73.png"> <img id="background" style="position:absolute; left:1440px; top:86018px;" width="1440" height="1080" src="page-000073.png">
<div class="txt" style="position:absolute; left:33px; top:86124px;"><span id="f10" style="font-size:39px;vertical-align:baseline;color:rgba(0,0,0,1);">Try-Catch-Finally</span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">: case 3</span></div>
<div class="txt" style="position:absolute; left:942px; top:86034px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:86265px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Case 3: The code throws an exception that is caught in a catch</span></div>
<div class="txt" style="position:absolute; left:112px; top:86310px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">clause and the </span><span id="f22" style="font-size:24px;vertical-align:baseline;color:rgba(0,0,0,1);">catch </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">clause throws an exception. </span><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">抛出一个被捕获</span></div>
<div class="txt" style="position:absolute; left:112px; top:86358px;"><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">的异常，</span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">catch</span><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">继续抛出异常</span></div>
<div class="txt" style="position:absolute; left:112px; top:86427px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The program executes all code in the </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">try </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">block, up to the point at which</span></div>
<div class="txt" style="position:absolute; left:148px; top:86471px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the exception was thrown. The remaining code in the </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">try </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">block is skipped.</span></div>
<div class="txt" style="position:absolute; left:148px; top:86514px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The program then executes the code in the matching </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">catch </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">clause, and</span></div>
<div class="txt" style="position:absolute; left:148px; top:86557px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">then the code in the </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">finally </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">clause.</span></div>
<div class="txt" style="position:absolute; left:112px; top:86618px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">If the catch clause throws an</span></div>
<div class="txt" style="position:absolute; left:836px; top:86597px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">InputStream in = new FileInputStream(. .</span></div>
<div class="txt" style="position:absolute; left:836px; top:86625px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">.);</span></div>
<div class="txt" style="position:absolute; left:148px; top:86661px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">exception, then the exception</span></div>
<div class="txt" style="position:absolute; left:148px; top:86704px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is thrown back to the caller of</span></div>
<div class="txt" style="position:absolute; left:836px; top:86654px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">try {</span></div>
<div class="txt" style="position:absolute; left:921px; top:86683px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">// 1</span></div>
<div class="txt" style="position:absolute; left:921px; top:86712px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">code that might throw exceptions</span></div>
<div class="txt" style="position:absolute; left:148px; top:86747px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">this method, and execution</span></div>
<div class="txt" style="position:absolute; left:148px; top:86791px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">passes through points </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">1, 3, and 5</span></div>
<div class="txt" style="position:absolute; left:921px; top:86741px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">// 2</span></div>
<div class="txt" style="position:absolute; left:836px; top:86769px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:836px; top:86798px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">catch (IOException e) {</span></div>
<div class="txt" style="position:absolute; left:148px; top:86834px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">only.</span></div>
<div class="txt" style="position:absolute; left:921px; top:86827px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">// 3</span></div>
<div class="txt" style="position:absolute; left:921px; top:86856px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">show error message</span></div>
<div class="txt" style="position:absolute; left:921px; top:86885px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">// 4</span></div>
<div class="txt" style="position:absolute; left:836px; top:86913px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:836px; top:86942px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">Finally {</span></div>
<div class="txt" style="position:absolute; left:921px; top:86971px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">// 5</span></div>
<div class="txt" style="position:absolute; left:921px; top:87000px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">in.close();</span></div>
<div class="txt" style="position:absolute; left:836px; top:87029px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:836px; top:87057px;"><span id="f10" style="font-size:10px;vertical-align:baseline;color:rgba(0,0,0,1);">// 6</span></div>
<img id="background" style="position:absolute; left:0px; top:87212px;" width="1440" height="1080" src="page74.png"> <img id="background" style="position:absolute; left:1440px; top:87212px;" width="1440" height="1080" src="page-000074.png">
<div class="txt" style="position:absolute; left:33px; top:87318px;"><span id="f10" style="font-size:39px;vertical-align:baseline;color:rgba(0,0,0,1);">Try-Catch-Finally</span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">: case 4</span></div>
<div class="txt" style="position:absolute; left:942px; top:87228px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:87459px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Case4: The code throws an exception that is not caught in any catch</span></div>
<div class="txt" style="position:absolute; left:112px; top:87504px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">clause. </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">抛出一个未被捕获的异常</span></div>
<div class="txt" style="position:absolute; left:112px; top:87573px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Here, the program executes all code in the </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">try </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">block until the exception is</span></div>
<div class="txt" style="position:absolute; left:148px; top:87617px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">thrown.</span></div>
<div class="txt" style="position:absolute; left:112px; top:87677px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The remaining code in the </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">try </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">block is skipped.</span></div>
<div class="txt" style="position:absolute; left:112px; top:87738px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Then, the code in the </span><span id="f10" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">finally</span></div>
<div class="txt" style="position:absolute; left:148px; top:87781px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">clause is executed, and the</span></div>
<div class="txt" style="position:absolute; left:148px; top:87824px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">exception is thrown back to the</span></div>
<div class="txt" style="position:absolute; left:148px; top:87868px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">caller of this method.</span></div>
<div class="txt" style="position:absolute; left:112px; top:87928px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Execution passes through points</span></div>
<div class="txt" style="position:absolute; left:148px; top:87971px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">1 and 5 only.</span></div>
<div class="txt" style="position:absolute; left:734px; top:87740px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">InputStream in = new FileInputStream(. . .);</span></div>
<div class="txt" style="position:absolute; left:734px; top:87773px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">try {</span></div>
<div class="txt" style="position:absolute; left:819px; top:87807px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// 1</span></div>
<div class="txt" style="position:absolute; left:819px; top:87841px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">code that might throw exceptions</span></div>
<div class="txt" style="position:absolute; left:819px; top:87874px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// 2</span></div>
<div class="txt" style="position:absolute; left:734px; top:87908px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:734px; top:87941px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">catch (IOException e) {</span></div>
<div class="txt" style="position:absolute; left:819px; top:87975px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// 3</span></div>
<div class="txt" style="position:absolute; left:819px; top:88009px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">show error message</span></div>
<div class="txt" style="position:absolute; left:819px; top:88042px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// 4</span></div>
<div class="txt" style="position:absolute; left:734px; top:88076px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:734px; top:88110px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Finally {</span></div>
<div class="txt" style="position:absolute; left:819px; top:88143px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// 5</span></div>
<div class="txt" style="position:absolute; left:819px; top:88177px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">in.close();</span></div>
<div class="txt" style="position:absolute; left:734px; top:88210px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:734px; top:88244px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// 6</span></div>
<img id="background" style="position:absolute; left:0px; top:88406px;" width="1440" height="1080" src="page75.png"> <img id="background" style="position:absolute; left:1440px; top:88406px;" width="1440" height="1080" src="page-000075.png">
<div class="txt" style="position:absolute; left:942px; top:88422px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:88512px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Using </span><span id="f11" style="font-size:39px;vertical-align:baseline;color:rgba(0,0,0,1);">finally </span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">without a </span><span id="f11" style="font-size:39px;vertical-align:baseline;color:rgba(0,0,0,1);">Catch</span></div>
<div class="txt" style="position:absolute; left:76px; top:88653px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">You can use the </span><span id="f19" style="font-size:24px;vertical-align:baseline;color:rgba(0,0,0,1);">finally </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">clause without a </span><span id="f19" style="font-size:24px;vertical-align:baseline;color:rgba(0,0,0,1);">catch </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">clause.</span></div>
<div class="txt" style="position:absolute; left:76px; top:88725px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">For example, consider the following </span><span id="f19" style="font-size:24px;vertical-align:baseline;color:rgba(0,0,0,1);">try </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">statement:</span></div>
<div class="txt" style="position:absolute; left:269px; top:88832px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">InputStream in = . . .;</span></div>
<div class="txt" style="position:absolute; left:269px; top:88870px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">try {</span></div>
<div class="txt" style="position:absolute; left:354px; top:88909px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">code that might throw exceptions</span></div>
<div class="txt" style="position:absolute; left:269px; top:88947px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:269px; top:88986px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">finally {</span></div>
<div class="txt" style="position:absolute; left:354px; top:89024px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">in.close();</span></div>
<div class="txt" style="position:absolute; left:269px; top:89063px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:76px; top:89157px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f11" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">in.close() </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">statement in the </span><span id="f11" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">finally </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">clause is executed</span></div>
<div class="txt" style="position:absolute; left:112px; top:89207px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">whether or not an exception is encountered in the try block.</span></div>
<div class="txt" style="position:absolute; left:76px; top:89277px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If an exception is encountered, it is rethrown and must be caught</span></div>
<div class="txt" style="position:absolute; left:112px; top:89327px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">in another catch clause.</span></div>
<img id="background" style="position:absolute; left:0px; top:89600px;" width="1440" height="1080" src="page76.png"> <img id="background" style="position:absolute; left:1440px; top:89600px;" width="1440" height="1080" src="page-000076.png">
<div class="txt" style="position:absolute; left:1105px; top:89618px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:285px; top:89929px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(9) The Try-with-Resources</span></div>
<div class="txt" style="position:absolute; left:560px; top:90015px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Statement</span></div>
<img id="background" style="position:absolute; left:0px; top:90794px;" width="1440" height="1080" src="page77.png"> <img id="background" style="position:absolute; left:1440px; top:90794px;" width="1440" height="1080" src="page-000077.png">
<div class="txt" style="position:absolute; left:942px; top:90810px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:90901px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">The Try-with-Resources Statement</span></div>
<div class="txt" style="position:absolute; left:76px; top:91041px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Even good programmers usually get it wrong</span></div>
<div class="txt" style="position:absolute; left:112px; top:91108px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Sun’s guide to Persistent Connections got it wrong in code that claimed to</span></div>
<div class="txt" style="position:absolute; left:148px; top:91151px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">be exemplary</span></div>
<div class="txt" style="position:absolute; left:112px; top:91211px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Solution on page 88 of Bloch and </span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Gafter’s </span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Java Puzzlers </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is badly broken; no</span></div>
<div class="txt" style="position:absolute; left:148px; top:91255px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">one noticed for years</span></div>
<div class="txt" style="position:absolute; left:76px; top:91320px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">70% of the uses of the close method in the JDK itself were wrong</span></div>
<div class="txt" style="position:absolute; left:112px; top:91370px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">in 2008(!)</span></div>
<div class="txt" style="position:absolute; left:76px; top:91440px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f35" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Even “correct” idioms for manual resource management are</span></div>
<div class="txt" style="position:absolute; left:112px; top:91490px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">deficient.</span></div>
<img id="background" style="position:absolute; left:0px; top:91988px;" width="1440" height="1080" src="page78.png"> <img id="background" style="position:absolute; left:1440px; top:91988px;" width="1440" height="1080" src="page-000078.png">
<div class="txt" style="position:absolute; left:942px; top:92004px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:92095px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">The Try-with-Resources Statement</span></div>
<div class="txt" style="position:absolute; left:76px; top:92235px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Java SE 7 provides a useful shortcut to the code pattern provided</span></div>
<div class="txt" style="position:absolute; left:112px; top:92285px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">the resource belongs to a class that implements the AutoCloseable</span></div>
<div class="txt" style="position:absolute; left:112px; top:92328px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">interface. </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">对于实现了</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">AutoCloseable</span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">接口的资源，</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">Java</span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">提供自动</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">close</span></div>
<div class="txt" style="position:absolute; left:112px; top:92376px;"><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">资源的方法</span></div>
<div class="txt" style="position:absolute; left:76px; top:92451px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">That interface has a single method</span></div>
<div class="txt" style="position:absolute; left:422px; top:92522px;"><span id="f39" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">void close() throws Exception</span></div>
<div class="txt" style="position:absolute; left:76px; top:92588px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In its simplest variant, the try-with-resources statement has the</span></div>
<div class="txt" style="position:absolute; left:112px; top:92638px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">form</span></div>
<div class="txt" style="position:absolute; left:881px; top:92675px;"><span id="f39" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">open a resource</span></div>
<div class="txt" style="position:absolute; left:110px; top:92746px;"><span id="f55" style="font-size:12px;vertical-align:baseline;color:rgba(192,0,0,1);">try (Resource res = . . .) {</span></div>
<div class="txt" style="position:absolute; left:195px; top:92784px;"><span id="f55" style="font-size:12px;vertical-align:baseline;color:rgba(192,0,0,1);">work with res</span></div>
<div class="txt" style="position:absolute; left:717px; top:92761px;"><span id="f59" style="font-size:55px;vertical-align:baseline;color:rgba(0,0,0,1);">=</span></div>
<div class="txt" style="position:absolute; left:110px; top:92822px;"><span id="f55" style="font-size:12px;vertical-align:baseline;color:rgba(192,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:881px; top:92714px;"><span id="f39" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">try {</span></div>
<div class="txt" style="position:absolute; left:966px; top:92752px;"><span id="f39" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">work with the resource</span></div>
<div class="txt" style="position:absolute; left:881px; top:92791px;"><span id="f39" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:881px; top:92829px;"><span id="f39" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">finally {</span></div>
<div class="txt" style="position:absolute; left:966px; top:92867px;"><span id="f39" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">close the resource</span></div>
<div class="txt" style="position:absolute; left:881px; top:92906px;"><span id="f39" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:93182px;" width="1440" height="1080" src="page79.png"> <img id="background" style="position:absolute; left:1440px; top:93182px;" width="1440" height="1080" src="page-000079.png">
<div class="txt" style="position:absolute; left:942px; top:93198px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:93289px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">The Try-with-Resources Statement</span></div>
<div class="txt" style="position:absolute; left:76px; top:93429px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">When </span><span id="f19" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">try </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">block exits, then </span><span id="f19" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">res.close() </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is called automatically.</span></div>
<div class="txt" style="position:absolute; left:76px; top:93501px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Here is a typical example</span><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">—</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">reading all words of a file</span></div>
<div class="txt" style="position:absolute; left:88px; top:93577px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">try (Scanner in = new Scanner(new FileInputStream</span><span id="f40" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">(“/</span><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">dict</span><span id="f40" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">/words”), “UTF</span><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">-</span><span id="f40" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">8”))</span></div>
<div class="txt" style="position:absolute; left:88px; top:93615px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:173px; top:93653px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">while (in.hasNext())</span></div>
<div class="txt" style="position:absolute; left:258px; top:93692px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println(in.next());</span></div>
<div class="txt" style="position:absolute; left:88px; top:93730px;"><span id="f19" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:76px; top:93789px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">When the block exits normally, or when there was an exception,</span></div>
<div class="txt" style="position:absolute; left:112px; top:93838px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the </span><span id="f19" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">in.close() </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">method is called, exactly as if you had used a</span></div>
<div class="txt" style="position:absolute; left:112px; top:93886px;"><span id="f19" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">finally </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">block.</span></div>
<img id="background" style="position:absolute; left:0px; top:94376px;" width="1440" height="1080" src="page80.png"> <img id="background" style="position:absolute; left:1440px; top:94376px;" width="1440" height="1080" src="page-000080.png">
<div class="txt" style="position:absolute; left:942px; top:94392px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:94483px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">The Try-with-Resources Statement</span></div>
<div class="txt" style="position:absolute; left:76px; top:94623px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Specify multiple resources:</span></div>
<div class="txt" style="position:absolute; left:167px; top:94718px;"><span id="f28" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">try (Scanner in = new Scanner(new</span></div>
<div class="txt" style="position:absolute; left:252px; top:94757px;"><span id="f28" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">FileInputStream("/usr/share/dict/words"), "UTF-8");</span></div>
<div class="txt" style="position:absolute; left:252px; top:94795px;"><span id="f28" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">PrintWriter out = new PrintWriter("out.txt"))</span></div>
<div class="txt" style="position:absolute; left:167px; top:94833px;"><span id="f28" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:252px; top:94872px;"><span id="f28" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">while (in.hasNext())</span></div>
<div class="txt" style="position:absolute; left:337px; top:94910px;"><span id="f28" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">out.println(in.next().toUpperCase());</span></div>
<div class="txt" style="position:absolute; left:167px; top:94949px;"><span id="f28" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:76px; top:95055px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">No matter how the block exits, both </span><span id="f21" style="font-size:24px;vertical-align:baseline;color:rgba(0,0,0,1);">in </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and </span><span id="f21" style="font-size:24px;vertical-align:baseline;color:rgba(0,0,0,1);">out </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">are closed.</span></div>
<div class="txt" style="position:absolute; left:76px; top:95127px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If you programmed this by hand, you would need two nested</span></div>
<div class="txt" style="position:absolute; left:112px; top:95176px;"><span id="f28" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">try/finally </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">statements.</span></div>
<img id="background" style="position:absolute; left:0px; top:95570px;" width="1440" height="1080" src="page81.png"> <img id="background" style="position:absolute; left:1440px; top:95570px;" width="1440" height="1080" src="page-000081.png">
<div class="txt" style="position:absolute; left:1105px; top:95588px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:138px; top:95985px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(10) Analyzing Stack Trace Elements</span></div>
<img id="background" style="position:absolute; left:0px; top:96764px;" width="1440" height="1080" src="page82.png"> <img id="background" style="position:absolute; left:1440px; top:96764px;" width="1440" height="1080" src="page-000082.png">
<div class="txt" style="position:absolute; left:942px; top:96780px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:96871px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Method Call Stack</span></div>
<div class="txt" style="position:absolute; left:686px; top:96963px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public class MethodCallStackDemo {</span></div>
<div class="txt" style="position:absolute; left:76px; top:97011px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A typical application involves</span></div>
<div class="txt" style="position:absolute; left:112px; top:97061px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">many levels of method calls,</span></div>
<div class="txt" style="position:absolute; left:736px; top:96999px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void </span><span id="f67" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,255,1);">main</span><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">(String[] args) {</span></div>
<div class="txt" style="position:absolute; left:785px; top:97035px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Enter main()");</span></div>
<div class="txt" style="position:absolute; left:785px; top:97071px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">methodA();</span></div>
<div class="txt" style="position:absolute; left:112px; top:97109px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">which is managed by a so-</span></div>
<div class="txt" style="position:absolute; left:112px; top:97157px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">called method </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">call stack.</span></div>
<div class="txt" style="position:absolute; left:785px; top:97107px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Exit main()");</span></div>
<div class="txt" style="position:absolute; left:736px; top:97143px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:76px; top:97227px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">A stack is a last-in-first-out</span></div>
<div class="txt" style="position:absolute; left:112px; top:97277px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">queue.</span></div>
<div class="txt" style="position:absolute; left:76px; top:97347px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f31" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">What’s the result?</span></div>
<div class="txt" style="position:absolute; left:736px; top:97215px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void </span><span id="f67" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,255,1);">methodA() </span><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:785px; top:97251px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Enter methodA()");</span></div>
<div class="txt" style="position:absolute; left:785px; top:97287px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">methodB();</span></div>
<div class="txt" style="position:absolute; left:785px; top:97323px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Exit methodA()");</span></div>
<div class="txt" style="position:absolute; left:736px; top:97359px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:112px; top:97412px;"><span id="f33" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Enter main()</span></div>
<div class="txt" style="position:absolute; left:112px; top:97466px;"><span id="f33" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Enter methodA()</span></div>
<div class="txt" style="position:absolute; left:112px; top:97519px;"><span id="f33" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Enter methodB()</span></div>
<div class="txt" style="position:absolute; left:112px; top:97573px;"><span id="f33" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Enter methodC()</span></div>
<div class="txt" style="position:absolute; left:736px; top:97431px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void </span><span id="f67" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,255,1);">methodB() </span><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:785px; top:97467px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Enter methodB()");</span></div>
<div class="txt" style="position:absolute; left:785px; top:97503px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">methodC();</span></div>
<div class="txt" style="position:absolute; left:785px; top:97539px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Exit methodB()");</span></div>
<div class="txt" style="position:absolute; left:736px; top:97575px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:112px; top:97627px;"><span id="f33" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Exit methodC()</span></div>
<div class="txt" style="position:absolute; left:112px; top:97681px;"><span id="f33" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Exit methodB()</span></div>
<div class="txt" style="position:absolute; left:112px; top:97735px;"><span id="f33" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Exit methodA()</span></div>
<div class="txt" style="position:absolute; left:112px; top:97788px;"><span id="f33" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Exit main()</span></div>
<div class="txt" style="position:absolute; left:736px; top:97647px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void </span><span id="f67" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,255,1);">methodC() </span><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:785px; top:97683px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Enter methodC()");</span></div>
<div class="txt" style="position:absolute; left:785px; top:97719px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Exit methodC()");</span></div>
<div class="txt" style="position:absolute; left:736px; top:97755px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:686px; top:97791px;"><span id="f62" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:97958px;" width="1440" height="1080" src="page83.png"> <img id="background" style="position:absolute; left:1440px; top:97958px;" width="1440" height="1080" src="page-000083.png">
<div class="txt" style="position:absolute; left:33px; top:98065px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Method Call Stack</span></div>
<div class="txt" style="position:absolute; left:942px; top:97974px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:98205px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The sequence of events:</span></div>
<div class="txt" style="position:absolute; left:112px; top:98271px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">JVM invoke the </span><span id="f18" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">main()</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:112px; top:98332px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f18" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">main() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">pushed onto call stack, before invoking</span></div>
<div class="txt" style="position:absolute; left:148px; top:98375px;"><span id="f18" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">methodA().</span></div>
<div class="txt" style="position:absolute; left:112px; top:98436px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f18" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">methodA() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">pushed onto call stack, before invoking</span></div>
<div class="txt" style="position:absolute; left:148px; top:98479px;"><span id="f18" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">methodB().</span></div>
<div class="txt" style="position:absolute; left:112px; top:98539px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f18" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">methodB() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">pushed onto call stack, before invoking</span></div>
<div class="txt" style="position:absolute; left:148px; top:98583px;"><span id="f18" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">methodC().</span></div>
<div class="txt" style="position:absolute; left:112px; top:98643px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f18" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">methodC() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">completes.</span></div>
<div class="txt" style="position:absolute; left:112px; top:98703px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f18" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">methodB() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">popped out from call stack and completes.</span></div>
<div class="txt" style="position:absolute; left:112px; top:98764px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f18" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">methodA() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">popped out from the call stack and</span></div>
<div class="txt" style="position:absolute; left:148px; top:98808px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">completes.</span></div>
<div class="txt" style="position:absolute; left:112px; top:98868px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f18" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">main() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">popped out from the call stack and completes.</span></div>
<div class="txt" style="position:absolute; left:148px; top:98911px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Program exits.</span></div>
<img id="background" style="position:absolute; left:0px; top:99152px;" width="1440" height="1080" src="page84.png"> <img id="background" style="position:absolute; left:1440px; top:99152px;" width="1440" height="1080" src="page-000084.png">
<div class="txt" style="position:absolute; left:33px; top:99259px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Call Stack Trace</span></div>
<div class="txt" style="position:absolute; left:942px; top:99168px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:99399px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Suppose </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">methodC() </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">carries out a "divide-by-0" operation, which</span></div>
<div class="txt" style="position:absolute; left:112px; top:99448px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">triggers an </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">ArithmeticException</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:76px; top:99519px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The exception message clearly shows the </span><span id="f28" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">method call stack</span></div>
<div class="txt" style="position:absolute; left:112px; top:99568px;"><span id="f28" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">trace </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">with the relevant statement line numbers:</span></div>
<div class="txt" style="position:absolute; left:74px; top:99729px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Enter main()</span></div>
<div class="txt" style="position:absolute; left:74px; top:99772px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Enter methodA()</span></div>
<div class="txt" style="position:absolute; left:74px; top:99815px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Enter methodB()</span></div>
<div class="txt" style="position:absolute; left:74px; top:99858px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Enter methodC()</span></div>
<div class="txt" style="position:absolute; left:74px; top:99902px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Exception in thread "main" java.lang.ArithmeticException: / by zero</span></div>
<div class="txt" style="position:absolute; left:232px; top:99945px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">at MethodCallStackDemo.methodC(MethodCallStackDemo.java:22)</span></div>
<div class="txt" style="position:absolute; left:232px; top:99988px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">at MethodCallStackDemo.methodB(MethodCallStackDemo.java:16)</span></div>
<div class="txt" style="position:absolute; left:232px; top:100031px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">at MethodCallStackDemo.methodA(MethodCallStackDemo.java:10)</span></div>
<div class="txt" style="position:absolute; left:232px; top:100074px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">at MethodCallStackDemo.main(MethodCallStackDemo.java:4)</span></div>
<img id="background" style="position:absolute; left:0px; top:100346px;" width="1440" height="1080" src="page85.png"> <img id="background" style="position:absolute; left:1440px; top:100346px;" width="1440" height="1080" src="page-000085.png">
<div class="txt" style="position:absolute; left:33px; top:100453px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Call Stack Trace</span></div>
<div class="txt" style="position:absolute; left:942px; top:100362px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:100593px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Process:</span></div>
<div class="txt" style="position:absolute; left:112px; top:100659px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">MethodC() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">triggers an </span><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">ArithmeticException</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">. As it does not handle this</span></div>
<div class="txt" style="position:absolute; left:148px; top:100703px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">exception, it popped off from the call stack immediately.</span></div>
<div class="txt" style="position:absolute; left:112px; top:100763px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">MethodB() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">also does not handle this exception and popped off the call</span></div>
<div class="txt" style="position:absolute; left:148px; top:100806px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">stack. So does </span><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">methodA() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and </span><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">main() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">method.</span></div>
<div class="txt" style="position:absolute; left:112px; top:100867px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">main() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">method passes back to JVM, which abruptly terminates the</span></div>
<div class="txt" style="position:absolute; left:148px; top:100910px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">program and print the call stack trace.</span></div>
<div class="txt" style="position:absolute; left:74px; top:101014px;"><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Enter main()</span></div>
<div class="txt" style="position:absolute; left:74px; top:101058px;"><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Enter methodA()</span></div>
<div class="txt" style="position:absolute; left:74px; top:101101px;"><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Enter methodB()</span></div>
<div class="txt" style="position:absolute; left:74px; top:101144px;"><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Enter methodC()</span></div>
<div class="txt" style="position:absolute; left:74px; top:101187px;"><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Exception in thread "main" java.lang.ArithmeticException: / by zero</span></div>
<div class="txt" style="position:absolute; left:232px; top:101231px;"><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">at MethodCallStackDemo.methodC(MethodCallStackDemo.java:22)</span></div>
<div class="txt" style="position:absolute; left:232px; top:101274px;"><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">at MethodCallStackDemo.methodB(MethodCallStackDemo.java:16)</span></div>
<div class="txt" style="position:absolute; left:232px; top:101317px;"><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">at MethodCallStackDemo.methodA(MethodCallStackDemo.java:10)</span></div>
<div class="txt" style="position:absolute; left:232px; top:101360px;"><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">at MethodCallStackDemo.main(MethodCallStackDemo.java:4)</span></div>
<img id="background" style="position:absolute; left:0px; top:101540px;" width="1440" height="1080" src="page86.png"> <img id="background" style="position:absolute; left:1440px; top:101540px;" width="1440" height="1080" src="page-000086.png">
<div class="txt" style="position:absolute; left:33px; top:101647px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Exception &amp; Call Stack</span></div>
<div class="txt" style="position:absolute; left:942px; top:101556px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:101787px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">When an exception occurs inside a Java method, the method creates</span></div>
<div class="txt" style="position:absolute; left:112px; top:101836px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">an </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">Exception </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">object and passes the </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">Exception </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">object to the JVM</span></div>
<div class="txt" style="position:absolute; left:112px; top:101884px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(i.e., the method "</span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">throw</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">" an Exception).</span></div>
<div class="txt" style="position:absolute; left:76px; top:101955px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">Exception </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">object contains the type of the exception, and the</span></div>
<div class="txt" style="position:absolute; left:112px; top:102005px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">state of the program when the exception occurs.</span></div>
<div class="txt" style="position:absolute; left:76px; top:102075px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The JVM is responsible for finding an exception handler to process</span></div>
<div class="txt" style="position:absolute; left:112px; top:102125px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the Exception object.</span></div>
<div class="txt" style="position:absolute; left:112px; top:102190px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">It searches backward through the call stack until it finds a matching</span></div>
<div class="txt" style="position:absolute; left:148px; top:102233px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">exception handler for that particular class of </span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Exception </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">object (in Java</span></div>
<div class="txt" style="position:absolute; left:148px; top:102276px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">term, it is called "</span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">catch</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">" the Exception).</span></div>
<div class="txt" style="position:absolute; left:112px; top:102337px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">If the JVM cannot find a matching exception handler in all the methods in</span></div>
<div class="txt" style="position:absolute; left:148px; top:102380px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the call stack, it terminates the program.</span></div>
<div class="txt" style="position:absolute; left:112px; top:102437px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f46" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">异常处理机制：异常被抛出时，</span><span id="f49" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">JVM</span><span id="f46" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">根据异常中的信息查找处理异常的代</span></div>
<div class="txt" style="position:absolute; left:148px; top:102480px;"><span id="f46" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">码，通过调用栈进行反向查找，直到找到为止，如果找不到则终止程序。</span></div>
<img id="background" style="position:absolute; left:0px; top:102734px;" width="1440" height="1080" src="page87.png"> <img id="background" style="position:absolute; left:1440px; top:102734px;" width="1440" height="1080" src="page-000087.png">
<div class="txt" style="position:absolute; left:33px; top:102841px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Exception &amp; Call Stack</span></div>
<div class="txt" style="position:absolute; left:942px; top:102750px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:76px; top:102981px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Suppose that </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">methodD() </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">encounters an abnormal condition and</span></div>
<div class="txt" style="position:absolute; left:112px; top:103030px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">throws a </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">XxxException </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to the JVM.</span></div>
<div class="txt" style="position:absolute; left:76px; top:103101px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The JVM searches backward through the call stack for a matching</span></div>
<div class="txt" style="position:absolute; left:112px; top:103151px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">exception handler.</span></div>
<div class="txt" style="position:absolute; left:76px; top:103221px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">It finds </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">methodA() </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">having</span></div>
<div class="txt" style="position:absolute; left:112px; top:103270px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">a </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">XxxException </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">handler</span></div>
<div class="txt" style="position:absolute; left:112px; top:103319px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and passes the exception</span></div>
<div class="txt" style="position:absolute; left:112px; top:103367px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">object to the handler.</span></div>
<div class="txt" style="position:absolute; left:112px; top:103431px;"><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Notice that </span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">methodC() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and</span></div>
<div class="txt" style="position:absolute; left:148px; top:103475px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">methodB() </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">are required to</span></div>
<div class="txt" style="position:absolute; left:148px; top:103518px;"><span id="f44" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">declare “</span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">throws</span></div>
<div class="txt" style="position:absolute; left:148px; top:103561px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">XxxException</span><span id="f44" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">” in their</span></div>
<div class="txt" style="position:absolute; left:148px; top:103605px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">method signatures in order</span></div>
<div class="txt" style="position:absolute; left:148px; top:103648px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">to compile the programm.</span></div>
<div class="txt" style="position:absolute; left:112px; top:103704px;"><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f56" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">方法</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">B</span><span id="f56" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">和</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">C</span><span id="f56" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">需要声明抛出此异常</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f56" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">进行传播</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span><span id="f56" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">，以通过编译</span></div>
<img id="background" style="position:absolute; left:0px; top:103928px;" width="1440" height="1080" src="page88.png"> <img id="background" style="position:absolute; left:1440px; top:103928px;" width="1440" height="1080" src="page-000088.png">
<div class="txt" style="position:absolute; left:942px; top:103944px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:104035px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Analyzing Stack Trace Elements</span></div>
<div class="txt" style="position:absolute; left:76px; top:104175px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A </span><span id="f15" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">stack trace </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is a listing of all pending method calls at a particular</span></div>
<div class="txt" style="position:absolute; left:112px; top:104225px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">point in the execution of a program.</span></div>
<div class="txt" style="position:absolute; left:76px; top:104295px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">You have almost certainly seen stack trace listings</span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">—</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">they are</span></div>
<div class="txt" style="position:absolute; left:112px; top:104345px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">displayed whenever a Java program terminates with an uncaught</span></div>
<div class="txt" style="position:absolute; left:112px; top:104393px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">exception.</span></div>
<div class="txt" style="position:absolute; left:76px; top:104463px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">You can access the text description of a stack trace by calling the</span></div>
<div class="txt" style="position:absolute; left:112px; top:104512px;"><span id="f28" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,255,1);">printStackTrace </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">method of the </span><span id="f28" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,255,1);">Throwable </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">class.</span></div>
<div class="txt" style="position:absolute; left:258px; top:104673px;"><span id="f28" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Throwable t = new Throwable();</span></div>
<div class="txt" style="position:absolute; left:258px; top:104716px;"><span id="f28" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">StringWriter out = new StringWriter();</span></div>
<div class="txt" style="position:absolute; left:258px; top:104759px;"><span id="f28" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">t.printStackTrace(new PrintWriter(out));</span></div>
<div class="txt" style="position:absolute; left:258px; top:104802px;"><span id="f28" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">String description = out.toString();</span></div>
<img id="background" style="position:absolute; left:0px; top:105122px;" width="1440" height="1080" src="page89.png"> <img id="background" style="position:absolute; left:1440px; top:105122px;" width="1440" height="1080" src="page-000089.png">
<div class="txt" style="position:absolute; left:33px; top:105229px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Stack trace</span></div>
<div class="txt" style="position:absolute; left:942px; top:105138px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<img id="background" style="position:absolute; left:0px; top:106316px;" width="1440" height="1080" src="page90.png"> <img id="background" style="position:absolute; left:1440px; top:106316px;" width="1440" height="1080" src="page-000090.png">
<div class="txt" style="position:absolute; left:942px; top:106332px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:106423px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Analyzing Stack Trace Elements</span></div>
<div class="txt" style="position:absolute; left:76px; top:106563px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A more flexible approach is the </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,255,1);">getStackTrace </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">method that yields</span></div>
<div class="txt" style="position:absolute; left:112px; top:106612px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">an array of </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,255,1);">StackTraceElement </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">objects, which you can analyze in</span></div>
<div class="txt" style="position:absolute; left:112px; top:106661px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">your program.</span></div>
<div class="txt" style="position:absolute; left:246px; top:106754px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Throwable t = new Throwable();</span></div>
<div class="txt" style="position:absolute; left:246px; top:106798px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">StackTraceElement[] frames = t.getStackTrace();</span></div>
<div class="txt" style="position:absolute; left:246px; top:106841px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">for (StackTraceElement frame : frames)</span></div>
<div class="txt" style="position:absolute; left:331px; top:106884px;"><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">analyze frame</span></div>
<div class="txt" style="position:absolute; left:76px; top:107019px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,255,1);">StackTraceElement </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">class has methods to obtain the file name</span></div>
<div class="txt" style="position:absolute; left:112px; top:107069px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and line number, as well as the class and method name, of the</span></div>
<div class="txt" style="position:absolute; left:112px; top:107117px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">executing line of code.</span></div>
<div class="txt" style="position:absolute; left:76px; top:107187px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,255,1);">toString </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">method yields a formatted string containing all of</span></div>
<div class="txt" style="position:absolute; left:112px; top:107237px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">this information.</span></div>
<img id="background" style="position:absolute; left:0px; top:107510px;" width="1440" height="1080" src="page91.png"> <img id="background" style="position:absolute; left:1440px; top:107510px;" width="1440" height="1080" src="page-000091.png">
<div class="txt" style="position:absolute; left:1105px; top:107528px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:240px; top:107925px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(11) Tips for Using Exceptions</span></div>
<img id="background" style="position:absolute; left:0px; top:108704px;" width="1440" height="1080" src="page92.png"> <img id="background" style="position:absolute; left:1440px; top:108704px;" width="1440" height="1080" src="page-000092.png">
<div class="txt" style="position:absolute; left:942px; top:108720px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:108811px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Exception handling cannot replace test</span></div>
<div class="txt" style="position:absolute; left:76px; top:108948px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">Exception handling is not supposed to replace a simple test. </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">异常处</span></div>
<div class="txt" style="position:absolute; left:112px; top:108996px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">理不能代替简单的测试</span></div>
<div class="txt" style="position:absolute; left:112px; top:109066px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">As an example, we wrote some code that tries 10,000,000 times to pop an</span></div>
<div class="txt" style="position:absolute; left:148px; top:109109px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">empty stack. It first does this by finding out whether the stack is empty.</span></div>
<div class="txt" style="position:absolute; left:439px; top:109167px;"><span id="f26" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">if (!s.empty()) s.pop();</span></div>
<div class="txt" style="position:absolute; left:112px; top:109241px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Next, we force it to pop the stack no matter what and then catch the</span></div>
<div class="txt" style="position:absolute; left:148px; top:109284px;"><span id="f26" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">EmptyStackException </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">that tells us we should not have done that.</span></div>
<div class="txt" style="position:absolute; left:428px; top:109359px;"><span id="f26" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">try {</span></div>
<div class="txt" style="position:absolute; left:513px; top:109393px;"><span id="f26" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">s.pop();</span></div>
<div class="txt" style="position:absolute; left:428px; top:109427px;"><span id="f26" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:428px; top:109460px;"><span id="f26" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">catch (EmptyStackException e) { }</span></div>
<div class="txt" style="position:absolute; left:76px; top:109532px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The version that calls </span><span id="f26" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">isEmpty </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">ran in 646 milliseconds. The version</span></div>
<div class="txt" style="position:absolute; left:112px; top:109581px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">that catches the </span><span id="f26" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">EmptyStackException </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">ran in 21,739 milliseconds ---</span></div>
<div class="txt" style="position:absolute; left:112px; top:109630px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">it took far longer to catch an exception than to perform a simple test.</span></div>
<div class="txt" style="position:absolute; left:76px; top:109700px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The moral is: </span><span id="f40" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Use exceptions for exceptional circumstances only.</span></div>
<img id="background" style="position:absolute; left:0px; top:109898px;" width="1440" height="1080" src="page93.png"> <img id="background" style="position:absolute; left:1440px; top:109898px;" width="1440" height="1080" src="page-000093.png">
<div class="txt" style="position:absolute; left:942px; top:109914px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:110005px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Do not micromanage exceptions</span></div>
<div class="txt" style="position:absolute; left:56px; top:110130px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">Do not micromanage exceptions. </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">不要过分地细化异常</span></div>
<div class="txt" style="position:absolute; left:92px; top:110200px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Many programmers wrap every statement in a separate </span><span id="f13" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,255,1);">try block</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:92px; top:110261px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Next, we force it to pop the stack no matter what and then catch the</span></div>
<div class="txt" style="position:absolute; left:128px; top:110304px;"><span id="f25" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">EmptyStackException </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">that tells us we should not have done that.</span></div>
<div class="txt" style="position:absolute; left:92px; top:110361px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">将正常处理与异常处理分开</span></div>
<div class="txt" style="position:absolute; left:124px; top:110409px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">PrintStream out;</span></div>
<div class="txt" style="position:absolute; left:124px; top:110443px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Stack s;</span></div>
<div class="txt" style="position:absolute; left:124px; top:110477px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">for (i = 0; i &lt; 100; i++) {</span></div>
<div class="txt" style="position:absolute; left:209px; top:110510px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">try {</span></div>
<div class="txt" style="position:absolute; left:294px; top:110544px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">n = s.pop();</span></div>
<div class="txt" style="position:absolute; left:209px; top:110577px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:209px; top:110611px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">catch (EmptyStackException e) {</span></div>
<div class="txt" style="position:absolute; left:294px; top:110645px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// stack was empty</span></div>
<div class="txt" style="position:absolute; left:209px; top:110678px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:209px; top:110712px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">try {</span></div>
<div class="txt" style="position:absolute; left:294px; top:110746px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">out.writeInt(n);</span></div>
<div class="txt" style="position:absolute; left:209px; top:110779px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:209px; top:110813px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">catch (IOException e) {</span></div>
<div class="txt" style="position:absolute; left:294px; top:110846px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// problem writing to file</span></div>
<div class="txt" style="position:absolute; left:209px; top:110880px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:124px; top:110913px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:876px; top:110454px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">try {</span></div>
<div class="txt" style="position:absolute; left:948px; top:110487px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">for (i = 0; i &lt; 100; i++) {</span></div>
<div class="txt" style="position:absolute; left:1046px; top:110521px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">n = s.pop();</span></div>
<div class="txt" style="position:absolute; left:1046px; top:110555px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">out.writeInt(n);</span></div>
<div class="txt" style="position:absolute; left:961px; top:110588px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:876px; top:110622px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:876px; top:110655px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">catch (IOException e) {</span></div>
<div class="txt" style="position:absolute; left:961px; top:110689px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// problem writing to file</span></div>
<div class="txt" style="position:absolute; left:876px; top:110723px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:876px; top:110756px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">catch (EmptyStackException e) {</span></div>
<div class="txt" style="position:absolute; left:961px; top:110790px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// stack was empty</span></div>
<div class="txt" style="position:absolute; left:876px; top:110823px;"><span id="f25" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:111092px;" width="1440" height="1080" src="page94.png"> <img id="background" style="position:absolute; left:1440px; top:111092px;" width="1440" height="1080" src="page-000094.png">
<div class="txt" style="position:absolute; left:942px; top:111108px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:111199px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Make good use of the exception hierarchy</span></div>
<div class="txt" style="position:absolute; left:76px; top:111336px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">Make good use of the exception hierarchy. </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">利用好异常层次结构</span></div>
<div class="txt" style="position:absolute; left:112px; top:111406px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Don’t just throw an Exception</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">. Find an appropriate subclass or create your</span></div>
<div class="txt" style="position:absolute; left:148px; top:111445px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">own. </span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">不要只抛出</span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Exception</span></div>
<div class="txt" style="position:absolute; left:112px; top:111509px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Don’t just catch </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Throwable. </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">It makes your code hard to read and maintain.</span></div>
<div class="txt" style="position:absolute; left:148px; top:111549px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">不要只捕获</span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Throwable</span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">异常</span></div>
<div class="txt" style="position:absolute; left:112px; top:111613px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Respect the difference between checked and unchecked exceptions.</span></div>
<div class="txt" style="position:absolute; left:148px; top:111656px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Checked exceptions are inherently burdensome</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">—don’t throw them for</span></div>
<div class="txt" style="position:absolute; left:148px; top:111696px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">logic errors.</span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">考虑已检查异常与未检查异常的区别</span></div>
<div class="txt" style="position:absolute; left:112px; top:111760px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Do not hesitate to turn an exception into another exception that is more</span></div>
<div class="txt" style="position:absolute; left:148px; top:111803px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">appropriate. </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">For example, when you parse an integer in a file, catch the</span></div>
<div class="txt" style="position:absolute; left:148px; top:111846px;"><span id="f51" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">NumberFormatException </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and turn it into a subclass of </span><span id="f51" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">IOException </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">or</span></div>
<div class="txt" style="position:absolute; left:148px; top:111886px;"><span id="f51" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">MySubsystemException</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">. </span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">将一种异常转换成另一种更加适合的异常时不要</span></div>
<div class="txt" style="position:absolute; left:148px; top:111929px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">犹豫</span></div>
<img id="background" style="position:absolute; left:0px; top:112286px;" width="1440" height="1080" src="page95.png"> <img id="background" style="position:absolute; left:1440px; top:112286px;" width="1440" height="1080" src="page-000095.png">
<div class="txt" style="position:absolute; left:942px; top:112302px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:112393px;"><span id="f10" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">“Tough love” works better than indulgence</span></div>
<div class="txt" style="position:absolute; left:76px; top:112532px;"><span id="f12" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">When you detect an error, “tough love” works better than</span></div>
<div class="txt" style="position:absolute; left:112px; top:112578px;"><span id="f16" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">indulgence. </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">在检测错误时，“苛刻”要比放任好</span></div>
<div class="txt" style="position:absolute; left:112px; top:112648px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Some programmers worry about throwing exceptions when they detect</span></div>
<div class="txt" style="position:absolute; left:148px; top:112691px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">errors.</span></div>
<div class="txt" style="position:absolute; left:112px; top:112751px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Maybe it would be better to return a dummy value rather than throw an</span></div>
<div class="txt" style="position:absolute; left:148px; top:112795px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">exception when a method is called with invalid parameters? For example ,</span></div>
<div class="txt" style="position:absolute; left:148px; top:112837px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">should </span><span id="f29" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Stack.pop </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">return null, or throw an exception when a stack is</span></div>
<div class="txt" style="position:absolute; left:148px; top:112877px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">empty? Stack.pop </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">返回空值还是抛出异常？</span></div>
<div class="txt" style="position:absolute; left:112px; top:112941px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">We think it is better to throw a </span><span id="f29" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">EmptyStackException </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">at the point of</span></div>
<div class="txt" style="position:absolute; left:148px; top:112981px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">failure than to have a </span><span id="f29" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">NullPointerException </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">occur at later time. </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">此时，</span></div>
<div class="txt" style="position:absolute; left:148px; top:113024px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">抛出异常比稍后出现空指针访问更好</span></div>
<img id="background" style="position:absolute; left:0px; top:113480px;" width="1440" height="1080" src="page96.png"> <img id="background" style="position:absolute; left:1440px; top:113480px;" width="1440" height="1080" src="page-000096.png">
<div class="txt" style="position:absolute; left:942px; top:113496px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:113587px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Propagating exceptions is not a sign of shame</span></div>
<div class="txt" style="position:absolute; left:76px; top:113724px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">Propagating exceptions is not a sign of shame. </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">不要羞于传递异常</span></div>
<div class="txt" style="position:absolute; left:112px; top:113794px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Many programmers feel compelled to catch all exceptions that are thrown.</span></div>
<div class="txt" style="position:absolute; left:112px; top:113854px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">If they call a method that throws an exception, such as the</span></div>
<div class="txt" style="position:absolute; left:148px; top:113897px;"><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">FileInputStream </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">constructor or the </span><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">readLine </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">method, they instinctively</span></div>
<div class="txt" style="position:absolute; left:148px; top:113941px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">catch the exception that may be generated.</span></div>
<div class="txt" style="position:absolute; left:112px; top:114001px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Often, it is actually better to propagate the exception instead of catching it:</span></div>
<div class="txt" style="position:absolute; left:178px; top:114056px;"><span id="f23" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public void readStuff(String filename) throws IOException</span></div>
<div class="txt" style="position:absolute; left:948px; top:114095px;"><span id="f23" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">// not a sign of shame!</span></div>
<div class="txt" style="position:absolute; left:178px; top:114133px;"><span id="f23" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:263px; top:114171px;"><span id="f23" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">InputStream in = new FileInputStream(filename);</span></div>
<div class="txt" style="position:absolute; left:263px; top:114210px;"><span id="f23" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">...</span></div>
<div class="txt" style="position:absolute; left:178px; top:114248px;"><span id="f23" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:112px; top:114304px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Higher-level methods are often better equipped to inform the user of</span></div>
<div class="txt" style="position:absolute; left:148px; top:114343px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">errors or to abandon unsuccessful commands. </span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">让高层方法通知用户发生了</span></div>
<div class="txt" style="position:absolute; left:148px; top:114386px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">错误，或者放弃不成功的命令更加适宜</span></div>
<div class="txt" style="position:absolute; left:76px; top:114456px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f41" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">NOTE: </span><span id="f43" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">“throw early, catch late.”</span></div>
<img id="background" style="position:absolute; left:0px; top:114674px;" width="1440" height="1080" src="page97.png"> <img id="background" style="position:absolute; left:1440px; top:114674px;" width="1440" height="1080" src="page-000097.png">
<div class="txt" style="position:absolute; left:942px; top:114690px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:114781px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Other Tips for Using Exceptions</span></div>
<div class="txt" style="position:absolute; left:62px; top:114911px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Avoid unnecessary checked exceptions</span></div>
<div class="txt" style="position:absolute; left:62px; top:114983px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Favor standard exceptions</span></div>
<div class="txt" style="position:absolute; left:98px; top:115050px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Absolutely it makes sense to reuse Exception classes when they reasonably</span></div>
<div class="txt" style="position:absolute; left:134px; top:115089px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">describe the scenario that caused the exception to be thrown. </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Java</span><span id="f49" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">预定义的一</span></div>
<div class="txt" style="position:absolute; left:134px; top:115133px;"><span id="f49" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">些异常，如果能够很好的说明情况，则建议复用</span></div>
<div class="txt" style="position:absolute; left:98px; top:115197px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f62" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">IllegalArgumentException </span><span id="f64" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">invalid parameter value</span></div>
<div class="txt" style="position:absolute; left:98px; top:115257px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f62" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">IllegalStateException </span><span id="f64" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">invalid object state</span></div>
<div class="txt" style="position:absolute; left:98px; top:115318px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f62" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">NullPointerException </span><span id="f64" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">null paramwhere prohibited</span></div>
<div class="txt" style="position:absolute; left:98px; top:115378px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f62" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">IndexOutOfBoundsException </span><span id="f64" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">invalid index param</span></div>
<div class="txt" style="position:absolute; left:62px; top:115444px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Throw exceptions appropriate to abstraction </span><span id="f49" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">根据抽象级别抛出合适的异常</span></div>
<div class="txt" style="position:absolute; left:98px; top:115490px;"><span id="f49" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">，</span><span id="f49" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">高层应该捕获低层的异常，并抛出在高层抽象可以理解的异常</span></div>
<div class="txt" style="position:absolute; left:62px; top:115564px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Document all exceptions thrown by each method</span></div>
<div class="txt" style="position:absolute; left:98px; top:115631px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Checked and unchecked</span></div>
<div class="txt" style="position:absolute; left:98px; top:115691px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f64" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">But don’t </span><span id="f101" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">declare </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">unchecked exceptions!</span></div>
<img id="background" style="position:absolute; left:0px; top:115868px;" width="1440" height="1080" src="page98.png"> <img id="background" style="position:absolute; left:1440px; top:115868px;" width="1440" height="1080" src="page-000098.png">
<div class="txt" style="position:absolute; left:942px; top:115884px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">7.2 Error and Exception Handling</span></div>
<div class="txt" style="position:absolute; left:33px; top:115975px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Other Tips for Using Exceptions</span></div>
<div class="txt" style="position:absolute; left:62px; top:116105px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Include failure-capture info in detail message</span></div>
<div class="txt" style="position:absolute; left:130px; top:116195px;"><span id="f27" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">throw new IlegalArgumentException("Modulus must be prime: " + modulus);</span></div>
<div class="txt" style="position:absolute; left:62px; top:116321px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Don’t </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">ignore exceptions</span></div>
<div class="txt" style="position:absolute; left:91px; top:116444px;"><span id="f27" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">// Empty catch block IGNORES exception </span><span id="f32" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f27" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Bad smell in code!</span></div>
<div class="txt" style="position:absolute; left:91px; top:116483px;"><span id="f27" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">try {</span></div>
<div class="txt" style="position:absolute; left:176px; top:116521px;"><span id="f27" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">...</span></div>
<div class="txt" style="position:absolute; left:91px; top:116559px;"><span id="f27" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:91px; top:116598px;"><span id="f27" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">catch (SomeException e) </span><span id="f27" style="font-size:14px;vertical-align:baseline;color:rgba(255,0,0,1);">{ }</span></div>
<img id="background" style="position:absolute; left:0px; top:117062px;" width="1440" height="1080" src="page99.png"> <img id="background" style="position:absolute; left:1440px; top:117062px;" width="1440" height="1080" src="page-000099.png">
<div class="txt" style="position:absolute; left:1105px; top:117080px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:590px; top:117477px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">The end</span></div>
<div class="txt" style="position:absolute; left:597px; top:117731px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">April 23, 2019</span></div>
</body></html>