<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head> <body onload="start()"><div style="background:#5c5c5f; color:#FFF"> <p align="center">&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;[&#x6DF1;&#x5BB9;Pubmed&#x6587;&#x732E;&#x68C0;&#x7D22;] &nbsp 1. &#x6B64;&#x5904;&#x53F3;&#x952E;&#xFF1A;&#x9009;&#x83DC;&#x5355;&#x3010;&#x7FFB;&#x6210;&#x4E2D;&#x6587;&#xFF08;&#x7B80;&#x4F53;&#xFF09;&#x3011; &nbsp &nbsp &nbsp  2. &#x7FFB;&#x8BD1;&#x540E;&#xFF0C;&#x6B64;&#x5904;&#x53F3;&#x952E;&#xFF1A;&#x9009;&#x83DC;&#x5355;&#x3010;&#x6253;&#x5370;...&#x3011;&#x6210;PDF&#x683C;&#x5F0F; <br>&#x5EFA;&#x8BAE;&#x5C4F;&#x5E55;&#x5206;&#x8FA8;&#x7387;&#xFF1A;1920X1080&#xFF1B;&#x5982;&#x679C;&#x5C4F;&#x5E55;&#x592A;&#x5C0F;&#xFF0C;&#x53EF;&#x4EE5;&#x6309;Ctrl + &#x6216; Ctrl -&#x7F29;&#x653E;&#x7F51;&#x9875;&#x3002;</p></div><style type="text/css"> .txt { white-space:nowrap; }	 #f0 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f1 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f2 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f3 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f4 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f5 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f6 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f7 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f8 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f9 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f10 { font-family:sans-serif; font-weight:normal; font-style:normal; }  #f11 { font-family:sans-serif; font-weight:normal; font-style:normal; }  #f12 { font-family:sans-serif; font-weight:normal; font-style:normal; } 	#f13 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f14 { font-family:sans-serif; font-weight:normal; font-style:normal; } #f15 { font-family:sans-serif; font-weight:normal; font-style:normal; } 	#f16 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f17 { font-family:sans-serif; font-weight:normal; font-style:normal; } #f18 { font-family:sans-serif; font-weight:normal; font-style:normal; } #f19 { font-family:sans-serif; font-weight:normal; font-style:normal; }		#f20 { font-family:sans-serif; font-weight:normal; font-style:normal; }		</style><img id="background" style="position:absolute; left:0px; top:50px;" width="1440" height="1080" src="page1.png"> <img id="background" style="position:absolute; left:1440px; top:50px;" width="1440" height="1080" src="page-000001.png">
<div class="txt" style="position:absolute; left:1105px; top:68px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:207px; top:362px;"><span id="f9" style="font-size:55px;vertical-align:baseline;color:rgba(0,0,0,1);">Chapter 5: Reusability-Oriented Software</span></div>
<div class="txt" style="position:absolute; left:401px; top:429px;"><span id="f9" style="font-size:55px;vertical-align:baseline;color:rgba(0,0,0,1);">Construction Approaches</span></div>
<div class="txt" style="position:absolute; left:238px; top:500px;"><span id="f19" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:596px; top:719px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Xu Hanchuan</span></div>
<div class="txt" style="position:absolute; left:585px; top:772px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(255,98,176,1);">xhc@hit.edu.cn</span></div>
<div class="txt" style="position:absolute; left:597px; top:877px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">April 14, 2019</span></div>
<img id="background" style="position:absolute; left:0px; top:1050px;" width="1440" height="1080" src="page2.png"> <img id="background" style="position:absolute; left:1440px; top:1050px;" width="1440" height="1080" src="page-000002.png">
<div class="txt" style="position:absolute; left:33px; top:1157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Outline</span></div>
<div class="txt" style="position:absolute; left:1008px; top:1068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:1297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Structural patterns</span></div>
<div class="txt" style="position:absolute; left:112px; top:1364px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Adapter </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">allows classes with incompatible interfaces to work together by</span></div>
<div class="txt" style="position:absolute; left:148px; top:1407px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">wrapping its own interface around that of an already existing class.</span></div>
<div class="txt" style="position:absolute; left:112px; top:1467px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Decorator </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">dynamically adds/overrides behavior in an existing method of</span></div>
<div class="txt" style="position:absolute; left:148px; top:1511px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">an object.</span></div>
<div class="txt" style="position:absolute; left:112px; top:1571px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Facade </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">provides a simplified interface to a large body of code.</span></div>
<div class="txt" style="position:absolute; left:76px; top:1637px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Behavioral patterns</span></div>
<div class="txt" style="position:absolute; left:112px; top:1704px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Strategy </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">allows one of a family of algorithms to be selected on-the-fly at</span></div>
<div class="txt" style="position:absolute; left:148px; top:1747px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">runtime.</span></div>
<div class="txt" style="position:absolute; left:112px; top:1807px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Template method </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">defines the skeleton of an algorithm as an abstract class,</span></div>
<div class="txt" style="position:absolute; left:148px; top:1851px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">allowing its subclasses to provide concrete behavior.</span></div>
<div class="txt" style="position:absolute; left:112px; top:1911px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Iterator </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">accesses the elements of an object sequentially without exposing</span></div>
<div class="txt" style="position:absolute; left:148px; top:1954px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">its underlying representation.</span></div>
<img id="background" style="position:absolute; left:0px; top:2050px;" width="1440" height="1080" src="page3.png"> <img id="background" style="position:absolute; left:1440px; top:2050px;" width="1440" height="1080" src="page-000003.png">
<div class="txt" style="position:absolute; left:33px; top:2157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Recall: Why reusable Designs?</span></div>
<div class="txt" style="position:absolute; left:1008px; top:2068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:2299px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A design…</span></div>
<div class="txt" style="position:absolute; left:76px; top:2366px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">…enables flexibility to change (reusability) </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">灵活的改变</span></div>
<div class="txt" style="position:absolute; left:76px; top:2443px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">…minimizes the introduction of new problems when fixing old ones</span></div>
<div class="txt" style="position:absolute; left:112px; top:2486px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(maintainability) </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">易于修复</span></div>
<div class="txt" style="position:absolute; left:76px; top:2563px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">…allows the delivery of more functionality after an initial delivery</span></div>
<div class="txt" style="position:absolute; left:112px; top:2606px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(extensibility) </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">易于增加新功能</span></div>
<img id="background" style="position:absolute; left:0px; top:3050px;" width="1440" height="1080" src="page4.png"> <img id="background" style="position:absolute; left:1440px; top:3050px;" width="1440" height="1080" src="page-000004.png">
<div class="txt" style="position:absolute; left:33px; top:3157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Gang of Four</span></div>
<div class="txt" style="position:absolute; left:76px; top:3297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Design Patterns: Elements of Reusable</span></div>
<div class="txt" style="position:absolute; left:112px; top:3347px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Object-Oriented Software</span></div>
<div class="txt" style="position:absolute; left:76px; top:3417px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">By GoF (Gang of Four)</span></div>
<div class="txt" style="position:absolute; left:112px; top:3484px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Erich Gamma</span></div>
<div class="txt" style="position:absolute; left:112px; top:3544px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Richard Helm</span></div>
<div class="txt" style="position:absolute; left:112px; top:3605px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Ralph Johnson</span></div>
<div class="txt" style="position:absolute; left:112px; top:3665px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">John Vlissides</span></div>
<div class="txt" style="position:absolute; left:1008px; top:3068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:924px; top:3975px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">《图解设计模式》</span></div>
<div class="txt" style="position:absolute; left:924px; top:4019px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">《</span><span id="f36" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Head First </span><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">设计模式》</span></div>
<img id="background" style="position:absolute; left:0px; top:4050px;" width="1440" height="1080" src="page5.png"> <img id="background" style="position:absolute; left:1440px; top:4050px;" width="1440" height="1080" src="page-000005.png">
<div class="txt" style="position:absolute; left:33px; top:4157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Design patterns taxonomy</span></div>
<div class="txt" style="position:absolute; left:1008px; top:4068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:4297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Creational patterns</span></div>
<div class="txt" style="position:absolute; left:112px; top:4362px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Concern the process of object creation </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">如何创建对象</span></div>
<div class="txt" style="position:absolute; left:76px; top:4436px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Structural patterns</span></div>
<div class="txt" style="position:absolute; left:112px; top:4501px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Deal with the composition of classes or objects </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">如何组合类和对象</span></div>
<div class="txt" style="position:absolute; left:76px; top:4575px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Behavioral patterns</span></div>
<div class="txt" style="position:absolute; left:112px; top:4642px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Characterize the ways in which classes or objects interact and distribute</span></div>
<div class="txt" style="position:absolute; left:148px; top:4683px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">responsibility. </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">如何交互和分配责任</span></div>
<img id="background" style="position:absolute; left:0px; top:5050px;" width="1440" height="1080" src="page6.png"> <img id="background" style="position:absolute; left:1440px; top:5050px;" width="1440" height="1080" src="page-000006.png">
<div class="txt" style="position:absolute; left:1105px; top:5068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:394px; top:5465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">1 Structural patterns</span></div>
<img id="background" style="position:absolute; left:0px; top:6050px;" width="1440" height="1080" src="page7.png"> <img id="background" style="position:absolute; left:1440px; top:6050px;" width="1440" height="1080" src="page-000007.png">
<div class="txt" style="position:absolute; left:1105px; top:6068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:536px; top:6417px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(1) Adapter</span></div>
<div class="txt" style="position:absolute; left:478px; top:6496px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">加个“适配器”以便于复用</span></div>
<img id="background" style="position:absolute; left:0px; top:7050px;" width="1440" height="1080" src="page8.png"> <img id="background" style="position:absolute; left:1440px; top:7050px;" width="1440" height="1080" src="page-000008.png">
<div class="txt" style="position:absolute; left:33px; top:7152px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Adapter Pattern </span><span id="f11" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">适配器模式</span></div>
<div class="txt" style="position:absolute; left:1008px; top:7068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:79px; top:7297px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Intent: </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Convert the interface of a class into another interface clients</span></div>
<div class="txt" style="position:absolute; left:115px; top:7342px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">expect. </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">意图：将类的接口转换为客户端期望的另一个接口</span></div>
<div class="txt" style="position:absolute; left:115px; top:7412px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Adapter lets classes work together that couldn‘t otherwise because of</span></div>
<div class="txt" style="position:absolute; left:151px; top:7451px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">incompatible interfaces. </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">解决类之间接口不兼容的问题</span></div>
<div class="txt" style="position:absolute; left:115px; top:7511px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Wrap an existing class with a new interface. </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">为已有的类提供新的接口</span></div>
<div class="txt" style="position:absolute; left:79px; top:7581px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Objective: </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to reuse an old component to a new system (also called</span></div>
<div class="txt" style="position:absolute; left:115px; top:7626px;"><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">“</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">wrapper</span><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">”) </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">目标：对旧的不兼容组件进行包装，在新系统中使用旧</span></div>
<div class="txt" style="position:absolute; left:115px; top:7674px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">的组件</span></div>
<div class="txt" style="position:absolute; left:79px; top:7818px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">加个“适配器”以便于复用</span></div>
<img id="background" style="position:absolute; left:0px; top:8050px;" width="1440" height="1080" src="page9.png"> <img id="background" style="position:absolute; left:1440px; top:8050px;" width="1440" height="1080" src="page-000009.png">
<div class="txt" style="position:absolute; left:33px; top:8152px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Adapter Pattern </span><span id="f11" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">适配器模式</span></div>
<div class="txt" style="position:absolute; left:1008px; top:8068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:641px; top:8602px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">实现</span></div>
<div class="txt" style="position:absolute; left:870px; top:8599px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">继承</span></div>
<img id="background" style="position:absolute; left:0px; top:9050px;" width="1440" height="1080" src="page10.png"> <img id="background" style="position:absolute; left:1440px; top:9050px;" width="1440" height="1080" src="page-000010.png">
<div class="txt" style="position:absolute; left:33px; top:9157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:1008px; top:9068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:9297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f14" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">Adaptee </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is the existing class.</span></div>
<div class="txt" style="position:absolute; left:76px; top:9369px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f14" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">ITarget </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is the interface defined in the existing library.</span></div>
<div class="txt" style="position:absolute; left:76px; top:9441px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f14" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">Adapter </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is the class that you create, it is inherited from the</span></div>
<div class="txt" style="position:absolute; left:112px; top:9491px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">adaptee class and it implements the ITarget interface. Notice that it</span></div>
<div class="txt" style="position:absolute; left:112px; top:9539px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">can </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">call the SpecificRequest </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">method(inherited from the adaptee)</span></div>
<div class="txt" style="position:absolute; left:112px; top:9587px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">inside its request method(implemented by the ITarget).</span></div>
<div class="txt" style="position:absolute; left:633px; top:9891px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">实现</span></div>
<div class="txt" style="position:absolute; left:865px; top:9894px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">继承</span></div>
<img id="background" style="position:absolute; left:0px; top:10050px;" width="1440" height="1080" src="page11.png"> <img id="background" style="position:absolute; left:1440px; top:10050px;" width="1440" height="1080" src="page-000011.png">
<div class="txt" style="position:absolute; left:33px; top:10157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:1008px; top:10068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:10297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">An organization tree that is constructed where all the employees</span></div>
<div class="txt" style="position:absolute; left:112px; top:10346px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">implements the </span><span id="f15" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">IEmployee </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">interface. The IEmployee interface has a</span></div>
<div class="txt" style="position:absolute; left:112px; top:10395px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">method named ShowHappiness().</span></div>
<div class="txt" style="position:absolute; left:76px; top:10465px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">We need to plug an existing </span><span id="f15" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">Consultant </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">class into the organization</span></div>
<div class="txt" style="position:absolute; left:112px; top:10514px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">tree. The </span><span id="f15" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">Consultant </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">class is the adaptee which has a method named</span></div>
<div class="txt" style="position:absolute; left:112px; top:10563px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">ShowSmile().</span></div>
<div class="txt" style="position:absolute; left:76px; top:10633px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f28" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">This incongruity can be reconciled by adding an additional level of</span></div>
<div class="txt" style="position:absolute; left:112px; top:10678px;"><span id="f28" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">indirection </span><span id="f31" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f28" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">i.e. an Adapter object. </span><span id="f35" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">通过增加额外的间接层来解决不</span></div>
<div class="txt" style="position:absolute; left:112px; top:10726px;"><span id="f35" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">协调</span><span id="f28" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">/</span><span id="f35" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">不兼容的问题</span></div>
<img id="background" style="position:absolute; left:0px; top:11050px;" width="1440" height="1080" src="page12.png"> <img id="background" style="position:absolute; left:1440px; top:11050px;" width="1440" height="1080" src="page-000012.png">
<div class="txt" style="position:absolute; left:33px; top:11157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:1008px; top:11068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:65px; top:11283px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public class </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(192,0,0,1);">Consultant </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">{ //</span><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">已存在的类</span></div>
<div class="txt" style="position:absolute; left:144px; top:11329px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">private String name;</span></div>
<div class="txt" style="position:absolute; left:144px; top:11416px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public Consultant(String name) {</span></div>
<div class="txt" style="position:absolute; left:209px; top:11459px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">this.name = name;</span></div>
<div class="txt" style="position:absolute; left:144px; top:11502px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:144px; top:11589px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">protected void </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,255,1);">ShowSmile() </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:209px; top:11632px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Consultant " + this.name + " showed</span></div>
<div class="txt" style="position:absolute; left:576px; top:11675px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">smile");</span></div>
<div class="txt" style="position:absolute; left:144px; top:11718px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:65px; top:11762px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:65px; top:11845px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public interface </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(192,0,0,1);">IEmployee </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">{//</span><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">目标接口</span></div>
<div class="txt" style="position:absolute; left:209px; top:11891px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">void </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,255,1);">ShowHappiness();</span></div>
<div class="txt" style="position:absolute; left:65px; top:11934px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:12050px;" width="1440" height="1080" src="page13.png"> <img id="background" style="position:absolute; left:1440px; top:12050px;" width="1440" height="1080" src="page-000013.png">
<div class="txt" style="position:absolute; left:33px; top:12157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:1008px; top:12068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:65px; top:12286px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public class </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(192,0,0,1);">EmployeeAdapter </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,255,1);">extends Consultant implements</span></div>
<div class="txt" style="position:absolute; left:65px; top:12329px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,255,1);">IEmployee </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">{ //Adapter</span></div>
<div class="txt" style="position:absolute; left:144px; top:12373px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public EmployeeAdapter(String name){</span></div>
<div class="txt" style="position:absolute; left:209px; top:12416px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">super(name);</span></div>
<div class="txt" style="position:absolute; left:144px; top:12459px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:144px; top:12546px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">@Override</span></div>
<div class="txt" style="position:absolute; left:144px; top:12589px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public void </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,255,1);">ShowHappiness() </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:223px; top:12632px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,255,1);">ShowSmile(); </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">// call the parent Consultant class</span></div>
<div class="txt" style="position:absolute; left:144px; top:12675px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:65px; top:12718px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:65px; top:12805px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public class Client {</span></div>
<div class="txt" style="position:absolute; left:144px; top:12848px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void main(String[] args){</span></div>
<div class="txt" style="position:absolute; left:144px; top:12891px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">IEmployee em = new EmployeeAdapter("Bruno");</span></div>
<div class="txt" style="position:absolute; left:223px; top:12934px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">em.ShowHappiness();</span></div>
<div class="txt" style="position:absolute; left:144px; top:12978px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:65px; top:13021px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:65px; top:13064px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Result: Consultant Bruno showed smile</span></div>
<img id="background" style="position:absolute; left:0px; top:15572px;" width="1440" height="1080" src="page14.png"> <img id="background" style="position:absolute; left:1440px; top:15572px;" width="1440" height="1080" src="page-000014.png">
<div class="txt" style="position:absolute; left:33px; top:15679px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Adapter Pattern</span></div>
<div class="txt" style="position:absolute; left:62px; top:15808px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Two types of Adapter Design Pattern</span></div>
<div class="txt" style="position:absolute; left:99px; top:15874px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Inheritance</span></div>
<div class="txt" style="position:absolute; left:99px; top:15935px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Delegation</span></div>
<div class="txt" style="position:absolute; left:1008px; top:15590px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:541px; top:16237px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">继承</span></div>
<div class="txt" style="position:absolute; left:1284px; top:16237px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">委托</span></div>
<img id="background" style="position:absolute; left:0px; top:16766px;" width="1440" height="1080" src="page15.png"> <img id="background" style="position:absolute; left:1440px; top:16766px;" width="1440" height="1080" src="page-000015.png">
<div class="txt" style="position:absolute; left:1105px; top:16784px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:510px; top:17132px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(2) Decorator</span></div>
<div class="txt" style="position:absolute; left:459px; top:17209px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">装饰边框与被装饰物的一致性</span></div>
<img id="background" style="position:absolute; left:0px; top:17960px;" width="1440" height="1080" src="page16.png"> <img id="background" style="position:absolute; left:1440px; top:17960px;" width="1440" height="1080" src="page-000016.png">
<div class="txt" style="position:absolute; left:1008px; top:17978px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:33px; top:18067px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Motivating example of Decorator pattern</span></div>
<div class="txt" style="position:absolute; left:76px; top:18207px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Suppose you want various extensions of a </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">Stack </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">data structure…</span></div>
<div class="txt" style="position:absolute; left:112px; top:18273px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">UndoStack</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: A stack that lets you undo previous push or pop operations</span></div>
<div class="txt" style="position:absolute; left:112px; top:18334px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">SecureStack</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: A stack that requires a password</span></div>
<div class="txt" style="position:absolute; left:112px; top:18394px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">SynchronizedStack</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: A stack that serializes concurrent</span></div>
<div class="txt" style="position:absolute; left:148px; top:18438px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">accesses</span></div>
<div class="txt" style="position:absolute; left:1152px; top:18399px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,255,255,1);">Inheritance</span></div>
<div class="txt" style="position:absolute; left:76px; top:18564px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">And arbitrarily composable extensions:</span></div>
<div class="txt" style="position:absolute; left:112px; top:18631px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">SecureUndoStack</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: A stack that requires a password, and also lets you</span></div>
<div class="txt" style="position:absolute; left:148px; top:18674px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">undo previous operations</span></div>
<div class="txt" style="position:absolute; left:112px; top:18734px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">SynchronizedUndoStack</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: A stack that serializes concurrent accesses, and</span></div>
<div class="txt" style="position:absolute; left:148px; top:18778px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">also lets you undo previous operations</span></div>
<div class="txt" style="position:absolute; left:112px; top:18838px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">SecureSynchronizedStack</span><span id="f42" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: …</span></div>
<div class="txt" style="position:absolute; left:112px; top:18898px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f15" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">SecureSynchronizedUndoStack</span><span id="f42" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: …</span></div>
<div class="txt" style="position:absolute; left:1033px; top:18838px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,255,255,1);">Inheritance</span></div>
<div class="txt" style="position:absolute; left:1027px; top:18886px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,255,255,1);">hierarchies?</span></div>
<div class="txt" style="position:absolute; left:968px; top:18934px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,255,255,1);">Multi-Inheritance?</span></div>
<img id="background" style="position:absolute; left:0px; top:19154px;" width="1440" height="1080" src="page17.png"> <img id="background" style="position:absolute; left:1440px; top:19154px;" width="1440" height="1080" src="page-000017.png">
<div class="txt" style="position:absolute; left:33px; top:19256px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Decorator </span><span id="f11" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">装饰器模式</span></div>
<div class="txt" style="position:absolute; left:1008px; top:19172px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:19401px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Problem: </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">You need arbitrary or dynamically composable extensions</span></div>
<div class="txt" style="position:absolute; left:112px; top:19446px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to individual objects. </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">问题</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">: </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">需要对对象进行任意或者动态的扩展组合</span></div>
<div class="txt" style="position:absolute; left:76px; top:19521px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Solution: </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Implement a common interface as the object you are</span></div>
<div class="txt" style="position:absolute; left:112px; top:19571px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">extending, add functionality, but delegate primary responsibility to</span></div>
<div class="txt" style="position:absolute; left:112px; top:19614px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">an underlying object. </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">方案</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">: </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">实现一个通用接口作为要扩展的对象，将</span></div>
<div class="txt" style="position:absolute; left:112px; top:19662px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">主要功能委托给基础对象</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(stack)</span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">，然后添加功能</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(undo,secure,..)</span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">。</span></div>
<div class="txt" style="position:absolute; left:76px; top:19734px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">It works in a </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">recursive </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">way. </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">以递归的方式实现</span></div>
<div class="txt" style="position:absolute; left:76px; top:19809px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Consequences:</span></div>
<div class="txt" style="position:absolute; left:112px; top:19876px;"><span id="f63" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">More flexible than static inheritance Customizable, cohesive extensions</span></div>
<div class="txt" style="position:absolute; left:76px; top:19941px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Decorators use both </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">subtyping and delegation</span></div>
<div class="txt" style="position:absolute; left:76px; top:20083px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">装饰边框与被装饰物的一致性</span></div>
<img id="background" style="position:absolute; left:0px; top:20348px;" width="1440" height="1080" src="page18.png"> <img id="background" style="position:absolute; left:1440px; top:20348px;" width="1440" height="1080" src="page-000018.png">
<div class="txt" style="position:absolute; left:33px; top:20455px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Decorator</span></div>
<div class="txt" style="position:absolute; left:1008px; top:20366px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:20595px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f15" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">Component </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">interface defines the operation, or the features that</span></div>
<div class="txt" style="position:absolute; left:112px; top:20640px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the decorators can perform. </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">接口：定义装饰物执行的公共操作</span></div>
<div class="txt" style="position:absolute; left:76px; top:20715px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f15" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">ConcreteComponent </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">class is the </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">starting object </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">that you can</span></div>
<div class="txt" style="position:absolute; left:112px; top:20765px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">dynamically add features to. You will create this object first and add</span></div>
<div class="txt" style="position:absolute; left:112px; top:20808px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">features to it. </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">起始对象，在其基础上增加功能</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">装饰</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">，将通用的方法放</span></div>
<div class="txt" style="position:absolute; left:112px; top:20856px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">到此对象中。</span></div>
<img id="background" style="position:absolute; left:0px; top:21542px;" width="1440" height="1080" src="page19.png"> <img id="background" style="position:absolute; left:1440px; top:21542px;" width="1440" height="1080" src="page-000019.png">
<div class="txt" style="position:absolute; left:33px; top:21649px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Decorator</span></div>
<div class="txt" style="position:absolute; left:1008px; top:21560px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:21789px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f15" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">Decorator </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">class is an </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">abstract class </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and is the parent class of all</span></div>
<div class="txt" style="position:absolute; left:112px; top:21839px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the decorators. While it implements the Component interface to</span></div>
<div class="txt" style="position:absolute; left:112px; top:21887px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">define the operations, it also contains a protected</span></div>
<div class="txt" style="position:absolute; left:112px; top:21934px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">variable </span><span id="f15" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,255,1);">component </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">that points to the object to be decorated.</span></div>
<div class="txt" style="position:absolute; left:112px; top:21982px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f15" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">component </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">variable is simply assigned in the constructor.</span></div>
<div class="txt" style="position:absolute; left:112px; top:22026px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">Decorator</span><span id="f38" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">抽象类是所有装饰类的基类，里面包含的成员变量</span></div>
<div class="txt" style="position:absolute; left:112px; top:22074px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">component </span><span id="f38" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">指向了被装饰的对象。</span></div>
<div class="txt" style="position:absolute; left:76px; top:22149px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The constructor for the Decorator class is simply:</span></div>
<div class="txt" style="position:absolute; left:156px; top:22223px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">public Decorator(Component input)</span></div>
<div class="txt" style="position:absolute; left:156px; top:22271px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:196px; top:22319px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">this.component = input;</span></div>
<div class="txt" style="position:absolute; left:156px; top:22367px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:22736px;" width="1440" height="1080" src="page20.png"> <img id="background" style="position:absolute; left:1440px; top:22736px;" width="1440" height="1080" src="page-000020.png">
<div class="txt" style="position:absolute; left:33px; top:22843px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Decorator</span></div>
<div class="txt" style="position:absolute; left:1008px; top:22754px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:22983px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f15" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">ConcreteDecorator </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">class are the actual decorator classes that</span></div>
<div class="txt" style="position:absolute; left:112px; top:23033px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">can add features. You can have as many ConcreteDecorator class as</span></div>
<div class="txt" style="position:absolute; left:112px; top:23081px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">you like, and each will represent a feature that can be added.</span></div>
<img id="background" style="position:absolute; left:0px; top:23930px;" width="1440" height="1080" src="page21.png"> <img id="background" style="position:absolute; left:1440px; top:23930px;" width="1440" height="1080" src="page-000021.png">
<div class="txt" style="position:absolute; left:33px; top:24037px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:1008px; top:23948px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:24177px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In this example we have a plain ice cream where you can add</span></div>
<div class="txt" style="position:absolute; left:112px; top:24227px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">different combination of toppings to it.</span></div>
<div class="txt" style="position:absolute; left:802px; top:24579px;"><span id="f18" style="font-size:31px;vertical-align:baseline;color:rgba(255,0,0,1);">在构造方法中，指</span></div>
<div class="txt" style="position:absolute; left:802px; top:24616px;"><span id="f18" style="font-size:31px;vertical-align:baseline;color:rgba(255,0,0,1);">定</span><span id="f21" style="font-size:31px;vertical-align:baseline;color:rgba(255,0,0,1);">input</span><span id="f18" style="font-size:31px;vertical-align:baseline;color:rgba(255,0,0,1);">的值</span><span id="f21" style="font-size:31px;vertical-align:baseline;color:rgba(255,0,0,1);">(</span><span id="f18" style="font-size:31px;vertical-align:baseline;color:rgba(255,0,0,1);">被装</span></div>
<div class="txt" style="position:absolute; left:802px; top:24654px;"><span id="f18" style="font-size:31px;vertical-align:baseline;color:rgba(255,0,0,1);">饰的</span><span id="f21" style="font-size:31px;vertical-align:baseline;color:rgba(255,0,0,1);">IceCream</span><span id="f18" style="font-size:31px;vertical-align:baseline;color:rgba(255,0,0,1);">的具</span></div>
<div class="txt" style="position:absolute; left:802px; top:24692px;"><span id="f18" style="font-size:31px;vertical-align:baseline;color:rgba(255,0,0,1);">体类型</span><span id="f21" style="font-size:31px;vertical-align:baseline;color:rgba(255,0,0,1);">)</span></div>
<img id="background" style="position:absolute; left:0px; top:25124px;" width="1440" height="1080" src="page22.png"> <img id="background" style="position:absolute; left:1440px; top:25124px;" width="1440" height="1080" src="page-000022.png">
<div class="txt" style="position:absolute; left:1008px; top:25142px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:33px; top:25231px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:54px; top:25326px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public interface </span><span id="f15" style="font-size:14px;vertical-align:baseline;color:rgba(255,0,0,1);">IceCream </span><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">{ //</span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">顶层接口</span></div>
<div class="txt" style="position:absolute; left:132px; top:25373px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">void AddTopping();</span></div>
<div class="txt" style="position:absolute; left:54px; top:25416px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:54px; top:25459px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public class </span><span id="f15" style="font-size:14px;vertical-align:baseline;color:rgba(255,0,0,1);">PlainIceCream implements IceCream</span><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">{ </span><span id="f15" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,0,1);">//</span><span id="f18" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">基础实现，无填加的冰激凌</span></div>
<div class="txt" style="position:absolute; left:132px; top:25503px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">@Override</span></div>
<div class="txt" style="position:absolute; left:132px; top:25546px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public void AddTopping() {</span></div>
<div class="txt" style="position:absolute; left:211px; top:25589px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Plain IceCream ready for some</span></div>
<div class="txt" style="position:absolute; left:606px; top:25632px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">toppings!");</span></div>
<div class="txt" style="position:absolute; left:132px; top:25675px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:54px; top:25719px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:54px; top:25802px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">/*</span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">装饰器基类</span><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">*/</span></div>
<div class="txt" style="position:absolute; left:54px; top:25848px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public abstract class </span><span id="f15" style="font-size:14px;vertical-align:baseline;color:rgba(255,0,0,1);">ToppingDecorator implements IceCream</span><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:132px; top:25891px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">protected IceCream input;</span></div>
<div class="txt" style="position:absolute; left:132px; top:25935px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public ToppingDecorator(IceCream i){</span></div>
<div class="txt" style="position:absolute; left:211px; top:25978px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">this.input = i;</span></div>
<div class="txt" style="position:absolute; left:132px; top:26021px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:133px; top:26104px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public abstract void AddTopping(); //</span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">留给具体装饰器实现</span></div>
<div class="txt" style="position:absolute; left:54px; top:26151px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:26318px;" width="1440" height="1080" src="page23.png"> <img id="background" style="position:absolute; left:1440px; top:26318px;" width="1440" height="1080" src="page-000023.png">
<div class="txt" style="position:absolute; left:33px; top:26425px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:1008px; top:26336px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:62px; top:26554px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public class </span><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(255,0,0,1);">CandyTopping extends ToppingDecorator</span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:140px; top:26598px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public CandyTopping(IceCream i) {</span></div>
<div class="txt" style="position:absolute; left:220px; top:26641px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">super(i);</span></div>
<div class="txt" style="position:absolute; left:140px; top:26684px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:140px; top:26770px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public void AddTopping() {</span></div>
<div class="txt" style="position:absolute; left:206px; top:26814px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">input.AddTopping(); //</span><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,255,1);">decorate others first</span></div>
<div class="txt" style="position:absolute; left:206px; top:26853px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Candy Topping added</span><span id="f33" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">！</span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">");</span></div>
<div class="txt" style="position:absolute; left:140px; top:26900px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:62px; top:26943px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:62px; top:27030px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public class </span><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(255,0,0,1);">NutsTopping extends ToppingDecorator</span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:140px; top:27073px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">//similar to CandyTopping</span></div>
<div class="txt" style="position:absolute; left:62px; top:27116px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:62px; top:27202px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public class </span><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(255,0,0,1);">PeanutTopping extends ToppingDecorator</span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:121px; top:27246px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">//similar to CandyTopping</span></div>
<div class="txt" style="position:absolute; left:62px; top:27332px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:27512px;" width="1440" height="1080" src="page24.png"> <img id="background" style="position:absolute; left:1440px; top:27512px;" width="1440" height="1080" src="page-000024.png">
<div class="txt" style="position:absolute; left:33px; top:27619px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Another Example</span></div>
<div class="txt" style="position:absolute; left:1008px; top:27530px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:59px; top:27748px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public class Client {</span></div>
<div class="txt" style="position:absolute; left:137px; top:27792px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void main(String[] args) {</span></div>
<div class="txt" style="position:absolute; left:217px; top:27835px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">IceCream a = new PlainIceCream();</span></div>
<div class="txt" style="position:absolute; left:217px; top:27878px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">IceCream b = new CandyTopping(a);</span></div>
<div class="txt" style="position:absolute; left:217px; top:27921px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">IceCream c = new PeanutTopping(b);</span></div>
<div class="txt" style="position:absolute; left:217px; top:27964px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">IceCream d = new NutsTopping(c);</span></div>
<div class="txt" style="position:absolute; left:217px; top:28008px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">d.AddTopping();</span></div>
<div class="txt" style="position:absolute; left:197px; top:28094px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">//or</span></div>
<div class="txt" style="position:absolute; left:203px; top:28137px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">IceCream toppingIceCream =</span></div>
<div class="txt" style="position:absolute; left:276px; top:28180px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">new NutsTopping(</span></div>
<div class="txt" style="position:absolute; left:355px; top:28224px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">new PeanutTopping(</span></div>
<div class="txt" style="position:absolute; left:434px; top:28267px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">new CandyTopping(</span></div>
<div class="txt" style="position:absolute; left:533px; top:28310px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">new PlainIceCream()</span></div>
<div class="txt" style="position:absolute; left:513px; top:28353px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<div class="txt" style="position:absolute; left:374px; top:28396px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<div class="txt" style="position:absolute; left:823px; top:28407px;"><span id="f57" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,255,1);">The result:</span></div>
<div class="txt" style="position:absolute; left:296px; top:28440px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">);</span></div>
<div class="txt" style="position:absolute; left:823px; top:28441px;"><span id="f57" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,0,1);">Plain IceCream ready for some toppings!</span></div>
<div class="txt" style="position:absolute; left:59px; top:28526px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:222px; top:28483px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">toppingIceCream.AddTopping();</span></div>
<div class="txt" style="position:absolute; left:823px; top:28471px;"><span id="f57" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,0,1);">Candy Topping added</span><span id="f61" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">！</span></div>
<div class="txt" style="position:absolute; left:823px; top:28505px;"><span id="f57" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,0,1);">Peanut Topping added</span><span id="f61" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">！</span></div>
<div class="txt" style="position:absolute; left:823px; top:28539px;"><span id="f57" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,0,1);">Nuts Topping added</span><span id="f61" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">！</span></div>
<img id="background" style="position:absolute; left:0px; top:28706px;" width="1440" height="1080" src="page25.png"> <img id="background" style="position:absolute; left:1440px; top:28706px;" width="1440" height="1080" src="page-000025.png">
<div class="txt" style="position:absolute; left:33px; top:28813px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example2</span></div>
<div class="txt" style="position:absolute; left:1008px; top:28724px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:28953px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">To construct a plain stack:</span></div>
<div class="txt" style="position:absolute; left:112px; top:29020px;"><span id="f14" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Stack s = new ArrayStack();</span></div>
<div class="txt" style="position:absolute; left:76px; top:29085px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">To construct an undo stack:</span></div>
<div class="txt" style="position:absolute; left:112px; top:29152px;"><span id="f14" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">UndoStack s = new UndoStack(new ArrayStack());</span></div>
<div class="txt" style="position:absolute; left:76px; top:29218px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">To construct a secure synchronized undo stack:</span></div>
<div class="txt" style="position:absolute; left:112px; top:29285px;"><span id="f14" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">SecureStack s = new SecureStack(</span></div>
<div class="txt" style="position:absolute; left:508px; top:29328px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">new SynchronizedStack(</span></div>
<div class="txt" style="position:absolute; left:567px; top:29371px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">new UndoStack(new ArrayStack()))</span></div>
<div class="txt" style="position:absolute; left:76px; top:29509px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f37" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Flexibly Composible!</span></div>
<img id="background" style="position:absolute; left:0px; top:29900px;" width="1440" height="1080" src="page26.png"> <img id="background" style="position:absolute; left:1440px; top:29900px;" width="1440" height="1080" src="page-000026.png">
<div class="txt" style="position:absolute; left:33px; top:30007px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Decorator vs. Inheritance</span></div>
<div class="txt" style="position:absolute; left:1008px; top:29918px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:30147px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Decorator composes features at run time</span></div>
<div class="txt" style="position:absolute; left:112px; top:30214px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Inheritance composes features at compile time</span></div>
<div class="txt" style="position:absolute; left:76px; top:30279px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Decorator consists of multiple collaborating objects</span></div>
<div class="txt" style="position:absolute; left:112px; top:30346px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Inheritance produces a single, clearly-typed object</span></div>
<div class="txt" style="position:absolute; left:76px; top:30412px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Can mix and match multiple decorations</span></div>
<div class="txt" style="position:absolute; left:112px; top:30479px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Multiple inheritance is conceptually difficult</span></div>
<img id="background" style="position:absolute; left:0px; top:31094px;" width="1440" height="1080" src="page27.png"> <img id="background" style="position:absolute; left:1440px; top:31094px;" width="1440" height="1080" src="page-000027.png">
<div class="txt" style="position:absolute; left:1008px; top:31112px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:33px; top:31200px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Decorators from </span><span id="f11" style="font-size:39px;vertical-align:baseline;color:rgba(0,0,0,1);">java.util.Collections</span></div>
<div class="txt" style="position:absolute; left:76px; top:31341px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Turn a mutable list into an immutable list:</span></div>
<div class="txt" style="position:absolute; left:112px; top:31408px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">static List&lt;T&gt; unmodifiableList(List&lt;T&gt; lst);</span></div>
<div class="txt" style="position:absolute; left:112px; top:31468px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">static Set&lt;T&gt; unmodifiableSet( Set&lt;T&gt; set);</span></div>
<div class="txt" style="position:absolute; left:112px; top:31529px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">static Map&lt;K,V&gt; unmodifiableMap( Map&lt;K,V&gt; map);</span></div>
<div class="txt" style="position:absolute; left:76px; top:31594px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Similar for synchronization:</span></div>
<div class="txt" style="position:absolute; left:112px; top:31661px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">static List&lt;T&gt; synchronizedList(List&lt;T&gt; lst);</span></div>
<div class="txt" style="position:absolute; left:112px; top:31722px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">static Set&lt;T&gt; synchronizedSet( Set&lt;T&gt; set);</span></div>
<div class="txt" style="position:absolute; left:112px; top:31782px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">static Map&lt;K,V&gt; synchronizedMap( Map&lt;K,V&gt; map);</span></div>
<img id="background" style="position:absolute; left:0px; top:32288px;" width="1440" height="1080" src="page28.png"> <img id="background" style="position:absolute; left:1440px; top:32288px;" width="1440" height="1080" src="page-000028.png">
<div class="txt" style="position:absolute; left:1105px; top:32306px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:557px; top:32655px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(3) Façade</span></div>
<div class="txt" style="position:absolute; left:639px; top:32732px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">简单窗口</span></div>
<img id="background" style="position:absolute; left:0px; top:33482px;" width="1440" height="1080" src="page29.png"> <img id="background" style="position:absolute; left:1440px; top:33482px;" width="1440" height="1080" src="page-000029.png">
<div class="txt" style="position:absolute; left:33px; top:33580px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Façade </span><span id="f8" style="font-size:64px;vertical-align:baseline;color:rgba(0,0,0,1);">[f</span><span id="f12" style="font-size:64px;vertical-align:baseline;color:rgba(0,0,0,1);">əˈ</span><span id="f8" style="font-size:64px;vertical-align:baseline;color:rgba(0,0,0,1);">s</span><span id="f15" style="font-size:64px;vertical-align:baseline;color:rgba(0,0,0,1);">ɑ</span><span id="f12" style="font-size:64px;vertical-align:baseline;color:rgba(0,0,0,1);">ː</span><span id="f8" style="font-size:64px;vertical-align:baseline;color:rgba(0,0,0,1);">d] </span><span id="f19" style="font-size:64px;vertical-align:baseline;color:rgba(0,0,0,1);">外观模式</span></div>
<div class="txt" style="position:absolute; left:1008px; top:33500px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:33729px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Problem</span></div>
<div class="txt" style="position:absolute; left:112px; top:33796px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A segment of the client community needs a simplified interface to the</span></div>
<div class="txt" style="position:absolute; left:148px; top:33835px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">overall functionality of a complex subsystem</span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">. </span><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">调用者需要一个简化的接口</span></div>
<div class="txt" style="position:absolute; left:148px; top:33878px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">来调用复杂系统的整体功能。</span></div>
<div class="txt" style="position:absolute; left:76px; top:33948px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Intent</span></div>
<div class="txt" style="position:absolute; left:112px; top:34015px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Provide a unified interface to a set of interfaces in a subsystem. Facade</span></div>
<div class="txt" style="position:absolute; left:148px; top:34054px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">defines a higher-level interface that makes the subsystem easier to use. </span><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">提</span></div>
<div class="txt" style="position:absolute; left:148px; top:34097px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">供更高层次的接口来使子系统易于使用。</span></div>
<div class="txt" style="position:absolute; left:112px; top:34162px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Wrap a complicated subsystem with a simpler interface.</span></div>
<div class="txt" style="position:absolute; left:76px; top:34227px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">This reduces the learning curve necessary to successfully leverage</span></div>
<div class="txt" style="position:absolute; left:112px; top:34277px;"><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the subsystem.</span></div>
<div class="txt" style="position:absolute; left:76px; top:34347px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">It also promotes decoupling the subsystem from its potentially</span></div>
<div class="txt" style="position:absolute; left:112px; top:34397px;"><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">many clients.</span></div>
<div class="txt" style="position:absolute; left:76px; top:34465px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">简单窗口</span></div>
<img id="background" style="position:absolute; left:0px; top:34676px;" width="1440" height="1080" src="page30.png"> <img id="background" style="position:absolute; left:1440px; top:34676px;" width="1440" height="1080" src="page-000030.png">
<div class="txt" style="position:absolute; left:33px; top:34783px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Facade</span></div>
<div class="txt" style="position:absolute; left:1008px; top:34694px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<img id="background" style="position:absolute; left:0px; top:35870px;" width="1440" height="1080" src="page31.png"> <img id="background" style="position:absolute; left:1440px; top:35870px;" width="1440" height="1080" src="page-000031.png">
<div class="txt" style="position:absolute; left:1105px; top:35888px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:381px; top:36285px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">2 Behavioral patterns</span></div>
<img id="background" style="position:absolute; left:0px; top:37064px;" width="1440" height="1080" src="page32.png"> <img id="background" style="position:absolute; left:1440px; top:37064px;" width="1440" height="1080" src="page-000032.png">
<div class="txt" style="position:absolute; left:1105px; top:37082px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:537px; top:37431px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(1) Strategy</span></div>
<div class="txt" style="position:absolute; left:579px; top:37508px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">整体地替换算法</span></div>
<img id="background" style="position:absolute; left:0px; top:38258px;" width="1440" height="1080" src="page33.png"> <img id="background" style="position:absolute; left:1440px; top:38258px;" width="1440" height="1080" src="page-000033.png">
<div class="txt" style="position:absolute; left:33px; top:38365px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Strategy Pattern</span></div>
<div class="txt" style="position:absolute; left:1008px; top:38276px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:38505px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Problem: </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Different algorithms exists for a specific task, but client can</span></div>
<div class="txt" style="position:absolute; left:112px; top:38555px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">switch between the algorithms at run time in terms of dynamic</span></div>
<div class="txt" style="position:absolute; left:112px; top:38598px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">context. </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">针对特定任务存在多种算法，调用者需要根据上下文环境动</span></div>
<div class="txt" style="position:absolute; left:112px; top:38646px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">态的选择和切换。</span></div>
<div class="txt" style="position:absolute; left:76px; top:38721px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Example: </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Sorting a list of customers (Bubble sort, mergesort,</span></div>
<div class="txt" style="position:absolute; left:112px; top:38771px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">quicksort)</span></div>
<div class="txt" style="position:absolute; left:76px; top:38841px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Solution: </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Create an interface for the algorithm, with an</span></div>
<div class="txt" style="position:absolute; left:112px; top:38886px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">implementing class for each variant of the algorithm. </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">定义一个算法的</span></div>
<div class="txt" style="position:absolute; left:112px; top:38934px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">接口，每个算法用一个类来实现，客户端针对接口编写程序。</span></div>
<div class="txt" style="position:absolute; left:76px; top:39009px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Advantage:</span></div>
<div class="txt" style="position:absolute; left:112px; top:39076px;"><span id="f37" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Easily extensible for new algorithm implementations</span></div>
<div class="txt" style="position:absolute; left:112px; top:39136px;"><span id="f37" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Separates algorithm from client context</span></div>
<div class="txt" style="position:absolute; left:76px; top:39271px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">整体地替换算法</span></div>
<img id="background" style="position:absolute; left:0px; top:39452px;" width="1440" height="1080" src="page34.png"> <img id="background" style="position:absolute; left:1440px; top:39452px;" width="1440" height="1080" src="page-000034.png">
<div class="txt" style="position:absolute; left:33px; top:39559px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Strategy Pattern</span></div>
<div class="txt" style="position:absolute; left:1008px; top:39470px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<img id="background" style="position:absolute; left:0px; top:40646px;" width="1440" height="1080" src="page35.png"> <img id="background" style="position:absolute; left:1440px; top:40646px;" width="1440" height="1080" src="page-000035.png">
<div class="txt" style="position:absolute; left:33px; top:40753px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Code example</span></div>
<div class="txt" style="position:absolute; left:1008px; top:40664px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<img id="background" style="position:absolute; left:0px; top:41840px;" width="1440" height="1080" src="page36.png"> <img id="background" style="position:absolute; left:1440px; top:41840px;" width="1440" height="1080" src="page-000036.png">
<div class="txt" style="position:absolute; left:33px; top:41947px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Code example</span></div>
<div class="txt" style="position:absolute; left:1008px; top:41858px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:859px; top:42038px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public interface PaymentStrategy {</span></div>
<div class="txt" style="position:absolute; left:936px; top:42071px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void pay(int amount);</span></div>
<div class="txt" style="position:absolute; left:859px; top:42105px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:450px; top:42327px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public class CreditCardStrategy implements PaymentStrategy {</span></div>
<div class="txt" style="position:absolute; left:497px; top:42361px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private String name;</span></div>
<div class="txt" style="position:absolute; left:497px; top:42394px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private String cardNumber;</span></div>
<div class="txt" style="position:absolute; left:497px; top:42428px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private String cvv;</span></div>
<div class="txt" style="position:absolute; left:497px; top:42461px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private String dateOfExpiry;</span></div>
<div class="txt" style="position:absolute; left:497px; top:42495px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public CreditCardStrategy(String nm, String ccNum,</span></div>
<div class="txt" style="position:absolute; left:667px; top:42529px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">String cvv, String expiryDate){</span></div>
<div class="txt" style="position:absolute; left:595px; top:42562px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.name=nm;</span></div>
<div class="txt" style="position:absolute; left:595px; top:42596px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.cardNumber=ccNum;</span></div>
<div class="txt" style="position:absolute; left:595px; top:42630px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.cvv=cvv;</span></div>
<div class="txt" style="position:absolute; left:595px; top:42663px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.dateOfExpiry=expiryDate;</span></div>
<div class="txt" style="position:absolute; left:497px; top:42697px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:497px; top:42730px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">@Override</span></div>
<div class="txt" style="position:absolute; left:497px; top:42764px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void pay(int amount) {</span></div>
<div class="txt" style="position:absolute; left:595px; top:42798px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println(amount +" paid with credit card");</span></div>
<div class="txt" style="position:absolute; left:497px; top:42831px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:450px; top:42865px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:43034px;" width="1440" height="1080" src="page37.png"> <img id="background" style="position:absolute; left:1440px; top:43034px;" width="1440" height="1080" src="page-000037.png">
<div class="txt" style="position:absolute; left:33px; top:43141px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Code example</span></div>
<div class="txt" style="position:absolute; left:1008px; top:43052px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:859px; top:43232px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public interface PaymentStrategy {</span></div>
<div class="txt" style="position:absolute; left:936px; top:43265px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void pay(int amount);</span></div>
<div class="txt" style="position:absolute; left:859px; top:43299px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:462px; top:43614px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public class PaypalStrategy implements PaymentStrategy {</span></div>
<div class="txt" style="position:absolute; left:508px; top:43647px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private String emailId;</span></div>
<div class="txt" style="position:absolute; left:508px; top:43681px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private String password;</span></div>
<div class="txt" style="position:absolute; left:508px; top:43715px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public PaypalStrategy(String email, String pwd){</span></div>
<div class="txt" style="position:absolute; left:606px; top:43748px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.emailId=email;</span></div>
<div class="txt" style="position:absolute; left:606px; top:43782px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.password=pwd;</span></div>
<div class="txt" style="position:absolute; left:508px; top:43815px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:508px; top:43849px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">@Override</span></div>
<div class="txt" style="position:absolute; left:508px; top:43883px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void pay(int amount) {</span></div>
<div class="txt" style="position:absolute; left:606px; top:43916px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println(amount + " paid using Paypal.");</span></div>
<div class="txt" style="position:absolute; left:508px; top:43950px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:462px; top:43983px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:44228px;" width="1440" height="1080" src="page38.png"> <img id="background" style="position:absolute; left:1440px; top:44228px;" width="1440" height="1080" src="page-000038.png">
<div class="txt" style="position:absolute; left:1008px; top:44246px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:33px; top:44335px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Code example</span></div>
<div class="txt" style="position:absolute; left:859px; top:44426px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public interface PaymentStrategy {</span></div>
<div class="txt" style="position:absolute; left:936px; top:44459px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void pay(int amount);</span></div>
<div class="txt" style="position:absolute; left:859px; top:44493px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:53px; top:44551px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public class ShoppingCart {</span></div>
<div class="txt" style="position:absolute; left:100px; top:44585px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">...</span></div>
<div class="txt" style="position:absolute; left:100px; top:44618px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void pay(PaymentStrategy paymentMethod){</span></div>
<div class="txt" style="position:absolute; left:197px; top:44652px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">int amount = calculateTotal();</span></div>
<div class="txt" style="position:absolute; left:197px; top:44685px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">paymentMethod.pay(amount);</span></div>
<div class="txt" style="position:absolute; left:100px; top:44719px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:53px; top:44753px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:246px; top:44860px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public class ShoppingCartTest {</span></div>
<div class="txt" style="position:absolute; left:293px; top:44893px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void main(String[] args) {</span></div>
<div class="txt" style="position:absolute; left:390px; top:44927px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">ShoppingCart cart = new ShoppingCart();</span></div>
<div class="txt" style="position:absolute; left:390px; top:44961px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Item item1 = new Item("1234",10);</span></div>
<div class="txt" style="position:absolute; left:390px; top:44994px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Item item2 = new Item("5678",40);</span></div>
<div class="txt" style="position:absolute; left:390px; top:45028px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">cart.addItem(item1);</span></div>
<div class="txt" style="position:absolute; left:390px; top:45062px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">cart.addItem(item2);</span></div>
<div class="txt" style="position:absolute; left:390px; top:45095px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">//pay by paypal</span></div>
<div class="txt" style="position:absolute; left:390px; top:45129px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">cart.pay(new PaypalStrategy("myemail@exp.com", "mypwd"));</span></div>
<div class="txt" style="position:absolute; left:390px; top:45162px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">//pay by credit card</span></div>
<div class="txt" style="position:absolute; left:390px; top:45196px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">cart.pay(new CreditCardStrategy</span><span id="f48" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">(“Alice", "1234", "786", "12/18"));</span></div>
<div class="txt" style="position:absolute; left:293px; top:45229px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:246px; top:45263px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:45422px;" width="1440" height="1080" src="page39.png"> <img id="background" style="position:absolute; left:1440px; top:45422px;" width="1440" height="1080" src="page-000039.png">
<div class="txt" style="position:absolute; left:1105px; top:45440px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:384px; top:45837px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(2) Template Method</span></div>
<img id="background" style="position:absolute; left:0px; top:46616px;" width="1440" height="1080" src="page40.png"> <img id="background" style="position:absolute; left:1440px; top:46616px;" width="1440" height="1080" src="page-000040.png">
<div class="txt" style="position:absolute; left:33px; top:46723px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Template Method Motivation</span></div>
<div class="txt" style="position:absolute; left:1008px; top:46634px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:46863px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Problem: </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Several clients share the same algorithm but differ on the</span></div>
<div class="txt" style="position:absolute; left:112px; top:46913px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">specifics, i.e., an algorithm consists of customizable parts and</span></div>
<div class="txt" style="position:absolute; left:112px; top:46961px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">invariant parts. </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Common steps should not be duplicated in the</span></div>
<div class="txt" style="position:absolute; left:112px; top:47004px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">subclasses but need to be reused. </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">不同的客户端具有相同的算法步骤</span></div>
<div class="txt" style="position:absolute; left:112px; top:47052px;"><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">，但是每个步骤的具体实现不同。</span></div>
<div class="txt" style="position:absolute; left:76px; top:47127px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Examples:</span></div>
<div class="txt" style="position:absolute; left:1158px; top:47097px;"><span id="f54" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">step1();</span></div>
<div class="txt" style="position:absolute; left:1158px; top:47140px;"><span id="f56" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">…</span></div>
<div class="txt" style="position:absolute; left:112px; top:47194px;"><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Executing a test suite of test cases</span></div>
<div class="txt" style="position:absolute; left:112px; top:47254px;"><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Opening, reading, writing documents of different types</span></div>
<div class="txt" style="position:absolute; left:1158px; top:47183px;"><span id="f54" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">step2();</span></div>
<div class="txt" style="position:absolute; left:1158px; top:47226px;"><span id="f56" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">…</span></div>
<div class="txt" style="position:absolute; left:1158px; top:47270px;"><span id="f54" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">step3();</span></div>
<div class="txt" style="position:absolute; left:76px; top:47320px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Solution:</span></div>
<div class="txt" style="position:absolute; left:112px; top:47387px;"><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The common steps of the algorithm are factored out into an abstract class,</span></div>
<div class="txt" style="position:absolute; left:148px; top:47430px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">with abstract (unimplemented) primitive operations representing the</span></div>
<div class="txt" style="position:absolute; left:148px; top:47469px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">customizable parts of the algorithm.</span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">在父类中定义通用逻辑和各步骤的抽</span></div>
<div class="txt" style="position:absolute; left:148px; top:47513px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">象方法声明</span></div>
<div class="txt" style="position:absolute; left:112px; top:47577px;"><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Subclasses provide different realizations for each of these steps.</span></div>
<div class="txt" style="position:absolute; left:139px; top:47633px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">子类中进行各步骤的具体实现</span></div>
<img id="background" style="position:absolute; left:0px; top:47810px;" width="1440" height="1080" src="page41.png"> <img id="background" style="position:absolute; left:1440px; top:47810px;" width="1440" height="1080" src="page-000041.png">
<div class="txt" style="position:absolute; left:33px; top:47917px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Template Method pattern</span></div>
<div class="txt" style="position:absolute; left:1008px; top:47828px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<img id="background" style="position:absolute; left:0px; top:49004px;" width="1440" height="1080" src="page42.png"> <img id="background" style="position:absolute; left:1440px; top:49004px;" width="1440" height="1080" src="page-000042.png">
<div class="txt" style="position:absolute; left:33px; top:49111px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:1008px; top:49022px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:49251px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In the example, we will build 2 types of cars. One is a Porsche, the</span></div>
<div class="txt" style="position:absolute; left:112px; top:49301px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">other is a VW Beetle.</span></div>
<img id="background" style="position:absolute; left:0px; top:50198px;" width="1440" height="1080" src="page43.png"> <img id="background" style="position:absolute; left:1440px; top:50198px;" width="1440" height="1080" src="page-000043.png">
<div class="txt" style="position:absolute; left:33px; top:50305px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:1008px; top:50216px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:62px; top:50434px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public abstract class </span><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(255,0,0,1);">CarBuilder </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:206px; top:50478px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">protected abstract void BuildSkeleton();</span></div>
<div class="txt" style="position:absolute; left:206px; top:50521px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">protected abstract void InstallEngine();</span></div>
<div class="txt" style="position:absolute; left:206px; top:50564px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">protected abstract void InstallDoor();</span></div>
<div class="txt" style="position:absolute; left:206px; top:50650px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">// Template Method that specifies the general logic</span></div>
<div class="txt" style="position:absolute; left:206px; top:50690px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public void BuildCar() { //</span><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">通用逻辑</span></div>
<div class="txt" style="position:absolute; left:350px; top:50737px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">BuildSkeleton();</span></div>
<div class="txt" style="position:absolute; left:350px; top:50780px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">InstallEngine();</span></div>
<div class="txt" style="position:absolute; left:350px; top:50823px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">InstallDoor();</span></div>
<div class="txt" style="position:absolute; left:206px; top:50866px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:62px; top:50910px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:51392px;" width="1440" height="1080" src="page44.png"> <img id="background" style="position:absolute; left:1440px; top:51392px;" width="1440" height="1080" src="page-000044.png">
<div class="txt" style="position:absolute; left:1008px; top:51410px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:33px; top:51499px;"><span id="f8" style="font-size:60px;vertical-align:top;line-height:75%;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:88px; top:51543px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public class </span><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(255,0,0,1);">PorcheBuilder extends CarBuilder </span><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:232px; top:51582px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">protected void BuildSkeleton() {</span></div>
<div class="txt" style="position:absolute; left:376px; top:51620px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Building Porche Skeleton");</span></div>
<div class="txt" style="position:absolute; left:232px; top:51658px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:232px; top:51697px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">protected void InstallEngine() {</span></div>
<div class="txt" style="position:absolute; left:376px; top:51735px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Installing Porche Engine");</span></div>
<div class="txt" style="position:absolute; left:232px; top:51774px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:232px; top:51812px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">protected void InstallDoor() {</span></div>
<div class="txt" style="position:absolute; left:376px; top:51851px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Installing Porche Door");</span></div>
<div class="txt" style="position:absolute; left:232px; top:51889px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:88px; top:51927px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:88px; top:52043px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public class </span><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(255,0,0,1);">BeetleBuilder extends CarBuilder </span><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:232px; top:52081px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">protected void BuildSkeleton() {</span></div>
<div class="txt" style="position:absolute; left:376px; top:52119px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Building Beetle Skeleton");</span></div>
<div class="txt" style="position:absolute; left:232px; top:52158px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:232px; top:52196px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">protected void InstallEngine() {</span></div>
<div class="txt" style="position:absolute; left:376px; top:52235px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Installing Beetle Engine");</span></div>
<div class="txt" style="position:absolute; left:232px; top:52273px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:232px; top:52311px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">protected void InstallDoor() {</span></div>
<div class="txt" style="position:absolute; left:376px; top:52350px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Installing Beetle Door");</span></div>
<div class="txt" style="position:absolute; left:232px; top:52388px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:88px; top:52427px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:52586px;" width="1440" height="1080" src="page45.png"> <img id="background" style="position:absolute; left:1440px; top:52586px;" width="1440" height="1080" src="page-000045.png">
<div class="txt" style="position:absolute; left:33px; top:52693px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:62px; top:52822px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void main(String[] args) {</span></div>
<div class="txt" style="position:absolute; left:206px; top:52866px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">CarBuilder c = new PorcheBuilder();</span></div>
<div class="txt" style="position:absolute; left:206px; top:52909px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">c.BuildCar();</span></div>
<div class="txt" style="position:absolute; left:206px; top:52995px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">c = new BeetleBuilder();</span></div>
<div class="txt" style="position:absolute; left:206px; top:53038px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">c.BuildCar();</span></div>
<div class="txt" style="position:absolute; left:206px; top:53082px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:1008px; top:52604px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<img id="background" style="position:absolute; left:0px; top:53780px;" width="1440" height="1080" src="page46.png"> <img id="background" style="position:absolute; left:1440px; top:53780px;" width="1440" height="1080" src="page-000046.png">
<div class="txt" style="position:absolute; left:1008px; top:53798px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:33px; top:53887px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Template Method Pattern Applicability</span></div>
<div class="txt" style="position:absolute; left:76px; top:54027px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Template Method Design Pattern allows you to declare a general</span></div>
<div class="txt" style="position:absolute; left:112px; top:54077px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">logic at the parent class so that all the child classes can use the</span></div>
<div class="txt" style="position:absolute; left:112px; top:54120px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">general logic. </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">在父类声明一个通用逻辑</span></div>
<div class="txt" style="position:absolute; left:76px; top:54195px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Template method </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">pattern uses </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">inheritance + overridable </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">methods</span></div>
<div class="txt" style="position:absolute; left:112px; top:54240px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to vary part of an algorithm </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">模板模式用继承</span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">+</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">重写的方式实现算法的</span></div>
<div class="txt" style="position:absolute; left:112px; top:54288px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">不同部分。</span></div>
<div class="txt" style="position:absolute; left:112px; top:54358px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">While strategy pattern uses delegation to vary the entire algorithm</span></div>
<div class="txt" style="position:absolute; left:148px; top:54398px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">(interface and polymorphism). </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">策略模式用委托机制实现不同完整算法</span></div>
<div class="txt" style="position:absolute; left:148px; top:54446px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">的调用</span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">接口</span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">+</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">多态</span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span></div>
<div class="txt" style="position:absolute; left:76px; top:54520px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Template Method is widely used in frameworks</span></div>
<div class="txt" style="position:absolute; left:112px; top:54583px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The framework implements the invariants of the algorithm </span><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">框架实现了算</span></div>
<div class="txt" style="position:absolute; left:148px; top:54626px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">法的不变性</span></div>
<div class="txt" style="position:absolute; left:112px; top:54687px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The client customizations provide specialized steps for the algorithm </span><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">客户</span></div>
<div class="txt" style="position:absolute; left:148px; top:54730px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">端提供每步的具体实现</span></div>
<div class="txt" style="position:absolute; left:112px; top:54794px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f67" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Principle: “Don’t call us, we’ll call you”.</span></div>
<img id="background" style="position:absolute; left:0px; top:54974px;" width="1440" height="1080" src="page47.png"> <img id="background" style="position:absolute; left:1440px; top:54974px;" width="1440" height="1080" src="page-000047.png">
<div class="txt" style="position:absolute; left:1105px; top:54992px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:549px; top:55389px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(3) Iterator</span></div>
<img id="background" style="position:absolute; left:0px; top:56168px;" width="1440" height="1080" src="page48.png"> <img id="background" style="position:absolute; left:1440px; top:56168px;" width="1440" height="1080" src="page-000048.png">
<div class="txt" style="position:absolute; left:33px; top:56275px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Iterator Pattern</span></div>
<div class="txt" style="position:absolute; left:1008px; top:56186px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:56415px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Problem: </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Clients need uniform strategy to access all elements in a</span></div>
<div class="txt" style="position:absolute; left:112px; top:56460px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">container, independent of the container type </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">问题：客户端需要以统</span></div>
<div class="txt" style="position:absolute; left:112px; top:56508px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">一的、与元素类型无关的方式访问容器中的所有元素</span></div>
<div class="txt" style="position:absolute; left:76px; top:56580px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Solution: </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A strategy pattern for iteration </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">一种面向迭代的策略模式</span></div>
<div class="txt" style="position:absolute; left:76px; top:56655px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Consequences:</span></div>
<div class="txt" style="position:absolute; left:112px; top:56718px;"><span id="f33" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Hides internal implementation of underlying container </span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">隐藏了容器的内部</span></div>
<div class="txt" style="position:absolute; left:148px; top:56761px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">实现</span></div>
<div class="txt" style="position:absolute; left:112px; top:56821px;"><span id="f33" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Support multiple traversal strategies with uniform interface </span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">用统一的接口</span></div>
<div class="txt" style="position:absolute; left:148px; top:56865px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">支持多种遍历策略</span></div>
<div class="txt" style="position:absolute; left:112px; top:56929px;"><span id="f33" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Easy to change container type</span></div>
<div class="txt" style="position:absolute; left:112px; top:56990px;"><span id="f33" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Facilitates communication between parts of the program</span></div>
<img id="background" style="position:absolute; left:0px; top:57362px;" width="1440" height="1080" src="page49.png"> <img id="background" style="position:absolute; left:1440px; top:57362px;" width="1440" height="1080" src="page-000049.png">
<div class="txt" style="position:absolute; left:33px; top:57469px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Iterator Pattern</span></div>
<div class="txt" style="position:absolute; left:1008px; top:57380px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:57609px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Pattern structure</span></div>
<div class="txt" style="position:absolute; left:112px; top:57675px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f19" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,255,1);">Iterator </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">interface </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">defines all the methods needed to traverse the</span></div>
<div class="txt" style="position:absolute; left:148px; top:57715px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">collection. </span><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">定义迭代器接口</span></div>
<div class="txt" style="position:absolute; left:112px; top:57779px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f19" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,255,1);">ConcreteIterator </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">class </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">implements the </span><span id="f35" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,0,1);">Iterator </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">interface and has the</span></div>
<div class="txt" style="position:absolute; left:148px; top:57819px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">actual implementations on how to traverse the collection. </span><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">实现迭代功能</span></div>
<img id="background" style="position:absolute; left:0px; top:58556px;" width="1440" height="1080" src="page50.png"> <img id="background" style="position:absolute; left:1440px; top:58556px;" width="1440" height="1080" src="page-000050.png">
<div class="txt" style="position:absolute; left:33px; top:58663px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Iterator Pattern</span></div>
<div class="txt" style="position:absolute; left:1008px; top:58574px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:76px; top:58803px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Pattern structure</span></div>
<div class="txt" style="position:absolute; left:112px; top:58869px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f19" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,255,1);">Aggregate </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">interface </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">defines the methods for the client. The methods</span></div>
<div class="txt" style="position:absolute; left:148px; top:58913px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">that it defines allows the client code not to be bothered with the details on</span></div>
<div class="txt" style="position:absolute; left:148px; top:58952px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">how the collection is traversed. </span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">获取迭代器对象的接口</span></div>
<div class="txt" style="position:absolute; left:112px; top:59016px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f19" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,255,1);">ConcreteAggregate </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">class </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">implements the </span><span id="f36" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,0,1);">Aggregate </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">interface and is the</span></div>
<div class="txt" style="position:absolute; left:148px; top:59056px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">class that creates </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">the ConcreteIterator. </span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">实现迭代器对象的获取</span></div>
<img id="background" style="position:absolute; left:0px; top:59750px;" width="1440" height="1080" src="page51.png"> <img id="background" style="position:absolute; left:1440px; top:59750px;" width="1440" height="1080" src="page-000051.png">
<div class="txt" style="position:absolute; left:33px; top:59857px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">An example of Iterator pattern</span></div>
<div class="txt" style="position:absolute; left:1008px; top:59768px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:54px; top:59975px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f14" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,255,1);">interface Iterator&lt;E&gt; </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:128px; top:60016px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">boolean hasNext();</span></div>
<div class="txt" style="position:absolute; left:128px; top:60056px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">E next();</span></div>
<div class="txt" style="position:absolute; left:128px; top:60097px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">void remove()</span></div>
<div class="txt" style="position:absolute; left:54px; top:60138px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:54px; top:60220px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f14" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,255,1);">interface Iterable&lt;T&gt; {</span></div>
<div class="txt" style="position:absolute; left:128px; top:60260px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Iterator&lt;T&gt; iterator(); //Getting an Iterator</span></div>
<div class="txt" style="position:absolute; left:54px; top:60301px;"><span id="f14" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,255,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:60944px;" width="1440" height="1080" src="page52.png"> <img id="background" style="position:absolute; left:1440px; top:60944px;" width="1440" height="1080" src="page-000052.png">
<div class="txt" style="position:absolute; left:33px; top:61051px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">An example of Iterator pattern</span></div>
<div class="txt" style="position:absolute; left:1008px; top:60962px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:54px; top:61180px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public class Pair&lt;E&gt; </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(50,50,205,1);">implements Iterable&lt;E&gt; </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:110px; top:61221px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">private final E first, second;</span></div>
<div class="txt" style="position:absolute; left:110px; top:61262px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public Pair(E f, E s) { first = f; second = s; }</span></div>
<div class="txt" style="position:absolute; left:110px; top:61303px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(50,50,205,1);">@override public Iterator&lt;E&gt; iterator() {</span></div>
<div class="txt" style="position:absolute; left:166px; top:61343px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(50,50,205,1);">return new PairIterator();</span></div>
<div class="txt" style="position:absolute; left:110px; top:61384px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(50,50,205,1);">}</span></div>
<div class="txt" style="position:absolute; left:110px; top:61466px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(50,50,205,1);">private class PairIterator implements Iterator&lt;E&gt; {</span></div>
<div class="txt" style="position:absolute; left:166px; top:61507px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">private boolean seenFirst = false, seenSecond = false;</span></div>
<div class="txt" style="position:absolute; left:166px; top:61547px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public boolean hasNext() { return !seenSecond; }</span></div>
<div class="txt" style="position:absolute; left:166px; top:61588px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public E next() {</span></div>
<div class="txt" style="position:absolute; left:222px; top:61629px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">if (!seenFirst) { seenFirst = true; return first; }</span></div>
<div class="txt" style="position:absolute; left:222px; top:61670px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">if (!seenSecond) { seenSecond = true; return second; }</span></div>
<div class="txt" style="position:absolute; left:297px; top:61711px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">throw new NoSuchElementException();</span></div>
<div class="txt" style="position:absolute; left:166px; top:61751px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:166px; top:61792px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public void remove() {</span></div>
<div class="txt" style="position:absolute; left:222px; top:61833px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">throw new UnsupportedOperationException();</span></div>
<div class="txt" style="position:absolute; left:166px; top:61874px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:110px; top:61915px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:394px; top:61917px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Pair&lt;String&gt; pair = new Pair&lt;String&gt;("foo", "bar");</span></div>
<div class="txt" style="position:absolute; left:54px; top:61955px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:394px; top:61960px;"><span id="f62" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">for (String s : pair) { … }</span></div>
<img id="background" style="position:absolute; left:0px; top:62138px;" width="1440" height="1080" src="page53.png"> <img id="background" style="position:absolute; left:1440px; top:62138px;" width="1440" height="1080" src="page-000053.png">
<div class="txt" style="position:absolute; left:33px; top:62245px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Getting an Iterator</span></div>
<div class="txt" style="position:absolute; left:1008px; top:62156px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">5.3 Design Patterns for Reuse</span></div>
<div class="txt" style="position:absolute; left:75px; top:62408px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public interface Collection&lt;E&gt; </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(50,50,205,1);">extends Iterable&lt;E&gt; </span><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:134px; top:62452px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">boolean add(E e);</span></div>
<div class="txt" style="position:absolute; left:134px; top:62495px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">boolean addAll(Collection&lt;? extends E&gt; c);</span></div>
<div class="txt" style="position:absolute; left:134px; top:62538px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">boolean remove(Object e);</span></div>
<div class="txt" style="position:absolute; left:134px; top:62581px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">boolean removeAll(Collection&lt;?&gt; c);</span></div>
<div class="txt" style="position:absolute; left:134px; top:62624px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">boolean retainAll(Collection&lt;?&gt; c);</span></div>
<div class="txt" style="position:absolute; left:134px; top:62668px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">boolean contains(Object e);</span></div>
<div class="txt" style="position:absolute; left:134px; top:62711px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">boolean containsAll(Collection&lt;?&gt; c);</span></div>
<div class="txt" style="position:absolute; left:134px; top:62754px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">void clear();</span></div>
<div class="txt" style="position:absolute; left:134px; top:62797px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">int size();</span></div>
<div class="txt" style="position:absolute; left:134px; top:62840px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">boolean isEmpty();</span></div>
<div class="txt" style="position:absolute; left:134px; top:62884px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(50,50,205,1);">Iterator&lt;E&gt; iterator();</span></div>
<div class="txt" style="position:absolute; left:134px; top:62927px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Object[] toArray()</span></div>
<div class="txt" style="position:absolute; left:134px; top:62970px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">&lt;T&gt; T[] toArray(T[] a);</span></div>
<div class="txt" style="position:absolute; left:833px; top:62807px;"><span id="f51" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Defines an interface for creating</span></div>
<div class="txt" style="position:absolute; left:833px; top:62851px;"><span id="f51" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">an Iterator, but allows Collection</span></div>
<div class="txt" style="position:absolute; left:838px; top:62894px;"><span id="f51" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">implementation to decide which</span></div>
<div class="txt" style="position:absolute; left:951px; top:62937px;"><span id="f51" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Iterator to create.</span></div>
<div class="txt" style="position:absolute; left:134px; top:63013px;"><span id="f48" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">…</span></div>
<div class="txt" style="position:absolute; left:75px; top:63056px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:63332px;" width="1440" height="1080" src="page54.png"> <img id="background" style="position:absolute; left:1440px; top:63332px;" width="1440" height="1080" src="page-000054.png">
<div class="txt" style="position:absolute; left:1105px; top:63350px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:563px; top:63747px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary</span></div>
<img id="background" style="position:absolute; left:0px; top:64526px;" width="1440" height="1080" src="page55.png"> <img id="background" style="position:absolute; left:1440px; top:64526px;" width="1440" height="1080" src="page-000055.png">
<div class="txt" style="position:absolute; left:1105px; top:64544px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:590px; top:64941px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">The end</span></div>
<div class="txt" style="position:absolute; left:597px; top:65195px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">April 14, 2019</span></div>
</body></html>