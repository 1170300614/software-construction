<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head> <body onload="start()"><div style="background:#5c5c5f; color:#FFF"> <p align="center">&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;[&#x6DF1;&#x5BB9;Pubmed&#x6587;&#x732E;&#x68C0;&#x7D22;] &nbsp 1. &#x6B64;&#x5904;&#x53F3;&#x952E;&#xFF1A;&#x9009;&#x83DC;&#x5355;&#x3010;&#x7FFB;&#x6210;&#x4E2D;&#x6587;&#xFF08;&#x7B80;&#x4F53;&#xFF09;&#x3011; &nbsp &nbsp &nbsp  2. &#x7FFB;&#x8BD1;&#x540E;&#xFF0C;&#x6B64;&#x5904;&#x53F3;&#x952E;&#xFF1A;&#x9009;&#x83DC;&#x5355;&#x3010;&#x6253;&#x5370;...&#x3011;&#x6210;PDF&#x683C;&#x5F0F; <br>&#x5EFA;&#x8BAE;&#x5C4F;&#x5E55;&#x5206;&#x8FA8;&#x7387;&#xFF1A;1920X1080&#xFF1B;&#x5982;&#x679C;&#x5C4F;&#x5E55;&#x592A;&#x5C0F;&#xFF0C;&#x53EF;&#x4EE5;&#x6309;Ctrl + &#x6216; Ctrl -&#x7F29;&#x653E;&#x7F51;&#x9875;&#x3002;</p></div><style type="text/css"> .txt { white-space:nowrap; }	 #f0 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f1 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f2 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f3 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f4 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f5 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f6 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f7 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f8 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f9 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f10 { font-family:sans-serif; font-weight:normal; font-style:normal; }  #f11 { font-family:sans-serif; font-weight:normal; font-style:normal; }  #f12 { font-family:sans-serif; font-weight:normal; font-style:normal; } 	#f13 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f14 { font-family:sans-serif; font-weight:normal; font-style:normal; } #f15 { font-family:sans-serif; font-weight:normal; font-style:normal; } 	#f16 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f17 { font-family:sans-serif; font-weight:normal; font-style:normal; } #f18 { font-family:sans-serif; font-weight:normal; font-style:normal; } #f19 { font-family:sans-serif; font-weight:normal; font-style:normal; }		#f20 { font-family:sans-serif; font-weight:normal; font-style:normal; }		</style><img id="background" style="position:absolute; left:0px; top:50px;" width="1440" height="1080" src="page1.png"> <img id="background" style="position:absolute; left:1440px; top:50px;" width="1440" height="1080" src="page-000001.png">
<div class="txt" style="position:absolute; left:1105px; top:68px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:156px; top:275px;"><span id="f9" style="font-size:55px;vertical-align:baseline;color:rgba(0,0,0,1);">Chapter 6: Maintainability-Oriented Software</span></div>
<div class="txt" style="position:absolute; left:401px; top:342px;"><span id="f9" style="font-size:55px;vertical-align:baseline;color:rgba(0,0,0,1);">Construction Approaches</span></div>
<div class="txt" style="position:absolute; left:246px; top:413px;"><span id="f19" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented</span></div>
<div class="txt" style="position:absolute; left:305px; top:500px;"><span id="f19" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:596px; top:719px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Xu Hanchuan</span></div>
<div class="txt" style="position:absolute; left:585px; top:772px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(255,98,176,1);">xhc@hit.edu.cn</span></div>
<div class="txt" style="position:absolute; left:597px; top:877px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">April 22, 2019</span></div>
<img id="background" style="position:absolute; left:0px; top:1050px;" width="1440" height="1080" src="page2.png"> <img id="background" style="position:absolute; left:1440px; top:1050px;" width="1440" height="1080" src="page-000002.png">
<div class="txt" style="position:absolute; left:33px; top:1157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Outline</span></div>
<div class="txt" style="position:absolute; left:651px; top:1068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:1297px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Grammar-based construction</span></div>
<div class="txt" style="position:absolute; left:112px; top:1364px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Regular Expression (regex)</span></div>
<div class="txt" style="position:absolute; left:112px; top:1424px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Interpreter </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">pattern implements a specialized language.</span></div>
<div class="txt" style="position:absolute; left:76px; top:1490px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">State-based construction</span></div>
<div class="txt" style="position:absolute; left:112px; top:1557px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Automata-based programming</span></div>
<div class="txt" style="position:absolute; left:112px; top:1617px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">State </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">pattern allows an object to alter its behavior when its internal state</span></div>
<div class="txt" style="position:absolute; left:148px; top:1660px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">changes.</span></div>
<div class="txt" style="position:absolute; left:112px; top:1721px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Memento </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">pattern provides the ability to restore an object to its previous</span></div>
<div class="txt" style="position:absolute; left:148px; top:1764px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">state (undo).</span></div>
<div class="txt" style="position:absolute; left:76px; top:1830px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Table-driven construction</span></div>
<img id="background" style="position:absolute; left:0px; top:2050px;" width="1440" height="1080" src="page3.png"> <img id="background" style="position:absolute; left:1440px; top:2050px;" width="1440" height="1080" src="page-000003.png">
<div class="txt" style="position:absolute; left:1105px; top:2068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:225px; top:2465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">1 Grammar-based construction</span></div>
<img id="background" style="position:absolute; left:0px; top:3050px;" width="1440" height="1080" src="page4.png"> <img id="background" style="position:absolute; left:1440px; top:3050px;" width="1440" height="1080" src="page-000004.png">
<div class="txt" style="position:absolute; left:651px; top:3068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:3157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Objective of Grammar-based Construction</span></div>
<div class="txt" style="position:absolute; left:76px; top:3297px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Understand the ideas of grammar productions and regular</span></div>
<div class="txt" style="position:absolute; left:112px; top:3342px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">expression operators </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">理解语法产生式和正则表达式的概念，能够阅</span></div>
<div class="txt" style="position:absolute; left:112px; top:3390px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">读和书写语法或正则表达式</span></div>
<div class="txt" style="position:absolute; left:76px; top:3465px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Be able to read a grammar or regular expression and determine</span></div>
<div class="txt" style="position:absolute; left:112px; top:3515px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">whether it matches a sequence of characters</span></div>
<div class="txt" style="position:absolute; left:76px; top:3585px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Be able to write a grammar or regular expression to match a set of</span></div>
<div class="txt" style="position:absolute; left:112px; top:3635px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">character sequences and parse them into a data structure</span></div>
<div class="txt" style="position:absolute; left:76px; top:3777px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Be able to use a grammar in combination with a parser generator, to</span></div>
<div class="txt" style="position:absolute; left:112px; top:3822px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">parse a character sequence into a parse tree </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">能够将语法和解析器生成</span></div>
<div class="txt" style="position:absolute; left:112px; top:3870px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">器相结合，解析字符串</span></div>
<div class="txt" style="position:absolute; left:76px; top:3945px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Be able to convert a parse tree into a useful data type</span></div>
<img id="background" style="position:absolute; left:0px; top:4050px;" width="1440" height="1080" src="page5.png"> <img id="background" style="position:absolute; left:1440px; top:4050px;" width="1440" height="1080" src="page-000005.png">
<div class="txt" style="position:absolute; left:651px; top:4068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:4157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">String/Stream based I/O</span></div>
<div class="txt" style="position:absolute; left:76px; top:4297px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Some program modules take input or produce output in the form</span></div>
<div class="txt" style="position:absolute; left:112px; top:4347px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">of a sequence of bytes or a sequence of characters, which is called</span></div>
<div class="txt" style="position:absolute; left:112px; top:4394px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">a </span><span id="f19" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">string </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">when it’s simply stored in memory, or a </span><span id="f19" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">stream </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">when it</span></div>
<div class="txt" style="position:absolute; left:112px; top:4438px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">flows into or out of a module. </span><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">模块的输入</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">/</span><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">输出，在内存中存储时为</span></div>
<div class="txt" style="position:absolute; left:112px; top:4486px;"><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">“串”，在模块间交互时为“流”</span></div>
<div class="txt" style="position:absolute; left:76px; top:4561px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Concretely, a sequence of bytes or characters might be:</span></div>
<div class="txt" style="position:absolute; left:112px; top:4627px;"><span id="f37" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A file on disk, in which case the specification is called the </span><span id="f40" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,0,1);">file format </span><span id="f27" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,255,1);">文件格式</span></div>
<div class="txt" style="position:absolute; left:112px; top:4688px;"><span id="f37" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Messages sent over a network, in which case the specification is a </span><span id="f40" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,0,1);">wire</span></div>
<div class="txt" style="position:absolute; left:148px; top:4727px;"><span id="f40" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,0,1);">protocol </span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">协议</span></div>
<div class="txt" style="position:absolute; left:112px; top:4792px;"><span id="f37" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A command typed by the user on the console, in which case the</span></div>
<div class="txt" style="position:absolute; left:148px; top:4831px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">specification is a </span><span id="f40" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,0,1);">command line interface </span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">命令行接口</span></div>
<div class="txt" style="position:absolute; left:112px; top:4892px;"><span id="f37" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A string stored in memory </span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">串</span></div>
<img id="background" style="position:absolute; left:0px; top:5050px;" width="1440" height="1080" src="page6.png"> <img id="background" style="position:absolute; left:1440px; top:5050px;" width="1440" height="1080" src="page-000006.png">
<div class="txt" style="position:absolute; left:651px; top:5068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:5157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">The notion of a grammar</span></div>
<div class="txt" style="position:absolute; left:76px; top:5297px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">For these kinds of sequences, the notion of a </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">grammar </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is a good</span></div>
<div class="txt" style="position:absolute; left:112px; top:5347px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">choice for design:</span></div>
<div class="txt" style="position:absolute; left:112px; top:5412px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">It can not only help to distinguish between legal and illegal sequences, but</span></div>
<div class="txt" style="position:absolute; left:148px; top:5455px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">also to parse a sequence into a data structure a program can work with.</span></div>
<div class="txt" style="position:absolute; left:112px; top:5515px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The data structure produced from a grammar will often be a recursive</span></div>
<div class="txt" style="position:absolute; left:148px; top:5555px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">data type</span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">. </span><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">语法用于判断合法性，及将字符</span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">/</span><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">字节序列解析为特定数据结构</span></div>
<div class="txt" style="position:absolute; left:76px; top:5624px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A specialized form of a grammar called a </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">regular expression.</span></div>
<div class="txt" style="position:absolute; left:112px; top:5691px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">It is a widely-used tool for many string-processing tasks that need to</span></div>
<div class="txt" style="position:absolute; left:148px; top:5730px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">disassemble a string, extract information from it, or transform it. </span><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">正则表达</span></div>
<div class="txt" style="position:absolute; left:148px; top:5774px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">式用于处理字符串，进行拆分、信息提取和转换</span></div>
<div class="txt" style="position:absolute; left:76px; top:5843px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">parser generator </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is a kind of tool that translate a grammar</span></div>
<div class="txt" style="position:absolute; left:112px; top:5889px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">automatically into a parser for that grammar. </span><span id="f31" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">解析器生成器根据语法</span></div>
<div class="txt" style="position:absolute; left:112px; top:5937px;"><span id="f31" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">生成解析器，解析器用于解析字符串</span></div>
<img id="background" style="position:absolute; left:0px; top:6050px;" width="1440" height="1080" src="page7.png"> <img id="background" style="position:absolute; left:1440px; top:6050px;" width="1440" height="1080" src="page-000007.png">
<div class="txt" style="position:absolute; left:1105px; top:6068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:234px; top:6465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(1) Constituents of a Grammar</span></div>
<img id="background" style="position:absolute; left:0px; top:7050px;" width="1440" height="1080" src="page8.png"> <img id="background" style="position:absolute; left:1440px; top:7050px;" width="1440" height="1080" src="page-000008.png">
<div class="txt" style="position:absolute; left:651px; top:7068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:7157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(255,0,0,1);">Terminals: </span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Literal Strings in a Grammar</span></div>
<div class="txt" style="position:absolute; left:76px; top:7297px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">To describe a string of symbols, whether they are bytes, characters,</span></div>
<div class="txt" style="position:absolute; left:112px; top:7347px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">or some other kind of symbol drawn from a fixed set, we use </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">a</span></div>
<div class="txt" style="position:absolute; left:112px; top:7395px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">compact representation called a grammar.</span></div>
<div class="txt" style="position:absolute; left:76px; top:7465px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">grammar </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">defines a set of </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">strings.</span></div>
<div class="txt" style="position:absolute; left:112px; top:7532px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">For example, the grammar for URLs will specify the set of strings that are</span></div>
<div class="txt" style="position:absolute; left:148px; top:7575px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">legal URLs in the HTTP protocol.</span></div>
<div class="txt" style="position:absolute; left:76px; top:7638px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">literal strings </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">in a grammar are called </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">terminals.</span><span id="f39" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">终结符</span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">/</span><span id="f39" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">终止符</span></div>
<div class="txt" style="position:absolute; left:112px; top:7707px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f46" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">They’re called terminals because they are the </span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">leaves </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">of a parse tree that</span></div>
<div class="txt" style="position:absolute; left:148px; top:7751px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">represents the structure of the string.</span></div>
<div class="txt" style="position:absolute; left:112px; top:7811px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f46" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">They don’t have any children, and can’t be expanded any further.</span></div>
<div class="txt" style="position:absolute; left:112px; top:7872px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">We generally </span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">write terminals in quotes</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, like 'http' or ':'.</span></div>
<div class="txt" style="position:absolute; left:96px; top:7995px;"><span id="f58" style="font-size:31px;vertical-align:baseline;color:rgba(50,50,50,1);">url ::= </span><span id="f58" style="font-size:31px;vertical-align:baseline;color:rgba(41,0,255,1);">'http://' </span><span id="f58" style="font-size:31px;vertical-align:baseline;color:rgba(50,50,50,1);">hostname </span><span id="f58" style="font-size:31px;vertical-align:baseline;color:rgba(41,0,255,1);">'/'</span></div>
<div class="txt" style="position:absolute; left:96px; top:8034px;"><span id="f58" style="font-size:31px;vertical-align:baseline;color:rgba(50,50,50,1);">hostname ::= </span><span id="f58" style="font-size:31px;vertical-align:baseline;color:rgba(41,0,255,1);">'mit.edu' </span><span id="f58" style="font-size:31px;vertical-align:baseline;color:rgba(50,50,50,1);">| </span><span id="f58" style="font-size:31px;vertical-align:baseline;color:rgba(41,0,255,1);">'stanford.edu' </span><span id="f58" style="font-size:31px;vertical-align:baseline;color:rgba(50,50,50,1);">| </span><span id="f58" style="font-size:31px;vertical-align:baseline;color:rgba(41,0,255,1);">'google.com'</span></div>
<img id="background" style="position:absolute; left:0px; top:8050px;" width="1440" height="1080" src="page9.png"> <img id="background" style="position:absolute; left:1440px; top:8050px;" width="1440" height="1080" src="page-000009.png">
<div class="txt" style="position:absolute; left:651px; top:8068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:8157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Nonterminals and Productions in a Grammer</span></div>
<div class="txt" style="position:absolute; left:76px; top:8294px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A grammar is described by a set of </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">productions(</span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">产生式</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">), </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">where</span></div>
<div class="txt" style="position:absolute; left:112px; top:8342px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">each production defines a </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">nonterminal(</span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">非终结符</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">).</span></div>
<div class="txt" style="position:absolute; left:112px; top:8412px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A nonterminal is like a variable that stands for a set of strings, and the</span></div>
<div class="txt" style="position:absolute; left:148px; top:8455px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">production as the definition of that variable in terms of other variables</span></div>
<div class="txt" style="position:absolute; left:148px; top:8498px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">(nonterminals), operators, and constants (terminals).</span></div>
<div class="txt" style="position:absolute; left:112px; top:8559px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Nonterminals are internal nodes </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">of the tree representing a string.</span></div>
<div class="txt" style="position:absolute; left:76px; top:8624px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A production in a grammar has the form</span></div>
<div class="txt" style="position:absolute; left:112px; top:8691px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">nonterminal ::= expression of terminals, nonterminals, and operators</span></div>
<div class="txt" style="position:absolute; left:76px; top:8757px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">One of the nonterminals of the grammar is designated as the </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">root.</span></div>
<div class="txt" style="position:absolute; left:112px; top:8824px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The set of strings that the grammar recognizes are the ones that match the</span></div>
<div class="txt" style="position:absolute; left:148px; top:8867px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">root nonterminal.</span></div>
<div class="txt" style="position:absolute; left:112px; top:8927px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">This nonterminal is often called </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">root or start.</span></div>
<div class="txt" style="position:absolute; left:311px; top:8995px;"><span id="f50" style="font-size:31px;vertical-align:baseline;color:rgba(50,50,50,1);">url ::= </span><span id="f50" style="font-size:31px;vertical-align:baseline;color:rgba(41,0,255,1);">'http://' </span><span id="f50" style="font-size:31px;vertical-align:baseline;color:rgba(50,50,50,1);">hostname </span><span id="f50" style="font-size:31px;vertical-align:baseline;color:rgba(41,0,255,1);">'/'</span></div>
<div class="txt" style="position:absolute; left:311px; top:9034px;"><span id="f50" style="font-size:31px;vertical-align:baseline;color:rgba(50,50,50,1);">hostname ::= </span><span id="f50" style="font-size:31px;vertical-align:baseline;color:rgba(41,0,255,1);">'mit.edu' </span><span id="f50" style="font-size:31px;vertical-align:baseline;color:rgba(50,50,50,1);">| </span><span id="f50" style="font-size:31px;vertical-align:baseline;color:rgba(41,0,255,1);">'stanford.edu' </span><span id="f50" style="font-size:31px;vertical-align:baseline;color:rgba(50,50,50,1);">| </span><span id="f50" style="font-size:31px;vertical-align:baseline;color:rgba(41,0,255,1);">'google.com'</span></div>
<img id="background" style="position:absolute; left:0px; top:9050px;" width="1440" height="1080" src="page10.png"> <img id="background" style="position:absolute; left:1440px; top:9050px;" width="1440" height="1080" src="page-000010.png">
<div class="txt" style="position:absolute; left:1105px; top:9068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:276px; top:9465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(2) Operators in a Grammar</span></div>
<img id="background" style="position:absolute; left:0px; top:10050px;" width="1440" height="1080" src="page11.png"> <img id="background" style="position:absolute; left:1440px; top:10050px;" width="1440" height="1080" src="page-000011.png">
<div class="txt" style="position:absolute; left:651px; top:10068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:10157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Three Basic Grammar Operators</span></div>
<div class="txt" style="position:absolute; left:76px; top:10297px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The three most important operators in a production expression are:</span></div>
<div class="txt" style="position:absolute; left:112px; top:10360px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Concatenation(</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">连接</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">), </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">represented not by a symbol, but </span><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">just a space</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">:</span></div>
<div class="txt" style="position:absolute; left:403px; top:10424px;"><span id="f26" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">x ::= y z </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">an </span><span id="f26" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">x </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is a </span><span id="f26" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">y </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">followed by a </span><span id="f26" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">z</span></div>
<div class="txt" style="position:absolute; left:112px; top:10481px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Repetition(</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">重复</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">), </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">represented by </span><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">*</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">:</span></div>
<div class="txt" style="position:absolute; left:410px; top:10545px;"><span id="f26" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">x ::= y*</span></div>
<div class="txt" style="position:absolute; left:687px; top:10545px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">an </span><span id="f26" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">x </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is zero or more </span><span id="f26" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">y</span></div>
<div class="txt" style="position:absolute; left:112px; top:10602px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Union(</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">合并</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">), </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">also called alternation, represented by </span><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">|</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">:</span></div>
<div class="txt" style="position:absolute; left:440px; top:10666px;"><span id="f26" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">x ::= y | z</span></div>
<div class="txt" style="position:absolute; left:756px; top:10666px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">an </span><span id="f26" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">x </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is a </span><span id="f26" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">y </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">or a </span><span id="f26" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">z</span></div>
<img id="background" style="position:absolute; left:0px; top:11050px;" width="1440" height="1080" src="page12.png"> <img id="background" style="position:absolute; left:1440px; top:11050px;" width="1440" height="1080" src="page-000012.png">
<div class="txt" style="position:absolute; left:651px; top:11068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:11157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Combinations of three basic operators</span></div>
<div class="txt" style="position:absolute; left:76px; top:11297px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Additional operators are just syntactic sugar (i.e., they’re</span></div>
<div class="txt" style="position:absolute; left:112px; top:11347px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">equivalent to combinations of the big three operators):</span></div>
<div class="txt" style="position:absolute; left:112px; top:11411px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Optional </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">(0 or 1 occurrence), represented by </span><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(255,0,0,1);">?</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">:</span></div>
<div class="txt" style="position:absolute; left:324px; top:11472px;"><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">x ::= y?</span></div>
<div class="txt" style="position:absolute; left:620px; top:11472px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">an </span><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">x </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is a </span><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">y </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">or is the empty string</span></div>
<div class="txt" style="position:absolute; left:112px; top:11532px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">1 or more occurrences: </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">represented by </span><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(255,0,0,1);">+</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">:</span></div>
<div class="txt" style="position:absolute; left:412px; top:11593px;"><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">x ::= y+</span></div>
<div class="txt" style="position:absolute; left:708px; top:11593px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">an </span><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">x </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is one or more </span><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">y</span></div>
<div class="txt" style="position:absolute; left:492px; top:11653px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">(equivalent to </span><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">x ::= y y* </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<div class="txt" style="position:absolute; left:112px; top:11714px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">A character class [...], </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">representing the length-1 strings containing any of</span></div>
<div class="txt" style="position:absolute; left:148px; top:11757px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the characters listed in the square brackets:</span></div>
<div class="txt" style="position:absolute; left:260px; top:11818px;"><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">x ::= [abc] </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is equivalent to </span><span id="f55" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">x ::= 'a' | 'b' | 'c‘</span></div>
<div class="txt" style="position:absolute; left:112px; top:11878px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">An inverted character class [^...], </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">representing the length-1 strings</span></div>
<div class="txt" style="position:absolute; left:148px; top:11922px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">containing any character not listed in the brackets:</span></div>
<div class="txt" style="position:absolute; left:201px; top:11982px;"><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">x ::= [^abc] </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is equivalent to </span><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">x ::= 'd' | 'e' | 'f' | ...</span></div>
<div class="txt" style="position:absolute; left:471px; top:12025px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">(all other characters in Unicode)</span></div>
<img id="background" style="position:absolute; left:0px; top:12050px;" width="1440" height="1080" src="page13.png"> <img id="background" style="position:absolute; left:1440px; top:12050px;" width="1440" height="1080" src="page-000013.png">
<div class="txt" style="position:absolute; left:651px; top:12068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:12157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Grouping operators using parentheses</span></div>
<div class="txt" style="position:absolute; left:76px; top:12297px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">By convention, </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">the postfix operators </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">*, ?</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">, and </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">+ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">have highest</span></div>
<div class="txt" style="position:absolute; left:112px; top:12347px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">precedence, </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">which means they are applied first.</span></div>
<div class="txt" style="position:absolute; left:76px; top:12417px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Concatenation </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is applied next.</span></div>
<div class="txt" style="position:absolute; left:76px; top:12489px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Alternation </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">| </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">has lowest precedence, </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">which means it is applied</span></div>
<div class="txt" style="position:absolute; left:112px; top:12539px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">last.</span></div>
<div class="txt" style="position:absolute; left:76px; top:12681px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Parentheses can be used to override precedence:</span></div>
<div class="txt" style="position:absolute; left:112px; top:12747px;"><span id="f36" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f38" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">x ::= (y z | a b)* </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">an </span><span id="f38" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">x </span><span id="f42" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is zero or more “yz” or “ab” pairs</span></div>
<div class="txt" style="position:absolute; left:112px; top:12808px;"><span id="f36" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f38" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">m ::= a (b|c) d </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">an </span><span id="f38" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">m </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is </span><span id="f38" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">a</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, followed by either </span><span id="f38" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">b </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">or </span><span id="f38" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">c</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, followed by </span><span id="f38" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">d</span></div>
<img id="background" style="position:absolute; left:0px; top:13050px;" width="1440" height="1080" src="page14.png"> <img id="background" style="position:absolute; left:1440px; top:13050px;" width="1440" height="1080" src="page-000014.png">
<div class="txt" style="position:absolute; left:1105px; top:13068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:410px; top:13465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(3) Example 1: URL</span></div>
<img id="background" style="position:absolute; left:0px; top:14050px;" width="1440" height="1080" src="page15.png"> <img id="background" style="position:absolute; left:1440px; top:14050px;" width="1440" height="1080" src="page-000015.png">
<div class="txt" style="position:absolute; left:33px; top:14157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">URL as an example</span></div>
<div class="txt" style="position:absolute; left:651px; top:14068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:14297px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">To write a grammar that represents URLs.</span></div>
<div class="txt" style="position:absolute; left:76px; top:14369px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Here’s a simple URL:</span></div>
<div class="txt" style="position:absolute; left:543px; top:14442px;"><span id="f20" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,255,1);">http://mit.edu/</span></div>
<div class="txt" style="position:absolute; left:76px; top:14513px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A grammar that represents the set of strings containing only this</span></div>
<div class="txt" style="position:absolute; left:112px; top:14563px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">URL would look like:</span></div>
<div class="txt" style="position:absolute; left:433px; top:14634px;"><span id="f20" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,255,1);">url ::= 'http://mit.edu/'</span></div>
<div class="txt" style="position:absolute; left:76px; top:14705px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">But let’s generalize it to capture other domains, as well:</span></div>
<div class="txt" style="position:absolute; left:488px; top:14779px;"><span id="f20" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,255,1);">http://stanford.edu/</span></div>
<div class="txt" style="position:absolute; left:510px; top:14850px;"><span id="f20" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,255,1);">http://google.com/</span></div>
<div class="txt" style="position:absolute; left:76px; top:14921px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">We can write this as one line, like this:</span></div>
<div class="txt" style="position:absolute; left:268px; top:14995px;"><span id="f20" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,255,1);">url ::= 'http://' [a-z]+ '.' [a-z]+ '/'</span></div>
<img id="background" style="position:absolute; left:0px; top:15050px;" width="1440" height="1080" src="page16.png"> <img id="background" style="position:absolute; left:1440px; top:15050px;" width="1440" height="1080" src="page-000016.png">
<div class="txt" style="position:absolute; left:33px; top:15157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">URL as an example</span></div>
<div class="txt" style="position:absolute; left:651px; top:15068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:268px; top:15298px;"><span id="f13" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,255,1);">url ::= 'http://' [a-z]+ '.' [a-z]+ '/'</span></div>
<div class="txt" style="position:absolute; left:76px; top:15369px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">This grammar represents the set of all URLs that consist of just a</span></div>
<div class="txt" style="position:absolute; left:112px; top:15419px;"><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">two-part hostname, where each part of the hostname consists of 1</span></div>
<div class="txt" style="position:absolute; left:112px; top:15467px;"><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">or more letters.</span></div>
<div class="txt" style="position:absolute; left:76px; top:15537px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">So </span><span id="f13" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">http://mit.edu/ </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and </span><span id="f13" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">http://yahoo.com/ </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">would match, but</span></div>
<div class="txt" style="position:absolute; left:112px; top:15586px;"><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">not </span><span id="f13" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">http://ou812.com/</span></div>
<div class="txt" style="position:absolute; left:76px; top:15657px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Since it has only one nonterminal, a parse tree for this URL</span></div>
<div class="txt" style="position:absolute; left:112px; top:15707px;"><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">grammar would look like this:</span></div>
<div class="txt" style="position:absolute; left:76px; top:15921px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In this one-line form, with a single nonterminal whose production</span></div>
<div class="txt" style="position:absolute; left:112px; top:15971px;"><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">uses only operators and terminals, </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">a grammar is called </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">a regular</span></div>
<div class="txt" style="position:absolute; left:112px; top:16014px;"><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">expression. </span><span id="f48" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">产生式中如果只有终结符和操作符，则称为正则表达式</span></div>
<img id="background" style="position:absolute; left:0px; top:16050px;" width="1440" height="1080" src="page17.png"> <img id="background" style="position:absolute; left:1440px; top:16050px;" width="1440" height="1080" src="page-000017.png">
<div class="txt" style="position:absolute; left:651px; top:16068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:16157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Grammars with multiple nonterminals</span></div>
<div class="txt" style="position:absolute; left:76px; top:16297px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">It will be easier to understand if we name</span></div>
<div class="txt" style="position:absolute; left:112px; top:16347px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the parts using new nonterminals:</span></div>
<div class="txt" style="position:absolute; left:112px; top:16412px;"><span id="f19" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">url ::= 'http://' hostname '/'</span></div>
<div class="txt" style="position:absolute; left:112px; top:16472px;"><span id="f19" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">hostname ::= word '.' word</span></div>
<div class="txt" style="position:absolute; left:112px; top:16533px;"><span id="f19" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">word ::= [a-z]+</span></div>
<div class="txt" style="position:absolute; left:76px; top:16659px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">The leaves of the tree are the parts of the</span></div>
<div class="txt" style="position:absolute; left:112px; top:16709px;"><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">string that have been parsed.</span></div>
<div class="txt" style="position:absolute; left:112px; top:16774px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Concatenating the leaves together, we would recover the original string.</span></div>
<div class="txt" style="position:absolute; left:112px; top:16834px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f19" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">hostname </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and word </span><span id="f19" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">nonterminals </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">are labeling nodes of the tree</span></div>
<div class="txt" style="position:absolute; left:148px; top:16877px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">whose subtrees match those rules in the grammar.</span></div>
<div class="txt" style="position:absolute; left:112px; top:16938px;"><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The immediate children of a nonterminal node like </span><span id="f19" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">hostname </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">follow the</span></div>
<div class="txt" style="position:absolute; left:148px; top:16981px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">pattern of the </span><span id="f19" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">hostname </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">rule, </span><span id="f19" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">word '.' word</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<img id="background" style="position:absolute; left:0px; top:17050px;" width="1440" height="1080" src="page18.png"> <img id="background" style="position:absolute; left:1440px; top:17050px;" width="1440" height="1080" src="page-000018.png">
<div class="txt" style="position:absolute; left:651px; top:17068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:17157px;"><span id="f12" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Again generalizing…</span></div>
<div class="txt" style="position:absolute; left:76px; top:17297px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Hostnames can have more than two components, and there can be</span></div>
<div class="txt" style="position:absolute; left:112px; top:17347px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">an optional port number:</span></div>
<div class="txt" style="position:absolute; left:356px; top:17418px;"><span id="f19" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">http://didit.csail.mit.edu:4949/</span></div>
<div class="txt" style="position:absolute; left:76px; top:17489px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">To handle this kind of string, the grammar is now:</span></div>
<div class="txt" style="position:absolute; left:73px; top:17564px;"><span id="f19" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">url ::= 'http://' hostname (':' port)? '/'</span></div>
<div class="txt" style="position:absolute; left:73px; top:17607px;"><span id="f19" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">hostname ::= word '.' hostname | word '.' word</span></div>
<div class="txt" style="position:absolute; left:73px; top:17650px;"><span id="f19" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">port ::= [0-9]+</span></div>
<div class="txt" style="position:absolute; left:73px; top:17694px;"><span id="f19" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">word ::= [a-z]+</span></div>
<div class="txt" style="position:absolute; left:76px; top:17777px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f19" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">hostname </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is now defined recursively</span></div>
<div class="txt" style="position:absolute; left:112px; top:17827px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">in terms of itself.</span></div>
<div class="txt" style="position:absolute; left:76px; top:17897px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Another way:</span></div>
<div class="txt" style="position:absolute; left:171px; top:17964px;"><span id="f19" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">hostname ::= (word '.')+ word</span></div>
<img id="background" style="position:absolute; left:0px; top:18050px;" width="1440" height="1080" src="page19.png"> <img id="background" style="position:absolute; left:1440px; top:18050px;" width="1440" height="1080" src="page-000019.png">
<div class="txt" style="position:absolute; left:651px; top:18068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:18157px;"><span id="f12" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">More generalizations…</span></div>
<div class="txt" style="position:absolute; left:76px; top:18297px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">There are more things we should do to go farther:</span></div>
<div class="txt" style="position:absolute; left:112px; top:18364px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Generalizing http to support the additional protocols that URLs can have</span></div>
<div class="txt" style="position:absolute; left:112px; top:18424px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Generalizing the / at the end to a slash-separated path</span></div>
<div class="txt" style="position:absolute; left:112px; top:18485px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Allowing hostnames with the full set of legal characters instead of just a-z</span></div>
<div class="txt" style="position:absolute; left:76px; top:18611px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Can you do these?</span></div>
<img id="background" style="position:absolute; left:0px; top:19050px;" width="1440" height="1080" src="page20.png"> <img id="background" style="position:absolute; left:1440px; top:19050px;" width="1440" height="1080" src="page-000020.png">
<div class="txt" style="position:absolute; left:1105px; top:19068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:235px; top:19379px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(4) Example 2: Markdown and</span></div>
<div class="txt" style="position:absolute; left:612px; top:19465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">HTML</span></div>
<img id="background" style="position:absolute; left:0px; top:20050px;" width="1440" height="1080" src="page21.png"> <img id="background" style="position:absolute; left:1440px; top:20050px;" width="1440" height="1080" src="page-000021.png">
<div class="txt" style="position:absolute; left:651px; top:20068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:20157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Markdown and HTML</span></div>
<div class="txt" style="position:absolute; left:76px; top:20297px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Markdown</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">(</span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">一种可以使用普通文本编辑器编写的标记语言，通过简单的标</span></div>
<div class="txt" style="position:absolute; left:112px; top:20342px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">记语法，它可以使普通文本内容具有一定的格式</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<div class="txt" style="position:absolute; left:521px; top:20413px;"><span id="f24" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">This is _italic_.</span></div>
<div class="txt" style="position:absolute; left:76px; top:20483px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">HTML</span></div>
<div class="txt" style="position:absolute; left:378px; top:20557px;"><span id="f24" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">Here is an &lt;i&gt;italic&lt;/i&gt; word.</span></div>
<div class="txt" style="position:absolute; left:76px; top:20627px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">For simplicity, these HTML and Markdown grammars will only</span></div>
<div class="txt" style="position:absolute; left:112px; top:20677px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">specify italics, but other text styles are of course possible.</span></div>
<div class="txt" style="position:absolute; left:76px; top:20747px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">For simplicity, we will assume the plain text between the</span></div>
<div class="txt" style="position:absolute; left:112px; top:20797px;"><span id="f38" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">formatting delimiters isn’t allowed to use any formatting</span></div>
<div class="txt" style="position:absolute; left:112px; top:20845px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">punctuation, like _ or &lt;.</span></div>
<img id="background" style="position:absolute; left:0px; top:21050px;" width="1440" height="1080" src="page22.png"> <img id="background" style="position:absolute; left:1440px; top:21050px;" width="1440" height="1080" src="page-000022.png">
<div class="txt" style="position:absolute; left:651px; top:21068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:21157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Markdown and HTML</span></div>
<div class="txt" style="position:absolute; left:53px; top:21340px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">markdown ::= ( normal | italic ) *</span></div>
<div class="txt" style="position:absolute; left:53px; top:21383px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">italic ::= '_' normal '_'</span></div>
<div class="txt" style="position:absolute; left:53px; top:21427px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">normal ::= text</span></div>
<div class="txt" style="position:absolute; left:53px; top:21470px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">text ::= [^_]*</span></div>
<div class="txt" style="position:absolute; left:53px; top:21692px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">html ::= ( normal | italic ) *</span></div>
<div class="txt" style="position:absolute; left:53px; top:21735px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">italic ::= '&lt;i&gt;' html '&lt;/i&gt;'</span></div>
<div class="txt" style="position:absolute; left:53px; top:21778px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">normal ::= text</span></div>
<div class="txt" style="position:absolute; left:53px; top:21821px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">text ::= [^&lt;&gt;]*</span></div>
<img id="background" style="position:absolute; left:0px; top:22050px;" width="1440" height="1080" src="page23.png"> <img id="background" style="position:absolute; left:1440px; top:22050px;" width="1440" height="1080" src="page-000023.png">
<div class="txt" style="position:absolute; left:1105px; top:22068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:158px; top:22379px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(5) Regular Grammars and Regular</span></div>
<div class="txt" style="position:absolute; left:529px; top:22465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Expressions</span></div>
<img id="background" style="position:absolute; left:0px; top:23050px;" width="1440" height="1080" src="page24.png"> <img id="background" style="position:absolute; left:1440px; top:23050px;" width="1440" height="1080" src="page-000024.png">
<div class="txt" style="position:absolute; left:33px; top:23157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Regular grammar</span></div>
<div class="txt" style="position:absolute; left:651px; top:23068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:23294px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A regular grammar</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">正则文法 </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">has a special property: by substituting</span></div>
<div class="txt" style="position:absolute; left:112px; top:23347px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">every nonterminal (except the root one) with its righthand side, you</span></div>
<div class="txt" style="position:absolute; left:112px; top:23395px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">can reduce it down to a single production for the root, with only</span></div>
<div class="txt" style="position:absolute; left:112px; top:23438px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">terminals and operators on the right-hand side</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">. </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">对</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">root</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">对应的产生式</span></div>
<div class="txt" style="position:absolute; left:112px; top:23486px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">右侧，替换其中所有</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">root</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">之外的非终结符</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">用非终结符的右侧</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">，如果最</span></div>
<div class="txt" style="position:absolute; left:112px; top:23534px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">终可以得到只有终结符和操作符构成的产生式，则为正则语法</span></div>
<div class="txt" style="position:absolute; left:76px; top:23609px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Which of them are regular grammars?</span></div>
<div class="txt" style="position:absolute; left:246px; top:23675px;"><span id="f50" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">url ::= 'http://' hostname (':' port)? '/'</span></div>
<div class="txt" style="position:absolute; left:246px; top:23718px;"><span id="f50" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">hostname ::= word '.' hostname | word '.' word</span></div>
<div class="txt" style="position:absolute; left:246px; top:23761px;"><span id="f50" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">port ::= [0-9]+</span></div>
<div class="txt" style="position:absolute; left:246px; top:23804px;"><span id="f50" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">word ::= [a-z]+</span></div>
<div class="txt" style="position:absolute; left:47px; top:23907px;"><span id="f50" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">markdown ::= ( normal | italic ) *</span></div>
<div class="txt" style="position:absolute; left:47px; top:23951px;"><span id="f50" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">italic ::= '_' normal '_'</span></div>
<div class="txt" style="position:absolute; left:47px; top:23994px;"><span id="f50" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">normal ::= text</span></div>
<div class="txt" style="position:absolute; left:47px; top:24037px;"><span id="f50" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">text ::= [^_]*</span></div>
<div class="txt" style="position:absolute; left:805px; top:23907px;"><span id="f50" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">html ::= ( normal | italic ) *</span></div>
<div class="txt" style="position:absolute; left:805px; top:23951px;"><span id="f50" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">italic ::= '&lt;i&gt;' html '&lt;/i&gt;'</span></div>
<div class="txt" style="position:absolute; left:805px; top:23994px;"><span id="f50" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">normal ::= text</span></div>
<div class="txt" style="position:absolute; left:805px; top:24037px;"><span id="f50" style="font-size:15px;vertical-align:baseline;color:rgba(255,255,255,1);">text ::= [^&lt;&gt;]*</span></div>
<img id="background" style="position:absolute; left:0px; top:24050px;" width="1440" height="1080" src="page25.png"> <img id="background" style="position:absolute; left:1440px; top:24050px;" width="1440" height="1080" src="page-000025.png">
<div class="txt" style="position:absolute; left:33px; top:24157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Regular grammar</span></div>
<div class="txt" style="position:absolute; left:651px; top:24068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:24298px;"><span id="f13" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">url ::= 'http://' ([a-z]+ '.')+ [a-z]+ (':' [0-9]+)? '/'</span></div>
<div class="txt" style="position:absolute; left:76px; top:24370px;"><span id="f13" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">Regular!</span></div>
<div class="txt" style="position:absolute; left:76px; top:24514px;"><span id="f13" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">markdown ::= ([^_]* | '_' [^_]* '_' )*</span></div>
<div class="txt" style="position:absolute; left:76px; top:24586px;"><span id="f13" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">Regular!</span></div>
<div class="txt" style="position:absolute; left:76px; top:24731px;"><span id="f13" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">html ::= ( [^&lt;&gt;]* | '&lt;i&gt;' html '&lt;/i&gt;' )*</span></div>
<div class="txt" style="position:absolute; left:76px; top:24803px;"><span id="f13" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">Not regular!</span></div>
<img id="background" style="position:absolute; left:0px; top:25050px;" width="1440" height="1080" src="page26.png"> <img id="background" style="position:absolute; left:1440px; top:25050px;" width="1440" height="1080" src="page-000026.png">
<div class="txt" style="position:absolute; left:651px; top:25068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:25156px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Regular Expressions (</span><span id="f13" style="font-size:56px;vertical-align:baseline;color:rgba(0,0,0,1);">regex</span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<div class="txt" style="position:absolute; left:76px; top:25297px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The reduced expression of terminals and operators can be written</span></div>
<div class="txt" style="position:absolute; left:112px; top:25347px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">in an even more compact form, </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">called a regular expression.</span></div>
<div class="txt" style="position:absolute; left:76px; top:25417px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A regular expression does away with the quotes around the</span></div>
<div class="txt" style="position:absolute; left:112px; top:25467px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">terminals, and the spaces between terminals and operators, </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">so that</span></div>
<div class="txt" style="position:absolute; left:112px; top:25515px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">it consists just of terminal characters, parentheses for grouping,</span></div>
<div class="txt" style="position:absolute; left:112px; top:25563px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">and operator characters.</span></div>
<div class="txt" style="position:absolute; left:290px; top:25634px;"><span id="f29" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">markdown ::= ([^_]* | '_' [^_]* '_' )*</span></div>
<div class="txt" style="position:absolute; left:389px; top:25706px;"><span id="f29" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">markdown ::= ([^_]*|_[^_]*_)*</span></div>
<div class="txt" style="position:absolute; left:76px; top:25777px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Regular expressions are also called </span><span id="f34" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">regex </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">for short.</span></div>
<div class="txt" style="position:absolute; left:112px; top:25844px;"><span id="f37" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">A regex is far less readable than the original grammar</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, because it lacks</span></div>
<div class="txt" style="position:absolute; left:148px; top:25887px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the nonterminal names that documented the meaning of each</span></div>
<div class="txt" style="position:absolute; left:148px; top:25926px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">subexpression. </span><span id="f44" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">正则表达式可读性不如原始语法</span></div>
<div class="txt" style="position:absolute; left:112px; top:25991px;"><span id="f37" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">But </span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">a regex is fast to implement</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, and there are libraries in many</span></div>
<div class="txt" style="position:absolute; left:148px; top:26030px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">programming languages that support regular expressions. </span><span id="f44" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">易于实现</span></div>
<img id="background" style="position:absolute; left:0px; top:26050px;" width="1440" height="1080" src="page27.png"> <img id="background" style="position:absolute; left:1440px; top:26050px;" width="1440" height="1080" src="page-000027.png">
<div class="txt" style="position:absolute; left:651px; top:26068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:26157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Some special operators in regex</span></div>
<div class="txt" style="position:absolute; left:56px; top:26297px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">. </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">any single character</span></div>
<div class="txt" style="position:absolute; left:56px; top:26369px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">\d </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">any digit, same as [0-9]</span></div>
<div class="txt" style="position:absolute; left:56px; top:26441px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">\s </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">any whitespace character, including space, tab, newline</span></div>
<div class="txt" style="position:absolute; left:56px; top:26513px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">\w </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">any word character, including letters and digits</span></div>
<div class="txt" style="position:absolute; left:56px; top:26585px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">\., \(, \), \*, \+, ...</span></div>
<div class="txt" style="position:absolute; left:78px; top:26659px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">backslach escapes an operator or special character so that it matches</span></div>
<div class="txt" style="position:absolute; left:56px; top:26707px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">literally</span></div>
<img id="background" style="position:absolute; left:0px; top:27050px;" width="1440" height="1080" src="page28.png"> <img id="background" style="position:absolute; left:1440px; top:27050px;" width="1440" height="1080" src="page-000028.png">
<div class="txt" style="position:absolute; left:33px; top:27157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">An example</span></div>
<div class="txt" style="position:absolute; left:651px; top:27068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:27297px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Original:</span></div>
<div class="txt" style="position:absolute; left:180px; top:27370px;"><span id="f17" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">'http://' ([a-z]+ '.')+ [a-z]+ (':' [0-9]+)? '/'</span></div>
<div class="txt" style="position:absolute; left:76px; top:27441px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Compact:</span></div>
<div class="txt" style="position:absolute; left:334px; top:27514px;"><span id="f17" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">http://([a-z]+.)+[a-z]+(:[0-9]+)?/</span></div>
<div class="txt" style="position:absolute; left:76px; top:27585px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">With escape:</span></div>
<div class="txt" style="position:absolute; left:323px; top:27659px;"><span id="f17" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">http://([a-z]+\.)+[a-z]+(:[0-9]+)?/</span></div>
<img id="background" style="position:absolute; left:0px; top:28050px;" width="1440" height="1080" src="page29.png"> <img id="background" style="position:absolute; left:1440px; top:28050px;" width="1440" height="1080" src="page-000029.png">
<div class="txt" style="position:absolute; left:1105px; top:28068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:136px; top:28465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(6) Using regular expressions in Java</span></div>
<img id="background" style="position:absolute; left:0px; top:29050px;" width="1440" height="1080" src="page30.png"> <img id="background" style="position:absolute; left:1440px; top:29050px;" width="1440" height="1080" src="page-000030.png">
<div class="txt" style="position:absolute; left:651px; top:29068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:29157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Using regular expressions in Java</span></div>
<div class="txt" style="position:absolute; left:76px; top:29297px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Regex is very useful in programming languages.</span></div>
<div class="txt" style="position:absolute; left:112px; top:29363px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">In Java, you can use regexes for manipulating strings (see </span><span id="f20" style="font-size:15px;vertical-align:baseline;color:rgba(255,0,0,1);">String.split</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">,</span></div>
<div class="txt" style="position:absolute; left:148px; top:29407px;"><span id="f20" style="font-size:15px;vertical-align:baseline;color:rgba(255,0,0,1);">String.matches</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, </span><span id="f20" style="font-size:15px;vertical-align:baseline;color:rgba(255,0,0,1);">java.util.regex.Pattern</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">).</span></div>
<div class="txt" style="position:absolute; left:112px; top:29467px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f28" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">They’re built</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">-in as a first-class feature of modern scripting languages like</span></div>
<div class="txt" style="position:absolute; left:148px; top:29511px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Python, Ruby, and Javascript, and you can use them in many text editors</span></div>
<div class="txt" style="position:absolute; left:148px; top:29554px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">for find and replace.</span></div>
<div class="txt" style="position:absolute; left:76px; top:29619px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Replace all runs of spaces with a single space:</span></div>
<div class="txt" style="position:absolute; left:166px; top:29693px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">public String replaceAll(String regex, String replacement)</span></div>
<div class="txt" style="position:absolute; left:164px; top:29758px;"><span id="f20" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">String singleSpacedString = string.replaceAll(" +", " ");</span></div>
<div class="txt" style="position:absolute; left:76px; top:29824px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Match a URL:</span></div>
<div class="txt" style="position:absolute; left:112px; top:29891px;"><span id="f20" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Pattern regex =</span></div>
<div class="txt" style="position:absolute; left:220px; top:29951px;"><span id="f20" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Pattern.compile("http://([a-z]+</span><span id="f55" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">\\.</span><span id="f20" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">)+[a-z]+(:[0-9]+)?/");</span></div>
<div class="txt" style="position:absolute; left:112px; top:30012px;"><span id="f20" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Matcher m = regex.matcher(string);</span></div>
<div class="txt" style="position:absolute; left:112px; top:30072px;"><span id="f20" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">if (m.matches()) { // then string is a url }</span></div>
<img id="background" style="position:absolute; left:0px; top:36110px;" width="1440" height="1080" src="page31.png"> <img id="background" style="position:absolute; left:1440px; top:36110px;" width="1440" height="1080" src="page-000031.png">
<div class="txt" style="position:absolute; left:651px; top:36128px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:36217px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Using regular expressions in Java</span></div>
<div class="txt" style="position:absolute; left:76px; top:36357px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Extract part of an HTML tag:</span></div>
<div class="txt" style="position:absolute; left:112px; top:36496px;"><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Pattern regex = Pattern.compile("&lt;a href=\"([^\"]*)\"&gt;");</span></div>
<div class="txt" style="position:absolute; left:112px; top:36556px;"><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Matcher m = regex.matcher(string);</span></div>
<div class="txt" style="position:absolute; left:112px; top:36617px;"><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">if (m.matches()) {</span></div>
<div class="txt" style="position:absolute; left:191px; top:36677px;"><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">String url = m.group(1);</span></div>
<div class="txt" style="position:absolute; left:191px; top:36738px;"><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">// Matcher.group(n) returns the nth parenthesized part of</span></div>
<div class="txt" style="position:absolute; left:191px; top:36798px;"><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">// the regex</span></div>
<div class="txt" style="position:absolute; left:112px; top:36859px;"><span id="f17" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:76px; top:36985px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The frequency of backslash escapes makes regexes still less</span></div>
<div class="txt" style="position:absolute; left:112px; top:37035px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">readable!!!</span></div>
<img id="background" style="position:absolute; left:0px; top:37312px;" width="1440" height="1080" src="page32.png"> <img id="background" style="position:absolute; left:1440px; top:37312px;" width="1440" height="1080" src="page-000032.png">
<div class="txt" style="position:absolute; left:33px; top:37419px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">An example</span></div>
<div class="txt" style="position:absolute; left:651px; top:37330px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:37559px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Write the shortest regex you can to remove single-word, lowercase-</span></div>
<div class="txt" style="position:absolute; left:112px; top:37609px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">letter-only HTML tags from a string:</span></div>
<div class="txt" style="position:absolute; left:112px; top:37674px;"><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">String input = "The &lt;b&gt;Good&lt;/b&gt;, the &lt;i&gt;Bad&lt;/i&gt;, and the</span></div>
<div class="txt" style="position:absolute; left:364px; top:37717px;"><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">&lt;strong&gt;Ugly&lt;/strong&gt;";</span></div>
<div class="txt" style="position:absolute; left:112px; top:37777px;"><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">String regex = "TODO";</span></div>
<div class="txt" style="position:absolute; left:112px; top:37834px;"><span id="f23" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">String output = input.replaceAll</span><span id="f33" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">(regex, “”); //</span><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">去掉所有的</span><span id="f37" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">TODO</span></div>
<div class="txt" style="position:absolute; left:76px; top:37976px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If the desired output is </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">"The Good, the Bad, and the Ugly", </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">what is</span></div>
<div class="txt" style="position:absolute; left:112px; top:38025px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">shortest regex you can put in place of TODO?</span></div>
<div class="txt" style="position:absolute; left:532px; top:38169px;"><span id="f23" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">regex=&lt;/?[a-z]+&gt;</span></div>
<img id="background" style="position:absolute; left:0px; top:38514px;" width="1440" height="1080" src="page33.png"> <img id="background" style="position:absolute; left:1440px; top:38514px;" width="1440" height="1080" src="page-000033.png">
<div class="txt" style="position:absolute; left:651px; top:38532px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:38616px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Context-Free Grammars </span><span id="f15" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">上下文无关文法</span></div>
<div class="txt" style="position:absolute; left:76px; top:38761px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In general, a language that can be expressed with our system of</span></div>
<div class="txt" style="position:absolute; left:112px; top:38806px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">grammars is called </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">context-free. </span><span id="f28" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">注：上下文无关文法左侧只含有一个</span></div>
<div class="txt" style="position:absolute; left:112px; top:38857px;"><span id="f28" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">非终结符，它定义的语法范畴（或语法单位）是完全独立于这种范畴</span></div>
<div class="txt" style="position:absolute; left:112px; top:38902px;"><span id="f28" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">可能出现的环境，无需考虑上下文。</span></div>
<div class="txt" style="position:absolute; left:112px; top:38972px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Not all context-free languages are also regular; that is, some grammars</span></div>
<div class="txt" style="position:absolute; left:148px; top:39011px;"><span id="f39" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">can’t be reduced to single </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">nonrecursive productions. </span><span id="f28" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">不是所有</span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">CFG</span><span id="f28" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">都是正</span></div>
<div class="txt" style="position:absolute; left:148px; top:39054px;"><span id="f28" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">则的。</span></div>
<div class="txt" style="position:absolute; left:112px; top:39119px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The HTML grammar is context-free but not regular.</span></div>
<div class="txt" style="position:absolute; left:76px; top:39184px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The grammars for most programming languages are also context-</span></div>
<div class="txt" style="position:absolute; left:112px; top:39229px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">free. </span><span id="f28" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">程序设计语言的语法多数都是</span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">CFG</span></div>
<div class="txt" style="position:absolute; left:76px; top:39301px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In general, any language with nested structure</span><span id="f28" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">嵌套结构 </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(like nesting</span></div>
<div class="txt" style="position:absolute; left:112px; top:39354px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">parentheses or braces) is context-free but not regular.</span></div>
<img id="background" style="position:absolute; left:0px; top:39716px;" width="1440" height="1080" src="page34.png"> <img id="background" style="position:absolute; left:1440px; top:39716px;" width="1440" height="1080" src="page-000034.png">
<div class="txt" style="position:absolute; left:33px; top:39823px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Java grammar</span></div>
<div class="txt" style="position:absolute; left:651px; top:39734px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<img id="background" style="position:absolute; left:0px; top:40918px;" width="1440" height="1080" src="page35.png"> <img id="background" style="position:absolute; left:1440px; top:40918px;" width="1440" height="1080" src="page-000035.png">
<div class="txt" style="position:absolute; left:1105px; top:40936px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:552px; top:41333px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(7) Parsers</span></div>
<img id="background" style="position:absolute; left:0px; top:42120px;" width="1440" height="1080" src="page36.png"> <img id="background" style="position:absolute; left:1440px; top:42120px;" width="1440" height="1080" src="page-000036.png">
<div class="txt" style="position:absolute; left:33px; top:42227px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Parser</span></div>
<div class="txt" style="position:absolute; left:651px; top:42138px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:42367px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A parser takes a sequence of characters and tries to match the</span></div>
<div class="txt" style="position:absolute; left:112px; top:42417px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">sequence against the grammar.</span></div>
<div class="txt" style="position:absolute; left:76px; top:42487px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The parser typically produces a parse tree, which shows how</span></div>
<div class="txt" style="position:absolute; left:112px; top:42537px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">grammar productions are expanded into a sentence that matches</span></div>
<div class="txt" style="position:absolute; left:112px; top:42585px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the character sequence.</span></div>
<div class="txt" style="position:absolute; left:112px; top:42650px;"><span id="f24" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The root of the parse tree is the starting nonterminal of the grammar.</span></div>
<div class="txt" style="position:absolute; left:112px; top:42710px;"><span id="f24" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Each node of the parse tree expands into one production of the grammar.</span></div>
<div class="txt" style="position:absolute; left:76px; top:42848px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A recursive abstract data type that represents a language</span></div>
<div class="txt" style="position:absolute; left:112px; top:42897px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">expression is called an </span><span id="f32" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">abstract syntax tree </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(AST).</span></div>
<img id="background" style="position:absolute; left:0px; top:43322px;" width="1440" height="1080" src="page37.png"> <img id="background" style="position:absolute; left:1440px; top:43322px;" width="1440" height="1080" src="page-000037.png">
<div class="txt" style="position:absolute; left:33px; top:43429px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Parser Generator</span></div>
<div class="txt" style="position:absolute; left:651px; top:43340px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:43569px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A parser generator is a tool that reads a grammar specification and</span></div>
<div class="txt" style="position:absolute; left:112px; top:43619px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">converts it to a Java program that can recognize matches to the</span></div>
<div class="txt" style="position:absolute; left:112px; top:43662px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">grammar. </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">根据语法定义生成</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">parser</span></div>
<div class="txt" style="position:absolute; left:112px; top:43732px;"><span id="f24" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Read </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,98,176,1);">http://web.mit.edu/6.031/www/sp17/classes/18-parsers</span></div>
<div class="txt" style="position:absolute; left:148px; top:43775px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">This is not the mandatory contents of this course.</span></div>
<div class="txt" style="position:absolute; left:76px; top:43913px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">More broadly:</span></div>
<div class="txt" style="position:absolute; left:112px; top:43979px;"><span id="f24" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A parser generator is a programming tool that creates a parser, interpreter,</span></div>
<div class="txt" style="position:absolute; left:148px; top:44023px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">or compiler from some form of formal description of a language.</span></div>
<div class="txt" style="position:absolute; left:112px; top:44083px;"><span id="f24" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The input may be a text file containing the grammar written in BNF or</span></div>
<div class="txt" style="position:absolute; left:148px; top:44126px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">EBNF that defines the syntax of a programming language.</span></div>
<div class="txt" style="position:absolute; left:112px; top:44187px;"><span id="f24" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The output is some source code of the parser for the grammar.</span></div>
<img id="background" style="position:absolute; left:0px; top:44524px;" width="1440" height="1080" src="page38.png"> <img id="background" style="position:absolute; left:1440px; top:44524px;" width="1440" height="1080" src="page-000038.png">
<div class="txt" style="position:absolute; left:651px; top:44542px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:44631px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Grammar, Parser Generator, and Parser</span></div>
<div class="txt" style="position:absolute; left:76px; top:44768px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Grammar</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">定义语法规则，</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Parser generator</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">根据</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">grammar</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">定义的规则</span></div>
<div class="txt" style="position:absolute; left:112px; top:44816px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">产生一个</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">parser</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">，</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">client</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">利用</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">parser</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">来解析文本，看其是否符合语法定</span></div>
<div class="txt" style="position:absolute; left:112px; top:44864px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">义并对其做各种处理（例如转成</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">parse tree</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">）</span></div>
<div class="txt" style="position:absolute; left:177px; top:44977px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Grammar</span></div>
<div class="txt" style="position:absolute; left:88px; top:45050px;"><span id="f33" style="font-size:8px;vertical-align:baseline;color:rgba(255,255,255,1);">root ::= html;</span></div>
<div class="txt" style="position:absolute; left:88px; top:45075px;"><span id="f33" style="font-size:8px;vertical-align:baseline;color:rgba(255,255,255,1);">html ::= ( italic | normal ) *;</span></div>
<div class="txt" style="position:absolute; left:88px; top:45100px;"><span id="f33" style="font-size:8px;vertical-align:baseline;color:rgba(255,255,255,1);">italic ::= '&lt;i&gt;' html '&lt;/i&gt;';</span></div>
<div class="txt" style="position:absolute; left:88px; top:45125px;"><span id="f33" style="font-size:8px;vertical-align:baseline;color:rgba(255,255,255,1);">normal ::= text;</span></div>
<div class="txt" style="position:absolute; left:88px; top:45151px;"><span id="f33" style="font-size:8px;vertical-align:baseline;color:rgba(255,255,255,1);">text ::= [^&lt;&gt;]+;</span></div>
<div class="txt" style="position:absolute; left:711px; top:44940px;"><span id="f33" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Here is an &lt;i&gt;italic&lt;/i&gt; word.</span></div>
<div class="txt" style="position:absolute; left:635px; top:45034px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Parser</span></div>
<div class="txt" style="position:absolute; left:599px; top:45082px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Generator</span></div>
<div class="txt" style="position:absolute; left:631px; top:45130px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(Tool)</span></div>
<div class="txt" style="position:absolute; left:1131px; top:45021px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">例如：</span></div>
<div class="txt" style="position:absolute; left:949px; top:45068px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Parser </span><span id="f8" style="font-size:36px;vertical-align:super;color:rgba(0,0,0,1);">Java regex parser</span></div>
<div class="txt" style="position:absolute; left:888px; top:45111px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(API or tool) </span><span id="f8" style="font-size:36px;vertical-align:super;color:rgba(0,0,0,1);">HTML parser</span></div>
<div class="txt" style="position:absolute; left:1131px; top:45155px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Java compiler</span></div>
<div class="txt" style="position:absolute; left:139px; top:45247px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">例如：</span></div>
<div class="txt" style="position:absolute; left:139px; top:45290px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">正则表达式语法</span></div>
<div class="txt" style="position:absolute; left:139px; top:45333px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">HTML</span><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">语法</span></div>
<div class="txt" style="position:absolute; left:139px; top:45377px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Java</span><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">语法</span></div>
<div class="txt" style="position:absolute; left:576px; top:45342px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">例如：</span></div>
<div class="txt" style="position:absolute; left:576px; top:45389px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Regex pattern</span></div>
<div class="txt" style="position:absolute; left:576px; top:45432px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">HTML tree</span></div>
<div class="txt" style="position:absolute; left:576px; top:45475px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Java AST</span></div>
<img id="background" style="position:absolute; left:0px; top:45726px;" width="1440" height="1080" src="page39.png"> <img id="background" style="position:absolute; left:1440px; top:45726px;" width="1440" height="1080" src="page-000039.png">
<div class="txt" style="position:absolute; left:33px; top:45833px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Interpreter Pattern</span></div>
<div class="txt" style="position:absolute; left:651px; top:45744px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:45973px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The Interpreter Design Pattern allows you to </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">build the rules as</span></div>
<div class="txt" style="position:absolute; left:112px; top:46018px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">classes. </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">解析器设计模式允许将规则定义为类</span></div>
<div class="txt" style="position:absolute; left:76px; top:46093px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Intent</span></div>
<div class="txt" style="position:absolute; left:112px; top:46160px;"><span id="f24" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Given a language, define a representation for its grammar along with an</span></div>
<div class="txt" style="position:absolute; left:148px; top:46203px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">interpreter that uses the representation to interpret sentences in the</span></div>
<div class="txt" style="position:absolute; left:148px; top:46246px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">language.</span></div>
<div class="txt" style="position:absolute; left:76px; top:46312px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Applicability</span></div>
<div class="txt" style="position:absolute; left:112px; top:46379px;"><span id="f24" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The grammar is simple. They can interpret expressions without building</span></div>
<div class="txt" style="position:absolute; left:148px; top:46418px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">abstract syntax trees, which can save space and possibly time. </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">适用于简单</span></div>
<div class="txt" style="position:absolute; left:148px; top:46461px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">语法情况，此模式不采用</span><span id="f39" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">AST</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">的方式解析表达式，节省空间和时间。</span></div>
<div class="txt" style="position:absolute; left:112px; top:46526px;"><span id="f24" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Efficiency is not a critical concern. The most efficient interpreters are</span></div>
<div class="txt" style="position:absolute; left:148px; top:46569px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">usually not implemented by interpreting parse trees directly but by first</span></div>
<div class="txt" style="position:absolute; left:148px; top:46612px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">translating them into another form. But even then, the translator can be</span></div>
<div class="txt" style="position:absolute; left:148px; top:46655px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">implemented by the Interpreter pattern, so the pattern is still applicable.</span></div>
<img id="background" style="position:absolute; left:0px; top:46928px;" width="1440" height="1080" src="page40.png"> <img id="background" style="position:absolute; left:1440px; top:46928px;" width="1440" height="1080" src="page-000040.png">
<div class="txt" style="position:absolute; left:33px; top:47035px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Interpreter Pattern</span></div>
<div class="txt" style="position:absolute; left:651px; top:46946px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:47175px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">AbstractExpression (RegularExpression)</span></div>
<div class="txt" style="position:absolute; left:112px; top:47242px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">declares an abstract Interpret operation that is common to all nodes in the</span></div>
<div class="txt" style="position:absolute; left:148px; top:47285px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">abstract syntax tree.</span></div>
<div class="txt" style="position:absolute; left:76px; top:47351px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">TerminalExpression (LiteralExpression)</span></div>
<div class="txt" style="position:absolute; left:112px; top:47417px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">implements an Interpret operation associated with terminal symbols in the</span></div>
<div class="txt" style="position:absolute; left:148px; top:47461px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">grammar.</span></div>
<div class="txt" style="position:absolute; left:112px; top:47521px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">an instance is required for every terminal symbol in a sentence.</span></div>
<img id="background" style="position:absolute; left:0px; top:48130px;" width="1440" height="1080" src="page41.png"> <img id="background" style="position:absolute; left:1440px; top:48130px;" width="1440" height="1080" src="page-000041.png">
<div class="txt" style="position:absolute; left:33px; top:48237px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Interpreter Pattern</span></div>
<div class="txt" style="position:absolute; left:651px; top:48148px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:48377px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">NonterminalExpression</span></div>
<div class="txt" style="position:absolute; left:76px; top:48449px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Context</span></div>
<div class="txt" style="position:absolute; left:112px; top:48512px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">contains information that‘s global to the interpreter. </span><span id="f24" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">包含所有解析器的全</span></div>
<div class="txt" style="position:absolute; left:148px; top:48555px;"><span id="f24" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">局信息</span></div>
<div class="txt" style="position:absolute; left:76px; top:48627px;"><span id="f13" style="font-size:43px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:43px;vertical-align:baseline;color:rgba(0,0,0,1);">Client</span></div>
<div class="txt" style="position:absolute; left:112px; top:48699px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">builds (or is given) an abstract syntax tree representing a particular</span></div>
<div class="txt" style="position:absolute; left:148px; top:48742px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">sentence in the language that the grammar defines. The abstract syntax</span></div>
<div class="txt" style="position:absolute; left:148px; top:48785px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">tree is assembled from instances of the NonterminalExpression and</span></div>
<div class="txt" style="position:absolute; left:148px; top:48828px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">TerminalExpression classes.</span></div>
<div class="txt" style="position:absolute; left:112px; top:48889px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">invokes the Interpret operation.</span></div>
<img id="background" style="position:absolute; left:0px; top:49332px;" width="1440" height="1080" src="page42.png"> <img id="background" style="position:absolute; left:1440px; top:49332px;" width="1440" height="1080" src="page-000042.png">
<div class="txt" style="position:absolute; left:651px; top:49350px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:49439px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Interpreter vs. grammar + parser</span></div>
<div class="txt" style="position:absolute; left:76px; top:49579px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Grammar + Parser</span></div>
<div class="txt" style="position:absolute; left:112px; top:49642px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Grammar</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">由</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">BNF</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">等形式定义</span></div>
<div class="txt" style="position:absolute; left:112px; top:49702px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Parser</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">读取用户输入的待解析的文本，判定其是否与</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">grammar</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">匹配，并转为</span></div>
<div class="txt" style="position:absolute; left:148px; top:49745px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">符合</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">grammar</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">的</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">parse tree</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">，交给其他功能做后续处理</span></div>
<div class="txt" style="position:absolute; left:112px; top:49806px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">可用于高度复杂的</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">grammar rules</span></div>
<div class="txt" style="position:absolute; left:76px; top:49936px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Interpreter pattern</span></div>
<div class="txt" style="position:absolute; left:112px; top:49999px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Grammar</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">由程序员手工定义为一组</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">interface/class</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">及其之间的关系，对</span></div>
<div class="txt" style="position:absolute; left:148px; top:50042px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">grammar</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">的解释（即</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">parser</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">）由这组</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">class</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">的内部操作</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">(</span><span id="f51" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Interpret()</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">负责</span></div>
<div class="txt" style="position:absolute; left:112px; top:50103px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">每条语法规则</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">(production)</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">都要定义相应的类</span><span id="f59" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">——</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">相当于开发一个简单的</span></div>
<div class="txt" style="position:absolute; left:148px; top:50150px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">parser</span></div>
<div class="txt" style="position:absolute; left:112px; top:50209px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">用户使用的时候，调用这组类完成对输入文本的解释（这里的“解释”，其</span></div>
<div class="txt" style="position:absolute; left:148px; top:50249px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">实相当于“翻译”）</span></div>
<div class="txt" style="position:absolute; left:112px; top:50310px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">只适用于简单的</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">grammar rules</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">，过于复杂的</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">grammar</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">就需要引入大量的类</span></div>
<img id="background" style="position:absolute; left:0px; top:50534px;" width="1440" height="1080" src="page43.png"> <img id="background" style="position:absolute; left:1440px; top:50534px;" width="1440" height="1080" src="page-000043.png">
<div class="txt" style="position:absolute; left:1105px; top:50552px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:303px; top:50949px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">2 State-based construction</span></div>
<img id="background" style="position:absolute; left:0px; top:51736px;" width="1440" height="1080" src="page44.png"> <img id="background" style="position:absolute; left:1440px; top:51736px;" width="1440" height="1080" src="page-000044.png">
<div class="txt" style="position:absolute; left:651px; top:51754px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:51843px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">State-based programming</span></div>
<div class="txt" style="position:absolute; left:76px; top:51983px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">State-based programming is a programming technology using finite</span></div>
<div class="txt" style="position:absolute; left:112px; top:52028px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">state machines (FSM</span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">有限状态机</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">) to describe program behaviors, i.e.,</span></div>
<div class="txt" style="position:absolute; left:112px; top:52076px;"><span id="f25" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the use of “states” to control the flow of your program. </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">通过状态控制</span></div>
<div class="txt" style="position:absolute; left:112px; top:52124px;"><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">程序流程</span></div>
<div class="txt" style="position:absolute; left:76px; top:52199px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">For example, in the case of an </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">elevator, </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">it could be moving up, moving</span></div>
<div class="txt" style="position:absolute; left:112px; top:52249px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">down, stopping, closing the doors, and opening the doors.</span></div>
<div class="txt" style="position:absolute; left:76px; top:52319px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Each of these are considered a state, and what happens next is</span></div>
<div class="txt" style="position:absolute; left:112px; top:52369px;"><span id="f38" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">determined by the elevator’s current state.</span></div>
<div class="txt" style="position:absolute; left:112px; top:52434px;"><span id="f40" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">If the elevator has just closed its doors, what are the possibilities that can</span></div>
<div class="txt" style="position:absolute; left:148px; top:52477px;"><span id="f38" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">happen next? It can either move up, or move down. You wouldn’t expect the</span></div>
<div class="txt" style="position:absolute; left:148px; top:52520px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">elevator to stop after closing its doors.</span></div>
<div class="txt" style="position:absolute; left:112px; top:52581px;"><span id="f40" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f38" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">When an elevator stops, you expect the next action to be the door’s opening.</span></div>
<img id="background" style="position:absolute; left:0px; top:52938px;" width="1440" height="1080" src="page45.png"> <img id="background" style="position:absolute; left:1440px; top:52938px;" width="1440" height="1080" src="page-000045.png">
<div class="txt" style="position:absolute; left:33px; top:53045px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">The code</span></div>
<div class="txt" style="position:absolute; left:651px; top:52956px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<img id="background" style="position:absolute; left:0px; top:54140px;" width="1440" height="1080" src="page46.png"> <img id="background" style="position:absolute; left:1440px; top:54140px;" width="1440" height="1080" src="page-000046.png">
<div class="txt" style="position:absolute; left:1105px; top:54158px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:171px; top:54469px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(1) Automata-based programming</span></div>
<div class="txt" style="position:absolute; left:431px; top:54550px;"><span id="f15" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">基于自动机的编程</span></div>
<img id="background" style="position:absolute; left:0px; top:55342px;" width="1440" height="1080" src="page47.png"> <img id="background" style="position:absolute; left:1440px; top:55342px;" width="1440" height="1080" src="page-000047.png">
<div class="txt" style="position:absolute; left:651px; top:55360px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:55449px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Automata-based programming</span></div>
<div class="txt" style="position:absolute; left:76px; top:55589px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Automata-based programming is a programming paradigm in</span></div>
<div class="txt" style="position:absolute; left:112px; top:55639px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">which the program or part of it is thought of as a model of a finite</span></div>
<div class="txt" style="position:absolute; left:112px; top:55687px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">state machine (FSM) or any other formal automaton.</span></div>
<div class="txt" style="position:absolute; left:112px; top:55748px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Treat a program as a finite automata. </span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">将程序视为有限自动机</span></div>
<div class="txt" style="position:absolute; left:112px; top:55812px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f30" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Each automaton can take one “step” at a time, and the execution of the</span></div>
<div class="txt" style="position:absolute; left:148px; top:55851px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">program is broken down into individual steps. </span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">程序的执行被分为多个步骤</span></div>
<div class="txt" style="position:absolute; left:148px; top:55895px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">，自动机每次执行一步</span></div>
<div class="txt" style="position:absolute; left:112px; top:55959px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The steps communicate with each other by changing the value of a</span></div>
<div class="txt" style="position:absolute; left:148px; top:55998px;"><span id="f30" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">variable representing “the state“. </span><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">步骤之间通过修改状态值来通讯</span></div>
<div class="txt" style="position:absolute; left:112px; top:56063px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Control flow of the program is determined by the value of that variable.</span></div>
<div class="txt" style="position:absolute; left:76px; top:56128px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Application design approach should be similar to the design of</span></div>
<div class="txt" style="position:absolute; left:112px; top:56178px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">control systems (Automata System). </span><span id="f47" style="font-size:15px;vertical-align:sub;color:rgba(0,0,0,1);">E, X</span><span id="f47" style="font-size:10px;vertical-align:sub;color:rgba(0,0,0,1);">2</span></div>
<div class="txt" style="position:absolute; left:936px; top:56251px;"><span id="f47" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Control</span></div>
<div class="txt" style="position:absolute; left:935px; top:56280px;"><span id="f47" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">System</span></div>
<div class="txt" style="position:absolute; left:1094px; top:56244px;"><span id="f47" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Z</span></div>
<div class="txt" style="position:absolute; left:1174px; top:56244px;"><span id="f47" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Controlled </span><span id="f47" style="font-size:15px;vertical-align:super;color:rgba(0,0,0,1);">X</span><span id="f47" style="font-size:10px;vertical-align:super;color:rgba(0,0,0,1);">1</span></div>
<div class="txt" style="position:absolute; left:1194px; top:56280px;"><span id="f47" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Object</span></div>
<img id="background" style="position:absolute; left:0px; top:56544px;" width="1440" height="1080" src="page48.png"> <img id="background" style="position:absolute; left:1440px; top:56544px;" width="1440" height="1080" src="page-000048.png">
<div class="txt" style="position:absolute; left:651px; top:56562px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:56651px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Automata-based programming</span></div>
<div class="txt" style="position:absolute; left:56px; top:56780px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The time period of the program‘s execution is clearly separated down</span></div>
<div class="txt" style="position:absolute; left:92px; top:56825px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to the </span><span id="f21" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">steps of the automaton</span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">. </span><span id="f25" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">程序执行被分解为自动机的步骤</span></div>
<div class="txt" style="position:absolute; left:92px; top:56894px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Each of the </span><span id="f30" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,0,1);">steps </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is effectively an execution of a code section (same for all the</span></div>
<div class="txt" style="position:absolute; left:128px; top:56938px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">steps), which has a single entry point.</span></div>
<div class="txt" style="position:absolute; left:92px; top:56998px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Such a section can be a function or other routine, or just a cycle body.</span></div>
<div class="txt" style="position:absolute; left:56px; top:57064px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Any communication between the steps is only possible via the</span></div>
<div class="txt" style="position:absolute; left:92px; top:57109px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">explicitly noted set of variables named </span><span id="f21" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">the state</span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">. </span><span id="f25" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">通过状态</span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f25" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">状态为一组</span></div>
<div class="txt" style="position:absolute; left:92px; top:57157px;"><span id="f25" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">变量</span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span><span id="f25" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">通讯</span></div>
<div class="txt" style="position:absolute; left:92px; top:57227px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Between any two steps, </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">the program can not have implicit components of its</span></div>
<div class="txt" style="position:absolute; left:128px; top:57270px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">state</span><span id="f59" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, such as local (stack) variables‘ values, return addresses, the current</span></div>
<div class="txt" style="position:absolute; left:128px; top:57312px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">instruction pointer, etc</span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">. </span><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">状态具有全局属性</span></div>
<div class="txt" style="position:absolute; left:92px; top:57379px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The state of the whole program, taken at any two moments of entering the step</span></div>
<div class="txt" style="position:absolute; left:128px; top:57422px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">of the automaton, can only differ in the values of the variables being</span></div>
<div class="txt" style="position:absolute; left:128px; top:57466px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">considered as the state of the automaton.</span></div>
<div class="txt" style="position:absolute; left:56px; top:57531px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The whole execution of the automata-based code is a (possibly</span></div>
<div class="txt" style="position:absolute; left:92px; top:57581px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">explicit) cycle of the automaton's steps.</span></div>
<img id="background" style="position:absolute; left:0px; top:57746px;" width="1440" height="1080" src="page49.png"> <img id="background" style="position:absolute; left:1440px; top:57746px;" width="1440" height="1080" src="page-000049.png">
<div class="txt" style="position:absolute; left:33px; top:57853px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">How to implement?</span></div>
<div class="txt" style="position:absolute; left:651px; top:57764px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:57993px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The “state” variable can be a simple </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">enum data type, but more</span></div>
<div class="txt" style="position:absolute; left:112px; top:58038px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">complex data structures may be used. </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">状态可以是枚举类型，也可以</span></div>
<div class="txt" style="position:absolute; left:112px; top:58086px;"><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">是复杂数据结构</span></div>
<div class="txt" style="position:absolute; left:112px; top:58156px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A common technique is to create a state transition table, a two-</span></div>
<div class="txt" style="position:absolute; left:148px; top:58199px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">dimensional array comprising rows representing every possible state, and</span></div>
<div class="txt" style="position:absolute; left:148px; top:58238px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">columns representing input parameter. </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">可采用状态转移表，一维为状态，</span></div>
<div class="txt" style="position:absolute; left:148px; top:58282px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">一维为输入</span></div>
<div class="txt" style="position:absolute; left:112px; top:58346px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The value of the table where the row and column meet is the next state the</span></div>
<div class="txt" style="position:absolute; left:148px; top:58385px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">machine should transition to if both conditions are met. </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">表的值为下一个状</span></div>
<div class="txt" style="position:absolute; left:148px; top:58428px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">态</span></div>
<div class="txt" style="position:absolute; left:232px; top:58497px;"><span id="f43" style="font-size:14px;vertical-align:baseline;color:rgba(43,145,174,1);">State </span><span id="f43" style="font-size:14px;vertical-align:baseline;color:rgba(47,50,54,1);">transition[][] = {</span></div>
<div class="txt" style="position:absolute; left:376px; top:58535px;"><span id="f43" style="font-size:14px;vertical-align:baseline;color:rgba(47,50,54,1);">{ </span><span id="f43" style="font-size:14px;vertical-align:baseline;color:rgba(43,145,174,1);">State.Initial, State.Final, State.Error </span><span id="f43" style="font-size:14px;vertical-align:baseline;color:rgba(47,50,54,1);">},</span></div>
<div class="txt" style="position:absolute; left:376px; top:58574px;"><span id="f43" style="font-size:14px;vertical-align:baseline;color:rgba(47,50,54,1);">{ </span><span id="f43" style="font-size:14px;vertical-align:baseline;color:rgba(43,145,174,1);">State.Final, State.Initial, State.Error </span><span id="f43" style="font-size:14px;vertical-align:baseline;color:rgba(47,50,54,1);">}</span></div>
<div class="txt" style="position:absolute; left:302px; top:58612px;"><span id="f43" style="font-size:14px;vertical-align:baseline;color:rgba(47,50,54,1);">};</span></div>
<img id="background" style="position:absolute; left:0px; top:58948px;" width="1440" height="1080" src="page50.png"> <img id="background" style="position:absolute; left:1440px; top:58948px;" width="1440" height="1080" src="page-000050.png">
<div class="txt" style="position:absolute; left:33px; top:59055px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Applications Areas</span></div>
<div class="txt" style="position:absolute; left:651px; top:58966px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:59195px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">High reliability systems</span></div>
<div class="txt" style="position:absolute; left:112px; top:59262px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Military applications</span></div>
<div class="txt" style="position:absolute; left:112px; top:59322px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Aerospace industry</span></div>
<div class="txt" style="position:absolute; left:112px; top:59383px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Automotive industry</span></div>
<div class="txt" style="position:absolute; left:76px; top:59448px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Embedded systems</span></div>
<div class="txt" style="position:absolute; left:76px; top:59520px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Mobile systems</span></div>
<div class="txt" style="position:absolute; left:76px; top:59592px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Visualization systems</span></div>
<div class="txt" style="position:absolute; left:76px; top:59664px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Web applications</span></div>
<div class="txt" style="position:absolute; left:76px; top:59736px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Client-server applications</span></div>
<img id="background" style="position:absolute; left:0px; top:60150px;" width="1440" height="1080" src="page51.png"> <img id="background" style="position:absolute; left:1440px; top:60150px;" width="1440" height="1080" src="page-000051.png">
<div class="txt" style="position:absolute; left:1105px; top:60168px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:466px; top:60565px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(2) State Pattern</span></div>
<img id="background" style="position:absolute; left:0px; top:61352px;" width="1440" height="1080" src="page52.png"> <img id="background" style="position:absolute; left:1440px; top:61352px;" width="1440" height="1080" src="page-000052.png">
<div class="txt" style="position:absolute; left:33px; top:61459px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">State pattern</span></div>
<div class="txt" style="position:absolute; left:651px; top:61370px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:61599px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Suppose an object is always in one of several known states</span></div>
<div class="txt" style="position:absolute; left:76px; top:61671px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The state an object is in determines the behavior of several methods</span></div>
<div class="txt" style="position:absolute; left:76px; top:61743px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Could use if/case statements in each method</span></div>
<div class="txt" style="position:absolute; left:76px; top:61815px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Better solution: </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">state pattern</span></div>
<img id="background" style="position:absolute; left:0px; top:62554px;" width="1440" height="1080" src="page53.png"> <img id="background" style="position:absolute; left:1440px; top:62554px;" width="1440" height="1080" src="page-000053.png">
<div class="txt" style="position:absolute; left:33px; top:62661px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">State pattern</span></div>
<div class="txt" style="position:absolute; left:651px; top:62572px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:62801px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The State Design Pattern allows you to alter the behavior, or the</span></div>
<div class="txt" style="position:absolute; left:112px; top:62851px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">state, of the object at runtime. Each behavior is represented by a</span></div>
<div class="txt" style="position:absolute; left:112px; top:62899px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">state class, and the behavior can change from one state to</span></div>
<div class="txt" style="position:absolute; left:112px; top:62942px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">another. </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">允许在运行时修改对象的行为和状态，每个行为用一个状态</span></div>
<div class="txt" style="position:absolute; left:112px; top:62990px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">类表达</span></div>
<div class="txt" style="position:absolute; left:76px; top:63137px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Have a reference to a state object</span></div>
<div class="txt" style="position:absolute; left:112px; top:63200px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Normally, state object doesn’t contain any fields </span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">状态对象不包含任何属性</span></div>
<div class="txt" style="position:absolute; left:112px; top:63260px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Change state: change state object </span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">修改状态时，修改</span><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">state object</span></div>
<div class="txt" style="position:absolute; left:112px; top:63321px;"><span id="f27" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Methods delegate to state object </span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">具体执行的方法，委托给状态对象</span></div>
<img id="background" style="position:absolute; left:0px; top:63756px;" width="1440" height="1080" src="page54.png"> <img id="background" style="position:absolute; left:1440px; top:63756px;" width="1440" height="1080" src="page-000054.png">
<div class="txt" style="position:absolute; left:651px; top:63774px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:63863px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Structure of State pattern</span></div>
<img id="background" style="position:absolute; left:0px; top:64958px;" width="1440" height="1080" src="page55.png"> <img id="background" style="position:absolute; left:1440px; top:64958px;" width="1440" height="1080" src="page-000055.png">
<div class="txt" style="position:absolute; left:651px; top:64976px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:65065px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Instance of State Pattern</span></div>
<div class="txt" style="position:absolute; left:42px; top:65861px;"><span id="f14" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Three States: Established</span><span id="f17" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">、</span><span id="f14" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Listening</span><span id="f17" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">、</span><span id="f14" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Closed</span></div>
<div class="txt" style="position:absolute; left:42px; top:65899px;"><span id="f14" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">There are three methods in each state: Open</span><span id="f17" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">、</span><span id="f14" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Close</span><span id="f17" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">、</span><span id="f14" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Acknowledge</span></div>
<img id="background" style="position:absolute; left:0px; top:66160px;" width="1440" height="1080" src="page56.png"> <img id="background" style="position:absolute; left:1440px; top:66160px;" width="1440" height="1080" src="page-000056.png">
<div class="txt" style="position:absolute; left:651px; top:66178px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:66267px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example </span><span id="f13" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Finite State Machine</span></div>
<div class="txt" style="position:absolute; left:76px; top:66408px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public interface State {</span></div>
<div class="txt" style="position:absolute; left:211px; top:66451px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">State move(char c);</span></div>
<div class="txt" style="position:absolute; left:211px; top:66494px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">boolean accept();</span></div>
<div class="txt" style="position:absolute; left:76px; top:66565px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:76px; top:66708px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">class FSM {</span></div>
<div class="txt" style="position:absolute; left:171px; top:66751px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">private </span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">State state</span><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">;</span></div>
<div class="txt" style="position:absolute; left:171px; top:66794px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public FSM(State s) { state = s; }</span></div>
<div class="txt" style="position:absolute; left:171px; top:66838px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public void move(char c) { state = state.move(c); }</span></div>
<div class="txt" style="position:absolute; left:171px; top:66881px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public boolean accept() { return state.accept();}</span></div>
<div class="txt" style="position:absolute; left:112px; top:66924px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:67362px;" width="1440" height="1080" src="page57.png"> <img id="background" style="position:absolute; left:1440px; top:67362px;" width="1440" height="1080" src="page-000057.png">
<div class="txt" style="position:absolute; left:651px; top:67380px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:67469px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">FSM Example </span><span id="f13" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">cont.</span></div>
<div class="txt" style="position:absolute; left:42px; top:67608px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">class State1 implements State {</span></div>
<div class="txt" style="position:absolute; left:73px; top:67647px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">static State1 instance = new State1();</span></div>
<div class="txt" style="position:absolute; left:73px; top:67685px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private State1() {};</span></div>
<div class="txt" style="position:absolute; left:73px; top:67724px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public State move (char c) {</span></div>
<div class="txt" style="position:absolute; left:120px; top:67763px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">switch (c) {</span></div>
<div class="txt" style="position:absolute; left:140px; top:67796px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">case 'a': return State2.instance;</span></div>
<div class="txt" style="position:absolute; left:140px; top:67830px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">case 'b': return State1.instance;</span></div>
<div class="txt" style="position:absolute; left:140px; top:67863px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">default: throw new</span></div>
<div class="txt" style="position:absolute; left:186px; top:67897px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">IllegalArgumentException();</span></div>
<div class="txt" style="position:absolute; left:125px; top:67936px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:73px; top:67974px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:73px; top:68013px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public boolean accept() {return false;}</span></div>
<div class="txt" style="position:absolute; left:42px; top:68052px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:723px; top:67605px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">class State2 implements State {</span></div>
<div class="txt" style="position:absolute; left:769px; top:67640px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">static State2 instance = new State2();</span></div>
<div class="txt" style="position:absolute; left:769px; top:67675px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private State2() {};</span></div>
<div class="txt" style="position:absolute; left:774px; top:67705px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public State move (char c) {</span></div>
<div class="txt" style="position:absolute; left:836px; top:67736px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">switch (c) {</span></div>
<div class="txt" style="position:absolute; left:898px; top:67766px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">case 'a': return State1.instance;</span></div>
<div class="txt" style="position:absolute; left:898px; top:67796px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">case 'b': return State1.instance;</span></div>
<div class="txt" style="position:absolute; left:898px; top:67826px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">default: throw new</span></div>
<div class="txt" style="position:absolute; left:1011px; top:67857px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">IllegalArgumentException();</span></div>
<div class="txt" style="position:absolute; left:878px; top:67892px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:790px; top:67922px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:769px; top:67958px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public boolean accept() {return true;}</span></div>
<div class="txt" style="position:absolute; left:723px; top:67993px;"><span id="f16" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:68564px;" width="1440" height="1080" src="page58.png"> <img id="background" style="position:absolute; left:1440px; top:68564px;" width="1440" height="1080" src="page-000058.png">
<div class="txt" style="position:absolute; left:651px; top:68582px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:68671px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example </span><span id="f13" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Finite State Machine</span></div>
<div class="txt" style="position:absolute; left:73px; top:68789px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public class Client {</span></div>
<div class="txt" style="position:absolute; left:152px; top:68832px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void main(String[] args) {</span></div>
<div class="txt" style="position:absolute; left:231px; top:68876px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">FSM fsm =new FSM(State1.instance); //start with state1</span></div>
<div class="txt" style="position:absolute; left:231px; top:68919px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">fsm.move('a'); //change to state2</span></div>
<div class="txt" style="position:absolute; left:231px; top:68962px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">fsm.move('a'); //change to state1</span></div>
<div class="txt" style="position:absolute; left:231px; top:69005px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">fsm.move('b'); //change to state1</span></div>
<div class="txt" style="position:absolute; left:231px; top:69048px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">fsm.move('b'); //change to state1</span></div>
<div class="txt" style="position:absolute; left:231px; top:69091px;"><span id="f32" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">….</span></div>
<div class="txt" style="position:absolute; left:152px; top:69135px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:73px; top:69178px;"><span id="f16" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:69766px;" width="1440" height="1080" src="page59.png"> <img id="background" style="position:absolute; left:1440px; top:69766px;" width="1440" height="1080" src="page-000059.png">
<div class="txt" style="position:absolute; left:33px; top:69873px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">State pattern notes</span></div>
<div class="txt" style="position:absolute; left:651px; top:69784px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:70013px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Can use singletons for instances of each state class</span></div>
<div class="txt" style="position:absolute; left:112px; top:70080px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">State objects don’t encapsulate state, so can be shared</span></div>
<div class="txt" style="position:absolute; left:76px; top:70145px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Easy to add new states</span></div>
<div class="txt" style="position:absolute; left:112px; top:70212px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">New states can extend other states</span></div>
<div class="txt" style="position:absolute; left:148px; top:70269px;"><span id="f19" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Override only selected functions</span></div>
<div class="txt" style="position:absolute; left:745px; top:70296px;"><span id="f27" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">class State1 implements State {</span></div>
<div class="txt" style="position:absolute; left:776px; top:70334px;"><span id="f29" style="font-size:28px;vertical-align:baseline;color:rgba(255,0,0,1);">static State1 instance = new State1();</span></div>
<div class="txt" style="position:absolute; left:776px; top:70373px;"><span id="f29" style="font-size:28px;vertical-align:baseline;color:rgba(255,0,0,1);">private State1() {};</span></div>
<div class="txt" style="position:absolute; left:776px; top:70412px;"><span id="f27" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public State move (char c) {</span></div>
<div class="txt" style="position:absolute; left:823px; top:70450px;"><span id="f27" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">switch (c) {</span></div>
<div class="txt" style="position:absolute; left:843px; top:70484px;"><span id="f27" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">case 'a': return State2.instance;</span></div>
<div class="txt" style="position:absolute; left:843px; top:70517px;"><span id="f27" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">case 'b': return State1.instance;</span></div>
<div class="txt" style="position:absolute; left:843px; top:70551px;"><span id="f27" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">default: throw new</span></div>
<div class="txt" style="position:absolute; left:889px; top:70585px;"><span id="f27" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">IllegalArgumentException();</span></div>
<div class="txt" style="position:absolute; left:828px; top:70623px;"><span id="f27" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:776px; top:70662px;"><span id="f27" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:776px; top:70701px;"><span id="f27" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public boolean accept() {return false;}</span></div>
<div class="txt" style="position:absolute; left:745px; top:70739px;"><span id="f27" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:70968px;" width="1440" height="1080" src="page60.png"> <img id="background" style="position:absolute; left:1440px; top:70968px;" width="1440" height="1080" src="page-000060.png">
<div class="txt" style="position:absolute; left:1105px; top:70986px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:391px; top:71297px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(3) Memento Pattern</span></div>
<div class="txt" style="position:absolute; left:539px; top:71378px;"><span id="f13" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">备忘录模式</span></div>
<img id="background" style="position:absolute; left:0px; top:72170px;" width="1440" height="1080" src="page61.png"> <img id="background" style="position:absolute; left:1440px; top:72170px;" width="1440" height="1080" src="page-000061.png">
<div class="txt" style="position:absolute; left:33px; top:72277px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Memento Pattern</span></div>
<div class="txt" style="position:absolute; left:651px; top:72188px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:72417px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Intent</span></div>
<div class="txt" style="position:absolute; left:112px; top:72484px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Without violating encapsulation, capture and externalize an object‘s</span></div>
<div class="txt" style="position:absolute; left:148px; top:72523px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">internal state so that the object can be returned to this state later.</span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">在不破坏</span></div>
<div class="txt" style="position:absolute; left:148px; top:72569px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">封装性的前提下，捕获一个对象的内部状态，并在该对象之外保存这个状</span></div>
<div class="txt" style="position:absolute; left:148px; top:72610px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">态。需要的时候，可以恢复到保存的状态。</span></div>
<div class="txt" style="position:absolute; left:112px; top:72674px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A magic cookie that encapsulates a "check point" capability.</span></div>
<div class="txt" style="position:absolute; left:112px; top:72734px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Promote </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">undo </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">or </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">rollback </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">to full object status.</span></div>
<div class="txt" style="position:absolute; left:76px; top:72800px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Problem to solve</span></div>
<div class="txt" style="position:absolute; left:112px; top:72867px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Need to restore an object back to its previous state (e.g. “undo” or</span></div>
<div class="txt" style="position:absolute; left:148px; top:72906px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">“rollback” operations). </span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">需要恢复对象到之前的状态</span></div>
<img id="background" style="position:absolute; left:0px; top:73372px;" width="1440" height="1080" src="page62.png"> <img id="background" style="position:absolute; left:1440px; top:73372px;" width="1440" height="1080" src="page-000062.png">
<div class="txt" style="position:absolute; left:33px; top:73479px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Memento Pattern</span></div>
<div class="txt" style="position:absolute; left:651px; top:73390px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:73619px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Memento design pattern defines three distinct roles:</span></div>
<div class="txt" style="position:absolute; left:112px; top:73682px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f19" style="font-size:33px;vertical-align:baseline;color:rgba(255,0,0,1);">Originator</span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">原发器 </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">- the object that knows how to save itself.</span></div>
<div class="txt" style="position:absolute; left:148px; top:73739px;"><span id="f25" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f15" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,255,1);">creates a memento </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">containing a snapshot of its current internal state. </span><span id="f21" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,255,1);">创建备忘录</span></div>
<div class="txt" style="position:absolute; left:148px; top:73785px;"><span id="f25" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f15" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,255,1);">uses the memento to restore its internal state. </span><span id="f21" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,255,1);">利用备忘录恢复状态</span></div>
<img id="background" style="position:absolute; left:0px; top:74574px;" width="1440" height="1080" src="page63.png"> <img id="background" style="position:absolute; left:1440px; top:74574px;" width="1440" height="1080" src="page-000063.png">
<div class="txt" style="position:absolute; left:33px; top:74681px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Memento Pattern</span></div>
<div class="txt" style="position:absolute; left:651px; top:74592px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:74821px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Memento design pattern defines three distinct roles:</span></div>
<div class="txt" style="position:absolute; left:112px; top:74884px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f19" style="font-size:33px;vertical-align:baseline;color:rgba(255,0,0,1);">Memento </span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">备忘录</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">- the lock box that is written and read by the Originator,</span></div>
<div class="txt" style="position:absolute; left:148px; top:74931px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and shepherded by the Caretaker.</span></div>
<div class="txt" style="position:absolute; left:148px; top:74988px;"><span id="f26" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f15" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,255,1);">stores internal state </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">of the Originator object.</span></div>
<div class="txt" style="position:absolute; left:148px; top:75034px;"><span id="f26" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">protects against access by objects other than the originator.</span></div>
<img id="background" style="position:absolute; left:0px; top:75776px;" width="1440" height="1080" src="page64.png"> <img id="background" style="position:absolute; left:1440px; top:75776px;" width="1440" height="1080" src="page-000064.png">
<div class="txt" style="position:absolute; left:33px; top:75883px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Memento Pattern</span></div>
<div class="txt" style="position:absolute; left:651px; top:75794px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:76023px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Memento design pattern defines three distinct roles:</span></div>
<div class="txt" style="position:absolute; left:112px; top:76086px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f19" style="font-size:33px;vertical-align:baseline;color:rgba(255,0,0,1);">Caretaker </span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">负责人</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">- the object that knows why and when the Originator</span></div>
<div class="txt" style="position:absolute; left:148px; top:76129px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">needs to save and restore itself. </span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">决定何时通过</span><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">originator</span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">存储和恢复状态</span></div>
<div class="txt" style="position:absolute; left:148px; top:76190px;"><span id="f32" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f15" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,255,1);">is responsible for the memento's safekeeping</span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:148px; top:76236px;"><span id="f32" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">never operates on or examines the contents of a memento.</span></div>
<img id="background" style="position:absolute; left:0px; top:76978px;" width="1440" height="1080" src="page65.png"> <img id="background" style="position:absolute; left:1440px; top:76978px;" width="1440" height="1080" src="page-000065.png">
<div class="txt" style="position:absolute; left:651px; top:76996px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:77085px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Memento Pattern</span></div>
<div class="txt" style="position:absolute; left:882px; top:77070px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">class </span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(255,0,0,1);">Memento </span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:944px; top:77104px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private String state;</span></div>
<div class="txt" style="position:absolute; left:944px; top:77171px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public Memento(String state) {</span></div>
<div class="txt" style="position:absolute; left:1005px; top:77205px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.state = state;</span></div>
<div class="txt" style="position:absolute; left:944px; top:77238px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:944px; top:77305px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public String getState() {</span></div>
<div class="txt" style="position:absolute; left:1005px; top:77339px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">return state;</span></div>
<div class="txt" style="position:absolute; left:944px; top:77373px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:882px; top:77406px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:48px; top:77474px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">class </span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(255,0,0,1);">Originator </span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:110px; top:77507px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private String state;</span></div>
<div class="txt" style="position:absolute; left:110px; top:77574px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void </span><span id="f33" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,255,1);">setState</span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">(String state) {</span></div>
<div class="txt" style="position:absolute; left:172px; top:77608px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Originator: Setting state to " + state);</span></div>
<div class="txt" style="position:absolute; left:172px; top:77642px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.state = state;</span></div>
<div class="txt" style="position:absolute; left:110px; top:77675px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:110px; top:77742px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public Memento </span><span id="f33" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,255,1);">save</span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">() {</span></div>
<div class="txt" style="position:absolute; left:172px; top:77776px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Originator: Saving to Memento.");</span></div>
<div class="txt" style="position:absolute; left:172px; top:77810px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">return new Memento(state);</span></div>
<div class="txt" style="position:absolute; left:110px; top:77843px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:110px; top:77877px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void </span><span id="f33" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,255,1);">restore</span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">(Memento m) {</span></div>
<div class="txt" style="position:absolute; left:172px; top:77910px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">state = m.getState();</span></div>
<div class="txt" style="position:absolute; left:172px; top:77944px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Originator: State after restoring from Memento: " + state);</span></div>
<div class="txt" style="position:absolute; left:110px; top:77978px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:48px; top:78011px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:78180px;" width="1440" height="1080" src="page66.png"> <img id="background" style="position:absolute; left:1440px; top:78180px;" width="1440" height="1080" src="page-000066.png">
<div class="txt" style="position:absolute; left:651px; top:78198px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:78287px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Memento Pattern</span></div>
<div class="txt" style="position:absolute; left:59px; top:78358px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">class </span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(255,0,0,1);">Caretaker </span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:121px; top:78392px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private List&lt;Memento&gt; mementos</span></div>
<div class="txt" style="position:absolute; left:347px; top:78425px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">= new ArrayList&lt;&gt;();</span></div>
<div class="txt" style="position:absolute; left:121px; top:78492px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void addMemento(Memento m) {</span></div>
<div class="txt" style="position:absolute; left:183px; top:78526px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">mementos.add(m);</span></div>
<div class="txt" style="position:absolute; left:121px; top:78560px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:121px; top:78627px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public Memento getMemento(int m) {</span></div>
<div class="txt" style="position:absolute; left:183px; top:78660px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">return mementos.get(m);</span></div>
<div class="txt" style="position:absolute; left:121px; top:78694px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:59px; top:78728px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:723px; top:78424px;"><span id="f71" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,255,1);">The result</span><span id="f73" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,255,1);">：</span></div>
<div class="txt" style="position:absolute; left:723px; top:78461px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Originator: Setting state to State1</span></div>
<div class="txt" style="position:absolute; left:723px; top:78494px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Originator: Setting state to State2</span></div>
<div class="txt" style="position:absolute; left:723px; top:78528px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Originator: Saving to Memento.</span></div>
<div class="txt" style="position:absolute; left:723px; top:78561px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Originator: Setting state to State3</span></div>
<div class="txt" style="position:absolute; left:723px; top:78595px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Originator: Saving to Memento.</span></div>
<div class="txt" style="position:absolute; left:723px; top:78629px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Originator: Setting state to State4</span></div>
<div class="txt" style="position:absolute; left:723px; top:78662px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Originator: State after restoring from</span></div>
<div class="txt" style="position:absolute; left:1011px; top:78696px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Memento: State3</span></div>
<div class="txt" style="position:absolute; left:59px; top:78799px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public class </span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(255,0,0,1);">Demonstration </span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:121px; top:78833px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void main(String[] args) {</span></div>
<div class="txt" style="position:absolute; left:183px; top:78866px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Caretaker caretaker = new Caretaker();</span></div>
<div class="txt" style="position:absolute; left:183px; top:78900px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Originator originator = new Originator();</span></div>
<div class="txt" style="position:absolute; left:183px; top:78934px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">originator.setState("State1");</span></div>
<div class="txt" style="position:absolute; left:183px; top:78967px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">originator.setState("State2");</span></div>
<div class="txt" style="position:absolute; left:183px; top:79001px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">caretaker.addMemento( originator.save() );</span></div>
<div class="txt" style="position:absolute; left:183px; top:79034px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">originator.setState("State3");</span></div>
<div class="txt" style="position:absolute; left:183px; top:79068px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">caretaker.addMemento( originator.save() );</span></div>
<div class="txt" style="position:absolute; left:183px; top:79102px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">originator.setState("State4");</span></div>
<div class="txt" style="position:absolute; left:183px; top:79135px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">originator.restore( caretaker.getMemento(1));</span></div>
<div class="txt" style="position:absolute; left:121px; top:79169px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:59px; top:79202px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:79382px;" width="1440" height="1080" src="page67.png"> <img id="background" style="position:absolute; left:1440px; top:79382px;" width="1440" height="1080" src="page-000067.png">
<div class="txt" style="position:absolute; left:1105px; top:79400px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:280px; top:79797px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">3 Table-driven construction</span></div>
<img id="background" style="position:absolute; left:0px; top:80584px;" width="1440" height="1080" src="page68.png"> <img id="background" style="position:absolute; left:1440px; top:80584px;" width="1440" height="1080" src="page-000068.png">
<div class="txt" style="position:absolute; left:651px; top:80602px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:80691px;"><span id="f12" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">What is “Table</span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">-</span><span id="f12" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Driven”?</span></div>
<div class="txt" style="position:absolute; left:76px; top:80831px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A table-driven method is a schema that uses tables to look up</span></div>
<div class="txt" style="position:absolute; left:112px; top:80881px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">information rather than using logic statements (such as if and</span></div>
<div class="txt" style="position:absolute; left:112px; top:80924px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">case). </span><span id="f25" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">使用表来查询信息而不是使用复杂逻辑语句的模式</span></div>
<div class="txt" style="position:absolute; left:76px; top:81071px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In simple cases, it's quicker and easier to use logic statements, but</span></div>
<div class="txt" style="position:absolute; left:112px; top:81121px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">as the logic chain becomes more complex, table-driven code:</span></div>
<div class="txt" style="position:absolute; left:112px; top:81182px;"><span id="f36" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Simpler than complicated logic </span><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">更加简单</span></div>
<div class="txt" style="position:absolute; left:112px; top:81242px;"><span id="f36" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Easier to modify </span><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">易于维护</span></div>
<div class="txt" style="position:absolute; left:112px; top:81303px;"><span id="f36" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">More efficient </span><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">更加高效</span></div>
<img id="background" style="position:absolute; left:0px; top:81786px;" width="1440" height="1080" src="page69.png"> <img id="background" style="position:absolute; left:1440px; top:81786px;" width="1440" height="1080" src="page-000069.png">
<div class="txt" style="position:absolute; left:33px; top:81893px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">An example</span></div>
<div class="txt" style="position:absolute; left:651px; top:81804px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:82033px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Suppose you wanted to classify characters into letters, punctuation</span></div>
<div class="txt" style="position:absolute; left:112px; top:82083px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">marks, and digits; you might use a complicated chain of logic:</span></div>
<div class="txt" style="position:absolute; left:133px; top:82149px;"><span id="f22" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,0,1);">if ( ( ( 'a' &lt;= inputChar ) &amp;&amp; ( inputChar &lt;= 'z' ) ) ||</span></div>
<div class="txt" style="position:absolute; left:204px; top:82180px;"><span id="f22" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,0,1);">( ( 'A' &lt;= inputChar ) &amp;&amp; ( inputChar &lt;= 'Z' ) ) ) {</span></div>
<div class="txt" style="position:absolute; left:247px; top:82212px;"><span id="f22" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,0,1);">charType = CharacterType.Letter;</span></div>
<div class="txt" style="position:absolute; left:133px; top:82243px;"><span id="f22" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:133px; top:82274px;"><span id="f22" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,0,1);">else if ( ( inputChar == ' ' ) || ( inputChar == ',' ) ||</span></div>
<div class="txt" style="position:absolute; left:275px; top:82305px;"><span id="f22" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,0,1);">( inputChar == '.' ) || ( inputChar == '!' ) || ( inputChar == '(' ) ||</span></div>
<div class="txt" style="position:absolute; left:275px; top:82336px;"><span id="f22" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,0,1);">( inputChar == ')' ) || ( inputChar == ':' ) || ( inputChar == ';' ) ||</span></div>
<div class="txt" style="position:absolute; left:275px; top:82368px;"><span id="f22" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,0,1);">( inputChar == '?' ) || ( inputChar == '-' ) ) {</span></div>
<div class="txt" style="position:absolute; left:247px; top:82399px;"><span id="f22" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,0,1);">charType = CharacterType.Punctuation;</span></div>
<div class="txt" style="position:absolute; left:133px; top:82430px;"><span id="f22" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:133px; top:82461px;"><span id="f22" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,0,1);">else if ( ( '0' &lt;= inputChar ) &amp;&amp; ( inputChar &lt;= '9' ) ) {</span></div>
<div class="txt" style="position:absolute; left:247px; top:82493px;"><span id="f22" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,0,1);">charType = CharacterType.Digit;</span></div>
<div class="txt" style="position:absolute; left:133px; top:82524px;"><span id="f22" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:76px; top:82585px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If you used a lookup table instead, you'd store the type of each</span></div>
<div class="txt" style="position:absolute; left:112px; top:82635px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">character in an array that's accessed by character code. The</span></div>
<div class="txt" style="position:absolute; left:112px; top:82683px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">complicated code fragment just shown would be replaced by this:</span></div>
<div class="txt" style="position:absolute; left:361px; top:82752px;"><span id="f22" style="font-size:15px;vertical-align:baseline;color:rgba(255,0,0,1);">charType = charTypeTable[ inputChar ];</span></div>
<img id="background" style="position:absolute; left:0px; top:82988px;" width="1440" height="1080" src="page70.png"> <img id="background" style="position:absolute; left:1440px; top:82988px;" width="1440" height="1080" src="page-000070.png">
<div class="txt" style="position:absolute; left:651px; top:83006px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:42px; top:83111px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Insurance Rates Example</span></div>
<div class="txt" style="position:absolute; left:53px; top:83246px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">if ( gender == Gender.Female ) {</span></div>
<div class="txt" style="position:absolute; left:69px; top:83279px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">if (maritalStatus ==</span></div>
<div class="txt" style="position:absolute; left:224px; top:83313px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">MaritalStatus.Single){</span></div>
<div class="txt" style="position:absolute; left:100px; top:83346px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">if (smokingStatus ==</span></div>
<div class="txt" style="position:absolute; left:224px; top:83380px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">SmokingStatus.NonSmoking) {</span></div>
<div class="txt" style="position:absolute; left:193px; top:83430px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">if ( age &lt; 18 ) {</span></div>
<div class="txt" style="position:absolute; left:239px; top:83464px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">rate = 200.00;</span></div>
<div class="txt" style="position:absolute; left:193px; top:83498px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:193px; top:83548px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">else if ( age == 18 ) {</span></div>
<div class="txt" style="position:absolute; left:239px; top:83582px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">rate = 250.00;</span></div>
<div class="txt" style="position:absolute; left:193px; top:83615px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:193px; top:83666px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">else if ( age == 19 ) {</span></div>
<div class="txt" style="position:absolute; left:239px; top:83699px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">rate = 300.00;</span></div>
<div class="txt" style="position:absolute; left:193px; top:83733px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:193px; top:83783px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">...</span></div>
<div class="txt" style="position:absolute; left:193px; top:83834px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">else if ( 65 &lt; age ) {</span></div>
<div class="txt" style="position:absolute; left:239px; top:83867px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">rate = 450.00;</span></div>
<div class="txt" style="position:absolute; left:146px; top:83901px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:806px; top:83244px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">else {</span></div>
<div class="txt" style="position:absolute; left:837px; top:83295px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">if ( age &lt; 18 ) {</span></div>
<div class="txt" style="position:absolute; left:915px; top:83328px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">rate = 250.00;</span></div>
<div class="txt" style="position:absolute; left:837px; top:83362px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:837px; top:83396px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">else if ( age == 18 ) {</span></div>
<div class="txt" style="position:absolute; left:915px; top:83429px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">rate = 300.00;</span></div>
<div class="txt" style="position:absolute; left:837px; top:83463px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:837px; top:83496px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">else if ( age == 19 ) {</span></div>
<div class="txt" style="position:absolute; left:915px; top:83530px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">rate = 350.00;</span></div>
<div class="txt" style="position:absolute; left:837px; top:83564px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:837px; top:83614px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">...</span></div>
<div class="txt" style="position:absolute; left:837px; top:83664px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">else if ( 65 &lt; age ) {</span></div>
<div class="txt" style="position:absolute; left:915px; top:83715px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">rate = 575.00;</span></div>
<div class="txt" style="position:absolute; left:837px; top:83748px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:806px; top:83782px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:806px; top:83832px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">else if (maritalStatus ==</span></div>
<div class="txt" style="position:absolute; left:1054px; top:83866px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">MaritalStatus.Married)</span></div>
<div class="txt" style="position:absolute; left:837px; top:83916px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">...</span></div>
<div class="txt" style="position:absolute; left:791px; top:83967px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:84190px;" width="1440" height="1080" src="page71.png"> <img id="background" style="position:absolute; left:1440px; top:84190px;" width="1440" height="1080" src="page-000071.png">
<div class="txt" style="position:absolute; left:651px; top:84208px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:84297px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Insurance Rates Example</span></div>
<div class="txt" style="position:absolute; left:47px; top:84474px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">enum SmokingStatus {</span></div>
<div class="txt" style="position:absolute; left:100px; top:84532px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">SmokingStatus_First = 0,</span></div>
<div class="txt" style="position:absolute; left:100px; top:84589px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">SmokingStatus_Smoking = 0,</span></div>
<div class="txt" style="position:absolute; left:100px; top:84647px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">SmokingStatus_NonSmoking = 1,</span></div>
<div class="txt" style="position:absolute; left:100px; top:84704px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">SmokingStatus_Last = 1</span></div>
<div class="txt" style="position:absolute; left:47px; top:84762px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:47px; top:84820px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">enum Gender {</span></div>
<div class="txt" style="position:absolute; left:100px; top:84877px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Gender_First = 0,</span></div>
<div class="txt" style="position:absolute; left:100px; top:84935px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Gender_Male = 0,</span></div>
<div class="txt" style="position:absolute; left:100px; top:84993px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Gender_Female = 1,</span></div>
<div class="txt" style="position:absolute; left:100px; top:85050px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Gender_Last = 1,</span></div>
<div class="txt" style="position:absolute; left:47px; top:85108px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:734px; top:84471px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">enum MaritalStatus {</span></div>
<div class="txt" style="position:absolute; left:787px; top:84529px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">MaritalStatus_First = 0,</span></div>
<div class="txt" style="position:absolute; left:787px; top:84586px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">MaritalStatus_Single = 0,</span></div>
<div class="txt" style="position:absolute; left:787px; top:84644px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">MaritalStatus_Married = 1,</span></div>
<div class="txt" style="position:absolute; left:787px; top:84701px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">MaritalStatus_Last = 1</span></div>
<div class="txt" style="position:absolute; left:734px; top:84759px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:734px; top:84874px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">#define MAX_AGE = 125</span></div>
<div class="txt" style="position:absolute; left:734px; top:84932px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Double rateTable = [</span></div>
<div class="txt" style="position:absolute; left:734px; top:84970px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">SmokingStatus_Last, Gender_Last,</span></div>
<div class="txt" style="position:absolute; left:734px; top:85009px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">MaritalStatus_Last, MAX_AGE ]</span></div>
<div class="txt" style="position:absolute; left:152px; top:85193px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">rate = rateTable(smokingStatus, gender, maritalStatus, age)</span></div>
<img id="background" style="position:absolute; left:0px; top:85392px;" width="1440" height="1080" src="page72.png"> <img id="background" style="position:absolute; left:1440px; top:85392px;" width="1440" height="1080" src="page-000072.png">
<div class="txt" style="position:absolute; left:651px; top:85410px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:85499px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Methods of looking things up</span></div>
<div class="txt" style="position:absolute; left:76px; top:85641px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">1. Direct Access Table</span></div>
<div class="txt" style="position:absolute; left:76px; top:85712px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">2. Indexed Access Table</span></div>
<div class="txt" style="position:absolute; left:76px; top:85785px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">3. Stair-step Access</span></div>
<div class="txt" style="position:absolute; left:76px; top:85927px;"><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Selecting one of these depends on the nature of the data, and the</span></div>
<div class="txt" style="position:absolute; left:112px; top:85972px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">size of the domain of the data. </span><span id="f28" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">根据数据特性和数量选择方法</span></div>
<img id="background" style="position:absolute; left:0px; top:86594px;" width="1440" height="1080" src="page73.png"> <img id="background" style="position:absolute; left:1440px; top:86594px;" width="1440" height="1080" src="page-000073.png">
<div class="txt" style="position:absolute; left:651px; top:86612px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:86701px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">(1) Direct Access Tables</span></div>
<div class="txt" style="position:absolute; left:76px; top:86841px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Simple </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">you just </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">“</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">look things up</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">” </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">by an index or indexes.</span></div>
<div class="txt" style="position:absolute; left:112px; top:86908px;"><span id="f24" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Like all lookup tables, direct-access tables replace more complicated</span></div>
<div class="txt" style="position:absolute; left:148px; top:86951px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">logical control structures. They are "direct access" because you don't have</span></div>
<div class="txt" style="position:absolute; left:148px; top:86994px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">to jump through any complicated hoops to find the information you want</span></div>
<div class="txt" style="position:absolute; left:148px; top:87037px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">in the table.</span></div>
<div class="txt" style="position:absolute; left:677px; top:87227px;"><span id="f33" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">int daysPerMonth[ ] = { 31, 28,</span></div>
<div class="txt" style="position:absolute; left:677px; top:87271px;"><span id="f33" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">31, 30, 31, 30, 31, 31, 30, 31,</span></div>
<div class="txt" style="position:absolute; left:677px; top:87314px;"><span id="f33" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">30, 31 };</span></div>
<div class="txt" style="position:absolute; left:677px; top:87400px;"><span id="f33" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">days = daysPerMonth[month-1];</span></div>
<img id="background" style="position:absolute; left:0px; top:87796px;" width="1440" height="1080" src="page74.png"> <img id="background" style="position:absolute; left:1440px; top:87796px;" width="1440" height="1080" src="page-000074.png">
<div class="txt" style="position:absolute; left:651px; top:87814px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:87903px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Insurance Rates Example</span></div>
<div class="txt" style="position:absolute; left:47px; top:88080px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">enum SmokingStatus {</span></div>
<div class="txt" style="position:absolute; left:100px; top:88138px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">SmokingStatus_First = 0,</span></div>
<div class="txt" style="position:absolute; left:100px; top:88195px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">SmokingStatus_Smoking = 0,</span></div>
<div class="txt" style="position:absolute; left:100px; top:88253px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">SmokingStatus_NonSmoking = 1,</span></div>
<div class="txt" style="position:absolute; left:100px; top:88310px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">SmokingStatus_Last = 1</span></div>
<div class="txt" style="position:absolute; left:47px; top:88368px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:47px; top:88426px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">enum Gender {</span></div>
<div class="txt" style="position:absolute; left:100px; top:88483px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Gender_First = 0,</span></div>
<div class="txt" style="position:absolute; left:100px; top:88541px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Gender_Male = 0,</span></div>
<div class="txt" style="position:absolute; left:100px; top:88599px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Gender_Female = 1,</span></div>
<div class="txt" style="position:absolute; left:100px; top:88656px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Gender_Last = 1,</span></div>
<div class="txt" style="position:absolute; left:47px; top:88714px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:734px; top:88077px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">enum MaritalStatus {</span></div>
<div class="txt" style="position:absolute; left:787px; top:88135px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">MaritalStatus_First = 0,</span></div>
<div class="txt" style="position:absolute; left:787px; top:88192px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">MaritalStatus_Single = 0,</span></div>
<div class="txt" style="position:absolute; left:787px; top:88250px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">MaritalStatus_Married = 1,</span></div>
<div class="txt" style="position:absolute; left:787px; top:88307px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">MaritalStatus_Last = 1</span></div>
<div class="txt" style="position:absolute; left:734px; top:88365px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:734px; top:88480px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">#define MAX_AGE = 125</span></div>
<div class="txt" style="position:absolute; left:734px; top:88538px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Double rateTable = [</span></div>
<div class="txt" style="position:absolute; left:734px; top:88576px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">SmokingStatus_Last, Gender_Last,</span></div>
<div class="txt" style="position:absolute; left:734px; top:88615px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">MaritalStatus_Last, MAX_AGE ]</span></div>
<div class="txt" style="position:absolute; left:152px; top:88799px;"><span id="f13" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">rate = rateTable(smokingStatus, gender, maritalStatus, age)</span></div>
<img id="background" style="position:absolute; left:0px; top:88998px;" width="1440" height="1080" src="page75.png"> <img id="background" style="position:absolute; left:1440px; top:88998px;" width="1440" height="1080" src="page-000075.png">
<div class="txt" style="position:absolute; left:651px; top:89016px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:89105px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">(2) Indexed Access Tables</span></div>
<div class="txt" style="position:absolute; left:76px; top:89245px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Sometimes direct indexing is a</span></div>
<div class="txt" style="position:absolute; left:112px; top:89295px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">problem, especially if the domain</span></div>
<div class="txt" style="position:absolute; left:112px; top:89343px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">of possible values is huge.</span></div>
<div class="txt" style="position:absolute; left:76px; top:89413px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">For example what if you wanted</span></div>
<div class="txt" style="position:absolute; left:112px; top:89463px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to use the product id (4 digits</span></div>
<div class="txt" style="position:absolute; left:112px; top:89511px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">let</span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">’</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">s say), and make a table</span></div>
<div class="txt" style="position:absolute; left:112px; top:89554px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">mapping 200 products. </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">4</span><span id="f30" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">位编号可</span></div>
<div class="txt" style="position:absolute; left:112px; top:89602px;"><span id="f30" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">以有</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">10000</span><span id="f30" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">种组合，但具体商品只</span></div>
<div class="txt" style="position:absolute; left:112px; top:89650px;"><span id="f30" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">有</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">200</span><span id="f30" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">个，增加映射表处理</span></div>
<div class="txt" style="position:absolute; left:112px; top:89720px;"><span id="f44" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Lookup table: 10000(0000-9999)</span></div>
<div class="txt" style="position:absolute; left:112px; top:89780px;"><span id="f44" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Array of Indexs: 200</span></div>
<img id="background" style="position:absolute; left:0px; top:90200px;" width="1440" height="1080" src="page76.png"> <img id="background" style="position:absolute; left:1440px; top:90200px;" width="1440" height="1080" src="page-000076.png">
<div class="txt" style="position:absolute; left:651px; top:90218px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:90307px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Lookup Index vs Direct</span></div>
<div class="txt" style="position:absolute; left:76px; top:90447px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Index elements are small (integers), values can efficiently be large</span></div>
<div class="txt" style="position:absolute; left:112px; top:90497px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(only as many as you need), such as a string (names, descriptions,</span></div>
<div class="txt" style="position:absolute; left:112px; top:90545px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">error messages, etc).</span></div>
<div class="txt" style="position:absolute; left:76px; top:90615px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Multiple indexes can access the same data (employee info can be</span></div>
<div class="txt" style="position:absolute; left:112px; top:90665px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">mapped to by name, hire date, salery, etc.)</span></div>
<div class="txt" style="position:absolute; left:76px; top:90735px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Maintainable </span><span id="f28" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">isolate lookup method from the application</span></div>
<div class="txt" style="position:absolute; left:112px; top:90780px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">interface. </span><span id="f33" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">将应用界面与查询方法分离</span></div>
<img id="background" style="position:absolute; left:0px; top:91402px;" width="1440" height="1080" src="page77.png"> <img id="background" style="position:absolute; left:1440px; top:91402px;" width="1440" height="1080" src="page-000077.png">
<div class="txt" style="position:absolute; left:651px; top:91420px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:91509px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">(3) Stair-Step Access Tables</span></div>
<div class="txt" style="position:absolute; left:76px; top:91649px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Entries in a table are valid for ranges of data rather than for distinct</span></div>
<div class="txt" style="position:absolute; left:112px; top:91699px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">data points</span></div>
<div class="txt" style="position:absolute; left:1166px; top:91922px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Each </span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">“</span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">step</span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">” </span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is</span></div>
<div class="txt" style="position:absolute; left:1166px; top:91965px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">a category</span></div>
<img id="background" style="position:absolute; left:0px; top:92604px;" width="1440" height="1080" src="page78.png"> <img id="background" style="position:absolute; left:1440px; top:92604px;" width="1440" height="1080" src="page-000078.png">
<div class="txt" style="position:absolute; left:651px; top:92622px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:92711px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Stair-Step Access Tables</span></div>
<div class="txt" style="position:absolute; left:397px; top:93007px;"><span id="f8" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Range</span></div>
<div class="txt" style="position:absolute; left:375px; top:93108px;"><span id="f17" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">≥ 90.0%</span></div>
<div class="txt" style="position:absolute; left:373px; top:93209px;"><span id="f8" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">&lt; 90.0%</span></div>
<div class="txt" style="position:absolute; left:373px; top:93310px;"><span id="f8" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">&lt; 75.0%</span></div>
<div class="txt" style="position:absolute; left:373px; top:93410px;"><span id="f8" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">&lt; 65.0%</span></div>
<div class="txt" style="position:absolute; left:373px; top:93511px;"><span id="f8" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">&lt; 50.0%</span></div>
<div class="txt" style="position:absolute; left:860px; top:93007px;"><span id="f8" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Grade</span></div>
<div class="txt" style="position:absolute; left:931px; top:93108px;"><span id="f8" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">A</span></div>
<div class="txt" style="position:absolute; left:937px; top:93209px;"><span id="f8" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">B</span></div>
<div class="txt" style="position:absolute; left:933px; top:93310px;"><span id="f8" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">C</span></div>
<div class="txt" style="position:absolute; left:931px; top:93410px;"><span id="f8" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">D</span></div>
<div class="txt" style="position:absolute; left:939px; top:93511px;"><span id="f8" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">F</span></div>
<img id="background" style="position:absolute; left:0px; top:93806px;" width="1440" height="1080" src="page79.png"> <img id="background" style="position:absolute; left:1440px; top:93806px;" width="1440" height="1080" src="page-000079.png">
<div class="txt" style="position:absolute; left:33px; top:93913px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Grade Lookup</span></div>
<div class="txt" style="position:absolute; left:651px; top:93824px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:94053px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">// set up data for grading table</span></div>
<div class="txt" style="position:absolute; left:76px; top:94111px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">float rangeLimit[] = { 50.0, 65.0, 75.0, 90.0, 100.0 };</span></div>
<div class="txt" style="position:absolute; left:76px; top:94168px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">String grade[] = { "F", "D", "C", "B", "A" };</span></div>
<div class="txt" style="position:absolute; left:76px; top:94226px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">int maxGradeLevel = grade.length </span><span id="f18" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">1;</span></div>
<div class="txt" style="position:absolute; left:76px; top:94283px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">...</span></div>
<div class="txt" style="position:absolute; left:76px; top:94341px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">// assign a grade to a student based on the student's score</span></div>
<div class="txt" style="position:absolute; left:76px; top:94399px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">int gradeLevel = 0;</span></div>
<div class="txt" style="position:absolute; left:76px; top:94456px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">string studentGrade = "A" ;</span></div>
<div class="txt" style="position:absolute; left:76px; top:94514px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">while (( studentGrade == "A" ) &amp;&amp; ( gradeLevel &lt; maxGradeLevel )) {</span></div>
<div class="txt" style="position:absolute; left:129px; top:94572px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">if ( studentScore &lt; rangeLimit[ gradeLevel ] ) {</span></div>
<div class="txt" style="position:absolute; left:216px; top:94629px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">studentGrade = grade[ gradeLevel ];</span></div>
<div class="txt" style="position:absolute; left:129px; top:94687px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:129px; top:94744px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">gradeLevel = gradeLevel + 1;</span></div>
<div class="txt" style="position:absolute; left:76px; top:94802px;"><span id="f13" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:95008px;" width="1440" height="1080" src="page80.png"> <img id="background" style="position:absolute; left:1440px; top:95008px;" width="1440" height="1080" src="page-000080.png">
<div class="txt" style="position:absolute; left:651px; top:95026px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:33px; top:95115px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Statistics </span><span id="f13" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Irregular Data</span></div>
<div class="txt" style="position:absolute; left:134px; top:95286px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Probability</span></div>
<div class="txt" style="position:absolute; left:134px; top:95359px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">0.458747</span></div>
<div class="txt" style="position:absolute; left:134px; top:95432px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">0.547651</span></div>
<div class="txt" style="position:absolute; left:134px; top:95505px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">0.627764</span></div>
<div class="txt" style="position:absolute; left:134px; top:95577px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">0.776883</span></div>
<div class="txt" style="position:absolute; left:134px; top:95650px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">0.893211</span></div>
<div class="txt" style="position:absolute; left:134px; top:95723px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">0.957665</span></div>
<div class="txt" style="position:absolute; left:134px; top:95796px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">0.976544</span></div>
<div class="txt" style="position:absolute; left:134px; top:95868px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">0.987889</span></div>
<div class="txt" style="position:absolute; left:134px; top:95941px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">…</span></div>
<div class="txt" style="position:absolute; left:535px; top:95286px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Insurance Claim Amount</span></div>
<div class="txt" style="position:absolute; left:535px; top:95359px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">$0.00</span></div>
<div class="txt" style="position:absolute; left:535px; top:95432px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">$254.32</span></div>
<div class="txt" style="position:absolute; left:535px; top:95505px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">$514.77</span></div>
<div class="txt" style="position:absolute; left:535px; top:95577px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">$747.82</span></div>
<div class="txt" style="position:absolute; left:535px; top:95650px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">$1,042.65</span></div>
<div class="txt" style="position:absolute; left:535px; top:95723px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">$5,887.55</span></div>
<div class="txt" style="position:absolute; left:535px; top:95796px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">$12,836.98</span></div>
<div class="txt" style="position:absolute; left:535px; top:95868px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">$27,234.12</span></div>
<img id="background" style="position:absolute; left:0px; top:96210px;" width="1440" height="1080" src="page81.png"> <img id="background" style="position:absolute; left:1440px; top:96210px;" width="1440" height="1080" src="page-000081.png">
<div class="txt" style="position:absolute; left:33px; top:96317px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Key Points</span></div>
<div class="txt" style="position:absolute; left:651px; top:96228px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.3 Maintainability-Oriented Construction Techniques</span></div>
<div class="txt" style="position:absolute; left:76px; top:96457px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Tables provide an alternative to complicated logic and inheritance</span></div>
<div class="txt" style="position:absolute; left:112px; top:96507px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">structures. </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If you find that you‘re confused by a program’s logic or</span></div>
<div class="txt" style="position:absolute; left:112px; top:96555px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">inheritance tree, ask yourself whether you could simplify by using</span></div>
<div class="txt" style="position:absolute; left:112px; top:96598px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">a lookup table. </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">可用表替代复杂的逻辑或继承结构</span></div>
<div class="txt" style="position:absolute; left:76px; top:96673px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">One key consideration in using a table is deciding how to access</span></div>
<div class="txt" style="position:absolute; left:112px; top:96723px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">the table. </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">You can access tables by using direct access, indexed</span></div>
<div class="txt" style="position:absolute; left:112px; top:96766px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">access, or stair-step access. </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">重点是选择访问表的方式</span></div>
<div class="txt" style="position:absolute; left:76px; top:96841px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Another key consideration in using a table is deciding what exactly</span></div>
<div class="txt" style="position:absolute; left:112px; top:96886px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">to put into the table. </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">另一个关键考虑因素是决定放入表格的具体内容</span></div>
<div class="txt" style="position:absolute; left:112px; top:96934px;"><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">。</span></div>
<div class="txt" style="position:absolute; left:190px; top:97102px;"><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">详见《代码大全》</span></div>
<img id="background" style="position:absolute; left:0px; top:97412px;" width="1440" height="1080" src="page82.png"> <img id="background" style="position:absolute; left:1440px; top:97412px;" width="1440" height="1080" src="page-000082.png">
<div class="txt" style="position:absolute; left:1105px; top:97430px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:563px; top:97827px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary</span></div>
<img id="background" style="position:absolute; left:0px; top:98614px;" width="1440" height="1080" src="page83.png"> <img id="background" style="position:absolute; left:1440px; top:98614px;" width="1440" height="1080" src="page-000083.png">
<div class="txt" style="position:absolute; left:1105px; top:98632px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:590px; top:99029px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">The end</span></div>
<div class="txt" style="position:absolute; left:597px; top:99283px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">April 22, 2019</span></div>
</body></html>