<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head> <body onload="start()"><div style="background:#5c5c5f; color:#FFF"> <p align="center">&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;[&#x6DF1;&#x5BB9;Pubmed&#x6587;&#x732E;&#x68C0;&#x7D22;] &nbsp 1. &#x6B64;&#x5904;&#x53F3;&#x952E;&#xFF1A;&#x9009;&#x83DC;&#x5355;&#x3010;&#x7FFB;&#x6210;&#x4E2D;&#x6587;&#xFF08;&#x7B80;&#x4F53;&#xFF09;&#x3011; &nbsp &nbsp &nbsp  2. &#x7FFB;&#x8BD1;&#x540E;&#xFF0C;&#x6B64;&#x5904;&#x53F3;&#x952E;&#xFF1A;&#x9009;&#x83DC;&#x5355;&#x3010;&#x6253;&#x5370;...&#x3011;&#x6210;PDF&#x683C;&#x5F0F; <br>&#x5EFA;&#x8BAE;&#x5C4F;&#x5E55;&#x5206;&#x8FA8;&#x7387;&#xFF1A;1920X1080&#xFF1B;&#x5982;&#x679C;&#x5C4F;&#x5E55;&#x592A;&#x5C0F;&#xFF0C;&#x53EF;&#x4EE5;&#x6309;Ctrl + &#x6216; Ctrl -&#x7F29;&#x653E;&#x7F51;&#x9875;&#x3002;</p></div><style type="text/css"> .txt { white-space:nowrap; }	 #f0 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f1 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f2 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f3 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f4 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f5 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f6 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f7 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f8 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f9 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f10 { font-family:sans-serif; font-weight:normal; font-style:normal; }  #f11 { font-family:sans-serif; font-weight:normal; font-style:normal; }  #f12 { font-family:sans-serif; font-weight:normal; font-style:normal; } 	#f13 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f14 { font-family:sans-serif; font-weight:normal; font-style:normal; } #f15 { font-family:sans-serif; font-weight:normal; font-style:normal; } 	#f16 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f17 { font-family:sans-serif; font-weight:normal; font-style:normal; } #f18 { font-family:sans-serif; font-weight:normal; font-style:normal; } #f19 { font-family:sans-serif; font-weight:normal; font-style:normal; }		#f20 { font-family:sans-serif; font-weight:normal; font-style:normal; }		</style><img id="background" style="position:absolute; left:0px; top:50px;" width="1440" height="1080" src="page1.png"> <img id="background" style="position:absolute; left:1440px; top:50px;" width="1440" height="1080" src="page-000001.png">
<div class="txt" style="position:absolute; left:1105px; top:68px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:203px; top:361px;"><span id="f9" style="font-size:55px;vertical-align:baseline;color:rgba(0,0,0,1);">Chapter 3: Abstract Data Type (ADT) and</span></div>
<div class="txt" style="position:absolute; left:254px; top:429px;"><span id="f9" style="font-size:55px;vertical-align:baseline;color:rgba(0,0,0,1);">Object-Oriented Programming (OOP)</span></div>
<div class="txt" style="position:absolute; left:269px; top:500px;"><span id="f19" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:596px; top:719px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Xu Hanchuan</span></div>
<div class="txt" style="position:absolute; left:585px; top:772px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(255,98,176,1);">xhc@hit.edu.cn</span></div>
<div class="txt" style="position:absolute; left:587px; top:877px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">March 17, 2019</span></div>
<img id="background" style="position:absolute; left:0px; top:1050px;" width="1440" height="1080" src="page2.png"> <img id="background" style="position:absolute; left:1440px; top:1050px;" width="1440" height="1080" src="page-000002.png">
<div class="txt" style="position:absolute; left:33px; top:1157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Outline</span></div>
<div class="txt" style="position:absolute; left:1039px; top:1068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:1299px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">1. </span><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Function / method in programming language</span></div>
<div class="txt" style="position:absolute; left:76px; top:1371px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">2. </span><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Specification: Programming for communication</span></div>
<div class="txt" style="position:absolute; left:112px; top:1434px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">⚫ </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Why specification is needed</span></div>
<div class="txt" style="position:absolute; left:112px; top:1495px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">⚫ </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Behavioral equivalence</span></div>
<div class="txt" style="position:absolute; left:112px; top:1555px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">⚫ </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Specification structure: pre-condition and post-condition</span></div>
<div class="txt" style="position:absolute; left:76px; top:1624px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">3. </span><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Designing specifications</span></div>
<div class="txt" style="position:absolute; left:112px; top:1688px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">⚫ </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Classifying specifications</span></div>
<div class="txt" style="position:absolute; left:112px; top:1748px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">⚫ </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Diagramming specifications</span></div>
<div class="txt" style="position:absolute; left:112px; top:1809px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">⚫ </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Quality of a specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:1878px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">4. </span><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary</span></div>
<img id="background" style="position:absolute; left:0px; top:2050px;" width="1440" height="1080" src="page3.png"> <img id="background" style="position:absolute; left:1440px; top:2050px;" width="1440" height="1080" src="page-000003.png">
<div class="txt" style="position:absolute; left:33px; top:2157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Objective of this lecture</span></div>
<div class="txt" style="position:absolute; left:1039px; top:2068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:2297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Understand preconditions and postconditions </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">in method</span></div>
<div class="txt" style="position:absolute; left:112px; top:2347px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">specifications, and be able to </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">write correct specifications</span></div>
<div class="txt" style="position:absolute; left:76px; top:2417px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">What preconditions and postconditions are, and what they </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">mean</span></div>
<div class="txt" style="position:absolute; left:112px; top:2467px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">for the implementer and the client of a method.</span></div>
<div class="txt" style="position:absolute; left:76px; top:2537px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Understand underdetermined specs, and be able to identify and</span></div>
<div class="txt" style="position:absolute; left:112px; top:2582px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">assess nondeterminism(</span><span id="f25" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">不确定性</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<div class="txt" style="position:absolute; left:76px; top:2657px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Understand </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">declarative vs. operational specs, </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and be able to write</span></div>
<div class="txt" style="position:absolute; left:112px; top:2707px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">declarative specs</span></div>
<div class="txt" style="position:absolute; left:76px; top:2777px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Be able to compare spec strength</span></div>
<div class="txt" style="position:absolute; left:76px; top:2849px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Be able to write coherent, useful specifications of appropriate</span></div>
<div class="txt" style="position:absolute; left:112px; top:2899px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">strength</span></div>
<img id="background" style="position:absolute; left:0px; top:3050px;" width="1440" height="1080" src="page4.png"> <img id="background" style="position:absolute; left:1440px; top:3050px;" width="1440" height="1080" src="page-000004.png">
<div class="txt" style="position:absolute; left:1105px; top:3068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:310px; top:3379px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">1 Functions &amp; methods in</span></div>
<div class="txt" style="position:absolute; left:326px; top:3465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">programming languages</span></div>
<img id="background" style="position:absolute; left:0px; top:4050px;" width="1440" height="1080" src="page5.png"> <img id="background" style="position:absolute; left:1440px; top:4050px;" width="1440" height="1080" src="page-000005.png">
<div class="txt" style="position:absolute; left:33px; top:4157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Method</span></div>
<div class="txt" style="position:absolute; left:76px; top:4298px;"><span id="f11" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void threeLines() {</span></div>
<div class="txt" style="position:absolute; left:220px; top:4370px;"><span id="f11" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">STATEMENTS;</span></div>
<div class="txt" style="position:absolute; left:76px; top:4442px;"><span id="f11" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:1039px; top:4068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:4586px;"><span id="f11" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">public static void </span><span id="f11" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">main(String[] arguments){</span></div>
<div class="txt" style="position:absolute; left:220px; top:4659px;"><span id="f11" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Line 1");</span></div>
<div class="txt" style="position:absolute; left:220px; top:4731px;"><span id="f11" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">threeLines();</span></div>
<div class="txt" style="position:absolute; left:220px; top:4802px;"><span id="f11" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Line 2");</span></div>
<div class="txt" style="position:absolute; left:76px; top:4875px;"><span id="f11" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:5050px;" width="1440" height="1080" src="page6.png"> <img id="background" style="position:absolute; left:1440px; top:5050px;" width="1440" height="1080" src="page-000006.png">
<div class="txt" style="position:absolute; left:33px; top:5157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Parameters</span></div>
<div class="txt" style="position:absolute; left:76px; top:5298px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">[…] NAME (</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">TYPE NAME, TYPE NAME</span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">) {</span></div>
<div class="txt" style="position:absolute; left:220px; top:5370px;"><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">STATEMENTS</span></div>
<div class="txt" style="position:absolute; left:76px; top:5442px;"><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:1039px; top:5068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:5586px;"><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">To call:</span></div>
<div class="txt" style="position:absolute; left:220px; top:5659px;"><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">NAME(arg1, arg2);</span></div>
<div class="txt" style="position:absolute; left:76px; top:5801px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Attention</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: parameter type mismatch when calling a method </span><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">static</span></div>
<div class="txt" style="position:absolute; left:112px; top:5851px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">checking</span></div>
<img id="background" style="position:absolute; left:0px; top:6050px;" width="1440" height="1080" src="page7.png"> <img id="background" style="position:absolute; left:1440px; top:6050px;" width="1440" height="1080" src="page-000007.png">
<div class="txt" style="position:absolute; left:33px; top:6157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Return Values</span></div>
<div class="txt" style="position:absolute; left:76px; top:6298px;"><span id="f11" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">public static </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">TYPE NAME</span><span id="f11" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">() {</span></div>
<div class="txt" style="position:absolute; left:220px; top:6370px;"><span id="f11" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">STATEMENTS;</span></div>
<div class="txt" style="position:absolute; left:220px; top:6442px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">return EXPRESSION</span><span id="f11" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">;</span></div>
<div class="txt" style="position:absolute; left:76px; top:6514px;"><span id="f11" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:76px; top:6657px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f11" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">void </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">means “no type”</span></div>
<div class="txt" style="position:absolute; left:1039px; top:6068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<img id="background" style="position:absolute; left:0px; top:7050px;" width="1440" height="1080" src="page8.png"> <img id="background" style="position:absolute; left:1440px; top:7050px;" width="1440" height="1080" src="page-000008.png">
<div class="txt" style="position:absolute; left:33px; top:7157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Variable Scope</span></div>
<div class="txt" style="position:absolute; left:1039px; top:7068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:7298px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">class SquareChange {</span></div>
<div class="txt" style="position:absolute; left:155px; top:7362px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void printSquare(int x){</span></div>
<div class="txt" style="position:absolute; left:220px; top:7427px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("printSquare x = " + x);</span></div>
<div class="txt" style="position:absolute; left:220px; top:7492px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">x = x * x;</span></div>
<div class="txt" style="position:absolute; left:220px; top:7557px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("printSquare x = " + x);</span></div>
<div class="txt" style="position:absolute; left:155px; top:7622px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:155px; top:7686px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void main(String[] arguments){</span></div>
<div class="txt" style="position:absolute; left:220px; top:7751px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">int x = 5;</span></div>
<div class="txt" style="position:absolute; left:220px; top:7816px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("main x = " + x);</span></div>
<div class="txt" style="position:absolute; left:220px; top:7881px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">printSquare(x);</span></div>
<div class="txt" style="position:absolute; left:220px; top:7946px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("main x = " + x);</span></div>
<div class="txt" style="position:absolute; left:155px; top:8011px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:76px; top:8075px;"><span id="f11" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:9690px;" width="1440" height="1080" src="page9.png"> <img id="background" style="position:absolute; left:1440px; top:9690px;" width="1440" height="1080" src="page-000009.png">
<div class="txt" style="position:absolute; left:33px; top:9797px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Methods: Building Blocks</span></div>
<div class="txt" style="position:absolute; left:1039px; top:9708px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:9937px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Big programs are built out of small methods</span></div>
<div class="txt" style="position:absolute; left:76px; top:10009px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Methods can be individually developed, tested and reused</span></div>
<div class="txt" style="position:absolute; left:76px; top:10081px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">User of method does not need to know how it works --- this is</span></div>
<div class="txt" style="position:absolute; left:112px; top:10126px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">called “</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">abstraction</span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">” </span><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">方法的用户不需要知道方法是如何工作的</span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">—</span><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">称</span></div>
<div class="txt" style="position:absolute; left:112px; top:10174px;"><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">之为抽象</span></div>
<img id="background" style="position:absolute; left:0px; top:10895px;" width="1440" height="1080" src="page10.png"> <img id="background" style="position:absolute; left:1440px; top:10895px;" width="1440" height="1080" src="page-000010.png">
<div class="txt" style="position:absolute; left:33px; top:11002px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">A complete method</span></div>
<div class="txt" style="position:absolute; left:1039px; top:10913px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:153px; top:11144px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(126,0,84,1);">public class </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Hailstone { //</span></div>
<div class="txt" style="position:absolute; left:188px; top:11183px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">/**</span></div>
<div class="txt" style="position:absolute; left:205px; top:11221px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">* Compute a hailstone sequence.</span></div>
<div class="txt" style="position:absolute; left:205px; top:11260px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">* </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(126,0,84,1);">@param </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">n Starting number for sequence. Assumes n &gt; 0.</span></div>
<div class="txt" style="position:absolute; left:205px; top:11298px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">* </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(126,0,84,1);">@return </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">hailstone sequence starting with n and ending with 1.</span></div>
<div class="txt" style="position:absolute; left:205px; top:11336px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">*/</span></div>
<div class="txt" style="position:absolute; left:188px; top:11375px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(126,0,84,1);">public static </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">List&lt;Integer&gt; hailstoneSequence(int n) {</span></div>
<div class="txt" style="position:absolute; left:223px; top:11413px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">List&lt;Integer&gt; list = </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(126,0,84,1);">new </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">ArrayList&lt;Integer&gt;();</span></div>
<div class="txt" style="position:absolute; left:223px; top:11452px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(126,0,84,1);">while </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">(n != 1) {</span></div>
<div class="txt" style="position:absolute; left:293px; top:11490px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">list.add(n);</span></div>
<div class="txt" style="position:absolute; left:293px; top:11528px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(126,0,84,1);">if </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">(n % 2 == 0) {</span></div>
<div class="txt" style="position:absolute; left:363px; top:11567px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">n = n / 2;</span></div>
<div class="txt" style="position:absolute; left:293px; top:11605px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">} </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(126,0,84,1);">else </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:363px; top:11644px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">n = 3 * n + 1;</span></div>
<div class="txt" style="position:absolute; left:293px; top:11682px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:223px; top:11720px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:223px; top:11759px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">list.add(n);</span></div>
<div class="txt" style="position:absolute; left:223px; top:11797px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(126,0,84,1);">return </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">list;</span></div>
<div class="txt" style="position:absolute; left:188px; top:11836px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:153px; top:11874px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:12100px;" width="1440" height="1080" src="page11.png"> <img id="background" style="position:absolute; left:1440px; top:12100px;" width="1440" height="1080" src="page-000011.png">
<div class="txt" style="position:absolute; left:1105px; top:12118px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:193px; top:12429px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">2 Specification: Programming for</span></div>
<div class="txt" style="position:absolute; left:470px; top:12515px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">communication</span></div>
<img id="background" style="position:absolute; left:0px; top:13305px;" width="1440" height="1080" src="page12.png"> <img id="background" style="position:absolute; left:1440px; top:13305px;" width="1440" height="1080" src="page-000012.png">
<div class="txt" style="position:absolute; left:1105px; top:13323px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:177px; top:13720px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(1) Documenting in programming</span></div>
<img id="background" style="position:absolute; left:0px; top:14510px;" width="1440" height="1080" src="page13.png"> <img id="background" style="position:absolute; left:1440px; top:14510px;" width="1440" height="1080" src="page-000013.png">
<div class="txt" style="position:absolute; left:1039px; top:14528px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:14617px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Java API documentation: an example</span></div>
<img id="background" style="position:absolute; left:0px; top:15715px;" width="1440" height="1080" src="page14.png"> <img id="background" style="position:absolute; left:1440px; top:15715px;" width="1440" height="1080" src="page-000014.png">
<div class="txt" style="position:absolute; left:1039px; top:15733px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:15822px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Java API documentation: an example</span></div>
<img id="background" style="position:absolute; left:0px; top:16920px;" width="1440" height="1080" src="page15.png"> <img id="background" style="position:absolute; left:1440px; top:16920px;" width="1440" height="1080" src="page-000015.png">
<div class="txt" style="position:absolute; left:1039px; top:16938px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:17027px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Java API documentation: an example</span></div>
<div class="txt" style="position:absolute; left:76px; top:17167px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Class hierarchy and a list of implemented interfaces.</span></div>
<div class="txt" style="position:absolute; left:76px; top:17239px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Direct subclasses, and for an interface, implementing classes.</span></div>
<div class="txt" style="position:absolute; left:76px; top:17311px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A description of the class</span></div>
<div class="txt" style="position:absolute; left:76px; top:17383px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Constructor summary</span></div>
<div class="txt" style="position:absolute; left:76px; top:17455px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Method summary lists all the methods we can call</span></div>
<div class="txt" style="position:absolute; left:76px; top:17527px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Detailed descriptions of each method and constructor</span></div>
<div class="txt" style="position:absolute; left:112px; top:17594px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">method signature</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: we see the return type, the method name, and the</span></div>
<div class="txt" style="position:absolute; left:148px; top:17637px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">parameters. We also see </span><span id="f31" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,0,1);">exceptions</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">. For now, those usually mean errors the</span></div>
<div class="txt" style="position:absolute; left:148px; top:17680px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">method can run into.</span></div>
<div class="txt" style="position:absolute; left:112px; top:17741px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The full </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">description</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:112px; top:17801px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Parameters</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: descriptions of the method arguments.</span></div>
<div class="txt" style="position:absolute; left:112px; top:17862px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">And a description of what the method </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">returns</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<img id="background" style="position:absolute; left:0px; top:18125px;" width="1440" height="1080" src="page16.png"> <img id="background" style="position:absolute; left:1440px; top:18125px;" width="1440" height="1080" src="page-000016.png">
<div class="txt" style="position:absolute; left:33px; top:18232px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Documenting Assumptions</span></div>
<div class="txt" style="position:absolute; left:1039px; top:18143px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:18372px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Writing the type of a variable down documents an assumption</span></div>
<div class="txt" style="position:absolute; left:112px; top:18417px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">about it: e.g., this variable will always refer to an integer. </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">定义变量</span></div>
<div class="txt" style="position:absolute; left:112px; top:18465px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">时声明其类型是一种文档约定</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">编译器会进行检查以确保正确性</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span></div>
<div class="txt" style="position:absolute; left:112px; top:18535px;"><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Java actually checks this assumption at compile time, and guarantees that</span></div>
<div class="txt" style="position:absolute; left:148px; top:18578px;"><span id="f32" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">there’s no place in your program where you violated this assumption.</span></div>
<div class="txt" style="position:absolute; left:76px; top:18644px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Declaring a variable </span><span id="f36" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">final </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is also a form of documentation, a claim</span></div>
<div class="txt" style="position:absolute; left:112px; top:18689px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">that the variable will never change after its initial assignment. </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">声</span></div>
<div class="txt" style="position:absolute; left:112px; top:18737px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">明变量是</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">final</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">类型的也是一种文档约定</span></div>
<div class="txt" style="position:absolute; left:112px; top:18806px;"><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Java checks that too, statically.</span></div>
<div class="txt" style="position:absolute; left:76px; top:18933px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">How about the assumptions of functions / methods?</span></div>
<img id="background" style="position:absolute; left:0px; top:19330px;" width="1440" height="1080" src="page17.png"> <img id="background" style="position:absolute; left:1440px; top:19330px;" width="1440" height="1080" src="page-000017.png">
<div class="txt" style="position:absolute; left:33px; top:19437px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Programming for communication</span></div>
<div class="txt" style="position:absolute; left:1039px; top:19348px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:19577px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Why do we need to write down our assumptions?</span></div>
<div class="txt" style="position:absolute; left:112px; top:19644px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Because programming is full of them, and if we don’t write them down,</span></div>
<div class="txt" style="position:absolute; left:148px; top:19687px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">we won’t remember them, and other people who need to read or change</span></div>
<div class="txt" style="position:absolute; left:148px; top:19726px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">our programs later won’t know them. They’ll have to guess.</span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">如果没有，阅</span></div>
<div class="txt" style="position:absolute; left:148px; top:19769px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">读和修改时不清楚设定的内容</span></div>
<div class="txt" style="position:absolute; left:76px; top:19911px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Programs have to be written with two goals in mind:</span></div>
<div class="txt" style="position:absolute; left:112px; top:19978px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Communicating with the computer</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">. First persuading the compiler that</span></div>
<div class="txt" style="position:absolute; left:148px; top:20021px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">your program is sensible </span><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">syntactically correct and type-correct. Then</span></div>
<div class="txt" style="position:absolute; left:148px; top:20060px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">getting the logic right so that it gives the right results at runtime. </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">语法正确</span></div>
<div class="txt" style="position:absolute; left:148px; top:20103px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">和类型正确</span></div>
<div class="txt" style="position:absolute; left:112px; top:20168px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Communicating with other people</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">. Making the program easy to</span></div>
<div class="txt" style="position:absolute; left:148px; top:20211px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">understand, so that when somebody has to fix it, improve it, or adapt it in</span></div>
<div class="txt" style="position:absolute; left:148px; top:20250px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the future, they can do so. </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">使程序易于理解</span></div>
<img id="background" style="position:absolute; left:0px; top:20535px;" width="1440" height="1080" src="page18.png"> <img id="background" style="position:absolute; left:1440px; top:20535px;" width="1440" height="1080" src="page-000018.png">
<div class="txt" style="position:absolute; left:33px; top:20642px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Hacking vs. Engineering</span></div>
<div class="txt" style="position:absolute; left:1039px; top:20553px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:20779px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Hacking is often marked by unbridled(</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">肆无忌惮的</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">) optimism(</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">乐观</span></div>
<div class="txt" style="position:absolute; left:112px; top:20827px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">主义者</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">):</span></div>
<div class="txt" style="position:absolute; left:112px; top:20897px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Bad: writing lots of code before testing any of it</span></div>
<div class="txt" style="position:absolute; left:112px; top:20957px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Bad: keeping all the details in your head, assuming you’ll remember them</span></div>
<div class="txt" style="position:absolute; left:148px; top:21000px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">forever, instead of writing them down in your code</span></div>
<div class="txt" style="position:absolute; left:112px; top:21061px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Bad: assuming that bugs will be nonexistent or else easy to find and fix</span></div>
<div class="txt" style="position:absolute; left:76px; top:21127px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">But software engineering is not hacking. Engineers are pessimists(</span></div>
<div class="txt" style="position:absolute; left:112px; top:21172px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">悲观主义者</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">):</span></div>
<div class="txt" style="position:absolute; left:112px; top:21241px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Good: write a little bit at a time, testing as you go (test-first programming</span></div>
<div class="txt" style="position:absolute; left:148px; top:21285px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">in Chapter 7).</span></div>
<div class="txt" style="position:absolute; left:112px; top:21345px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Good: document the assumptions that your code depends on</span></div>
<div class="txt" style="position:absolute; left:112px; top:21406px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Good: defend your code against stupidity </span><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">especially your own! Static</span></div>
<div class="txt" style="position:absolute; left:148px; top:21449px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">checking helps with that.</span></div>
<img id="background" style="position:absolute; left:0px; top:21740px;" width="1440" height="1080" src="page19.png"> <img id="background" style="position:absolute; left:1440px; top:21740px;" width="1440" height="1080" src="page-000019.png">
<div class="txt" style="position:absolute; left:1105px; top:21758px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:248px; top:22069px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(2) Specification and Contract</span></div>
<div class="txt" style="position:absolute; left:504px; top:22155px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(of a method)</span></div>
<img id="background" style="position:absolute; left:0px; top:22945px;" width="1440" height="1080" src="page20.png"> <img id="background" style="position:absolute; left:1440px; top:22945px;" width="1440" height="1080" src="page-000020.png">
<div class="txt" style="position:absolute; left:33px; top:23052px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Specifications (or called Contract)</span></div>
<div class="txt" style="position:absolute; left:1039px; top:22963px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:23189px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Specifications are the linchpin(</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">关键</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">) of teamwork. It’s impossible to</span></div>
<div class="txt" style="position:absolute; left:112px; top:23237px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">delegate(</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">分派</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">) responsibility for implementing a method without a</span></div>
<div class="txt" style="position:absolute; left:112px; top:23285px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">specification. </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">规格说明是团队开发的关键，是分配责任的基础</span></div>
<div class="txt" style="position:absolute; left:76px; top:23360px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The specification acts as a contract: the implementer is responsible</span></div>
<div class="txt" style="position:absolute; left:112px; top:23410px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">for meeting the contract, and a client that uses the method can rely on</span></div>
<div class="txt" style="position:absolute; left:112px; top:23453px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the contract. </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">规格说明是实现者和使用者之间的一种契约，实现者有责</span></div>
<div class="txt" style="position:absolute; left:112px; top:23501px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">任满足契约，使用者可以信赖契约</span></div>
<div class="txt" style="position:absolute; left:112px; top:23571px;"><span id="f33" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">States method’s and caller’s responsibilities</span></div>
<div class="txt" style="position:absolute; left:112px; top:23631px;"><span id="f33" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Defines what it means for implementation to be correct</span></div>
<div class="txt" style="position:absolute; left:76px; top:23697px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Like real legal contracts, specifications place demands on both</span></div>
<div class="txt" style="position:absolute; left:112px; top:23747px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">parties: </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">when the specification has a precondition, the client has</span></div>
<div class="txt" style="position:absolute; left:112px; top:23790px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">responsibilities too. </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">对双方都有约束</span></div>
<div class="txt" style="position:absolute; left:112px; top:23860px;"><span id="f33" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">If you pay me this amount on this schedule…</span></div>
<div class="txt" style="position:absolute; left:112px; top:23920px;"><span id="f33" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">I will build a … with the following detailed specification</span></div>
<div class="txt" style="position:absolute; left:112px; top:23977px;"><span id="f33" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Some contracts have remedies for nonperformance(</span><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">对不履行行为有补充说明</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<img id="background" style="position:absolute; left:0px; top:24150px;" width="1440" height="1080" src="page21.png"> <img id="background" style="position:absolute; left:1440px; top:24150px;" width="1440" height="1080" src="page-000021.png">
<div class="txt" style="position:absolute; left:33px; top:24257px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Why specifications?</span></div>
<div class="txt" style="position:absolute; left:1039px; top:24168px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:24397px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Reality:</span></div>
<div class="txt" style="position:absolute; left:112px; top:24460px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Many of the nastiest(</span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">令人讨厌</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">/</span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">抓狂的</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">) bugs in programs arise because of</span></div>
<div class="txt" style="position:absolute; left:148px; top:24507px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">misunderstandings about behavior at the interface between two pieces of</span></div>
<div class="txt" style="position:absolute; left:148px; top:24546px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">code. </span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">对两部分代码接口处行为的错误理解</span></div>
<div class="txt" style="position:absolute; left:112px; top:24611px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Although every programmer has specifications in mind, not all</span></div>
<div class="txt" style="position:absolute; left:148px; top:24650px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">programmers write them down. </span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">不是所有实现者把规格说明文档化</span></div>
<div class="txt" style="position:absolute; left:112px; top:24714px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">As a result, different programmers on a team have </span><span id="f37" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,0,1);">different </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">specifications</span></div>
<div class="txt" style="position:absolute; left:148px; top:24754px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">in mind. </span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">规格说明没有文档化，出错时难以定位问题</span></div>
<div class="txt" style="position:absolute; left:112px; top:24818px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f44" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">When the program fails, it’s hard to determine where the error is.</span></div>
<div class="txt" style="position:absolute; left:76px; top:24884px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Advantages:</span></div>
<div class="txt" style="position:absolute; left:112px; top:24951px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Precise specifications in the code let you apportion blame (to code</span></div>
<div class="txt" style="position:absolute; left:148px; top:24994px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">fragments, not people!), and can spare you the agony of puzzling over</span></div>
<div class="txt" style="position:absolute; left:148px; top:25033px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">where a fix should go.</span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">准确的规格说明利于确定错误的位置和责任</span></div>
<div class="txt" style="position:absolute; left:112px; top:25097px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Specifications are good for the client </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">of a method because they spare the</span></div>
<div class="txt" style="position:absolute; left:148px; top:25137px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">task of reading code. </span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">客户端不需要阅读代码，通过说明了解程序</span></div>
<img id="background" style="position:absolute; left:0px; top:25355px;" width="1440" height="1080" src="page22.png"> <img id="background" style="position:absolute; left:1440px; top:25355px;" width="1440" height="1080" src="page-000022.png">
<div class="txt" style="position:absolute; left:33px; top:25462px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">An example of specification</span></div>
<div class="txt" style="position:absolute; left:1039px; top:25373px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:25602px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A method </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">add() </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">of a Java class </span><span id="f15" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">BigInteger</span></div>
<div class="txt" style="position:absolute; left:112px; top:25669px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The spec for BigInteger.add is straightforward for clients to understand, and if</span></div>
<div class="txt" style="position:absolute; left:148px; top:25712px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">we have questions about corner cases, the BigInteger class provides additional</span></div>
<div class="txt" style="position:absolute; left:148px; top:25755px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">human-</span><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">readable documentation. We’d not have to read through the</span></div>
<div class="txt" style="position:absolute; left:148px; top:25798px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">BigInteger constructor, compareMagnitude, subtract, and trusted-</span></div>
<div class="txt" style="position:absolute; left:148px; top:25842px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">StripLeadingZeroInts just as a starting point.</span></div>
<img id="background" style="position:absolute; left:0px; top:26560px;" width="1440" height="1080" src="page23.png"> <img id="background" style="position:absolute; left:1440px; top:26560px;" width="1440" height="1080" src="page-000023.png">
<div class="txt" style="position:absolute; left:33px; top:26667px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Specification (contract)</span></div>
<div class="txt" style="position:absolute; left:1039px; top:26578px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:26807px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Specifications are good for the implementer </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">of a method because</span></div>
<div class="txt" style="position:absolute; left:112px; top:26857px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">they give the implementer </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">freedom to change </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the implementation</span></div>
<div class="txt" style="position:absolute; left:112px; top:26900px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">without telling clients. </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">规格说明给了实现者实现的自由，在保证约定</span></div>
<div class="txt" style="position:absolute; left:112px; top:26948px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">下，可以自由修改实现</span></div>
<div class="txt" style="position:absolute; left:76px; top:27023px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Specifications can </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">make code faster</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, too.</span></div>
<div class="txt" style="position:absolute; left:112px; top:27090px;"><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f31" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">We’ll see that using a weaker specification can rule out certain states in</span></div>
<div class="txt" style="position:absolute; left:148px; top:27133px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">which a method might be called. This restriction on the inputs might allow</span></div>
<div class="txt" style="position:absolute; left:148px; top:27176px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the implementer to skip an expensive check that is no longer necessary</span></div>
<div class="txt" style="position:absolute; left:148px; top:27217px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and use a more efficient implementation. </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">通过在说明中增加对输入的限</span></div>
<div class="txt" style="position:absolute; left:148px; top:27267px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">定，省略掉耗时的正确性检查工作，提升效率。（保证输入正确性</span></div>
<div class="txt" style="position:absolute; left:148px; top:27312px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">的责任由调用者承担）</span></div>
<img id="background" style="position:absolute; left:0px; top:27765px;" width="1440" height="1080" src="page24.png"> <img id="background" style="position:absolute; left:1440px; top:27765px;" width="1440" height="1080" src="page-000024.png">
<div class="txt" style="position:absolute; left:33px; top:27872px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Specification (contract)</span></div>
<div class="txt" style="position:absolute; left:1039px; top:27783px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:28012px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The contract acts as a </span><span id="f15" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">firewall </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">between client</span></div>
<div class="txt" style="position:absolute; left:112px; top:28062px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and implementer.</span></div>
<div class="txt" style="position:absolute; left:112px; top:28127px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">It shields the client from the details of</span></div>
<div class="txt" style="position:absolute; left:148px; top:28170px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the </span><span id="f15" style="font-size:33px;vertical-align:baseline;color:rgba(255,0,0,1);">workings </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">of the unit.</span></div>
<div class="txt" style="position:absolute; left:112px; top:28230px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">It shields the implementer from the details of</span></div>
<div class="txt" style="position:absolute; left:148px; top:28273px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the </span><span id="f15" style="font-size:33px;vertical-align:baseline;color:rgba(255,0,0,1);">usage </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">of the unit.</span></div>
<div class="txt" style="position:absolute; left:112px; top:28330px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">This firewall results in </span><span id="f15" style="font-size:33px;vertical-align:baseline;color:rgba(255,0,0,1);">decoupling(</span><span id="f33" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">解耦</span><span id="f15" style="font-size:33px;vertical-align:baseline;color:rgba(255,0,0,1);">) </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, allowing</span></div>
<div class="txt" style="position:absolute; left:148px; top:28378px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">the code of the unit and the code of a client to be</span></div>
<div class="txt" style="position:absolute; left:148px; top:28421px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">changed independently</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, so long as the changes</span></div>
<div class="txt" style="position:absolute; left:148px; top:28464px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">respect the specification.</span></div>
<img id="background" style="position:absolute; left:0px; top:28970px;" width="1440" height="1080" src="page25.png"> <img id="background" style="position:absolute; left:1440px; top:28970px;" width="1440" height="1080" src="page-000025.png">
<div class="txt" style="position:absolute; left:33px; top:29077px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Specification (contract)</span></div>
<div class="txt" style="position:absolute; left:76px; top:29217px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Agreement between an object and its user</span></div>
<div class="txt" style="position:absolute; left:112px; top:29284px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Method signature (type specifications)</span></div>
<div class="txt" style="position:absolute; left:112px; top:29344px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Functionality and correctness expectations</span></div>
<div class="txt" style="position:absolute; left:112px; top:29405px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Performance expectations</span></div>
<div class="txt" style="position:absolute; left:76px; top:29470px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">What the method does, not how it does it</span></div>
<div class="txt" style="position:absolute; left:112px; top:29537px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Interface (API), not implementation</span></div>
<div class="txt" style="position:absolute; left:1039px; top:28988px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<img id="background" style="position:absolute; left:0px; top:30175px;" width="1440" height="1080" src="page26.png"> <img id="background" style="position:absolute; left:1440px; top:30175px;" width="1440" height="1080" src="page-000026.png">
<div class="txt" style="position:absolute; left:1105px; top:30193px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:298px; top:30590px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(3) Behavioral equivalence</span></div>
<img id="background" style="position:absolute; left:0px; top:31380px;" width="1440" height="1080" src="page27.png"> <img id="background" style="position:absolute; left:1440px; top:31380px;" width="1440" height="1080" src="page-000027.png">
<div class="txt" style="position:absolute; left:33px; top:31482px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Behavioral equivalence </span><span id="f11" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">行为等价</span></div>
<div class="txt" style="position:absolute; left:1039px; top:31398px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:31627px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">To determine </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">behavioral equivalence </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, the question is whether we</span></div>
<div class="txt" style="position:absolute; left:112px; top:31672px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">could substitute one implementation for the other. </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">确定行为的等价，</span></div>
<div class="txt" style="position:absolute; left:112px; top:31720px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">关键是一个规格说明实现是否可以替换另一个</span></div>
<div class="txt" style="position:absolute; left:76px; top:32299px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Not only do these methods have different code, they actually have</span></div>
<div class="txt" style="position:absolute; left:112px; top:32348px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">different behavior. But when </span><span id="f32" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">val </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">occurs at exactly one index of the</span></div>
<div class="txt" style="position:absolute; left:112px; top:32397px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">array, the two methods behave the same</span></div>
<img id="background" style="position:absolute; left:0px; top:32585px;" width="1440" height="1080" src="page28.png"> <img id="background" style="position:absolute; left:1440px; top:32585px;" width="1440" height="1080" src="page-000028.png">
<div class="txt" style="position:absolute; left:33px; top:32692px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Behavioral equivalence</span></div>
<div class="txt" style="position:absolute; left:1039px; top:32603px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:32829px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The notion of equivalence is </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">in the eye of the client</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">. </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">等价的判定由调</span></div>
<div class="txt" style="position:absolute; left:112px; top:32877px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">用者视角确定</span></div>
<div class="txt" style="position:absolute; left:76px; top:32952px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In order to make it possible to substitute one implementation for</span></div>
<div class="txt" style="position:absolute; left:112px; top:33002px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">another, and to know when this is acceptable, we need a</span></div>
<div class="txt" style="position:absolute; left:112px; top:33045px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">specification that states exactly what the client depends on. </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">判定可替</span></div>
<div class="txt" style="position:absolute; left:112px; top:33093px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">代与否，需要对调用端依赖内容的准确描述</span></div>
<div class="txt" style="position:absolute; left:76px; top:33384px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Note: specification should never talk</span></div>
<div class="txt" style="position:absolute; left:112px; top:33434px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">about local variables of the method</span></div>
<div class="txt" style="position:absolute; left:112px; top:33482px;"><span id="f35" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">or private fields of the method’s class.</span></div>
<div class="txt" style="position:absolute; left:76px; top:33549px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">Spec</span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">不应涉及实现的内部变量和私有域</span></div>
<img id="background" style="position:absolute; left:0px; top:33790px;" width="1440" height="1080" src="page29.png"> <img id="background" style="position:absolute; left:1440px; top:33790px;" width="1440" height="1080" src="page-000029.png">
<div class="txt" style="position:absolute; left:1105px; top:33808px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:303px; top:34119px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(4) Specification structure:</span></div>
<div class="txt" style="position:absolute; left:191px; top:34205px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">pre-condition and post-condition</span></div>
<img id="background" style="position:absolute; left:0px; top:34995px;" width="1440" height="1080" src="page30.png"> <img id="background" style="position:absolute; left:1440px; top:34995px;" width="1440" height="1080" src="page-000030.png">
<div class="txt" style="position:absolute; left:33px; top:35102px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Specification Structure</span></div>
<div class="txt" style="position:absolute; left:1039px; top:35013px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:35242px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A specification of a method consists of several clauses:</span></div>
<div class="txt" style="position:absolute; left:112px; top:35308px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f17" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,0,1);">Precondition </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, indicated by the keyword </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">requires</span></div>
<div class="txt" style="position:absolute; left:112px; top:35369px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f17" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,0,1);">Postcondition </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, indicated by the keyword </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">effects</span></div>
<div class="txt" style="position:absolute; left:112px; top:35430px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Exceptional behavior</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: what it does if precondition violated</span></div>
<div class="txt" style="position:absolute; left:76px; top:35565px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">The precondition is an obligation(</span><span id="f31" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">义务</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">) on the client </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(i.e., the caller</span></div>
<div class="txt" style="position:absolute; left:112px; top:35617px;"><span id="f35" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">of the method). It’s a condition over the state in which the method is</span></div>
<div class="txt" style="position:absolute; left:112px; top:35665px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">invoked.</span></div>
<div class="txt" style="position:absolute; left:76px; top:35735px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">The postcondition is an obligation on the implementer of the</span></div>
<div class="txt" style="position:absolute; left:112px; top:35785px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">method</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">. If the precondition holds for the invoking state, the method</span></div>
<div class="txt" style="position:absolute; left:112px; top:35833px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is obliged to obey the postcondition, by returning appropriate</span></div>
<div class="txt" style="position:absolute; left:112px; top:35881px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">values, throwing specified exceptions, modifying or not modifying</span></div>
<div class="txt" style="position:absolute; left:112px; top:35929px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">objects, and so on.</span></div>
<img id="background" style="position:absolute; left:0px; top:36200px;" width="1440" height="1080" src="page31.png"> <img id="background" style="position:absolute; left:1440px; top:36200px;" width="1440" height="1080" src="page-000031.png">
<div class="txt" style="position:absolute; left:33px; top:36307px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Specification Structure</span></div>
<div class="txt" style="position:absolute; left:76px; top:36447px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The overall structure is a logical</span></div>
<div class="txt" style="position:absolute; left:112px; top:36492px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">implication(</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">逻辑蕴含</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">): </span><span id="f18" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">if </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the precondition</span></div>
<div class="txt" style="position:absolute; left:112px; top:36544px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">holds when the method is called, </span><span id="f18" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">then </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the</span></div>
<div class="txt" style="position:absolute; left:112px; top:36593px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">postcondition must hold when the method</span></div>
<div class="txt" style="position:absolute; left:112px; top:36636px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">completes. </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">规格说明蕴含了以下逻辑：如果</span></div>
<div class="txt" style="position:absolute; left:112px; top:36684px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">前置条件满足了，则后置条件必须满足</span></div>
<div class="txt" style="position:absolute; left:76px; top:36831px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If the precondition does </span><span id="f18" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">not </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">hold when the</span></div>
<div class="txt" style="position:absolute; left:112px; top:36881px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">method is called, the implementation</span></div>
<div class="txt" style="position:absolute; left:112px; top:36928px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is </span><span id="f18" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">not </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">bound by the postcondition. It is free</span></div>
<div class="txt" style="position:absolute; left:112px; top:36977px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to do anything, including not terminating,</span></div>
<div class="txt" style="position:absolute; left:112px; top:37025px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">throwing an exception, returning arbitrary</span></div>
<div class="txt" style="position:absolute; left:112px; top:37073px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">results, making arbitrary modifications,</span></div>
<div class="txt" style="position:absolute; left:112px; top:37116px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">etc. </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">反之，如果前置条件不满足，后置条件</span></div>
<div class="txt" style="position:absolute; left:112px; top:37164px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">则无需满足</span></div>
<div class="txt" style="position:absolute; left:1039px; top:36218px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<img id="background" style="position:absolute; left:0px; top:37405px;" width="1440" height="1080" src="page32.png"> <img id="background" style="position:absolute; left:1440px; top:37405px;" width="1440" height="1080" src="page-000032.png">
<div class="txt" style="position:absolute; left:33px; top:37512px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Specifications in Java</span></div>
<div class="txt" style="position:absolute; left:1039px; top:37423px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:37652px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Java’s </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">static type declarations </span><span id="f17" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">are </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">effectively part of the precondition</span></div>
<div class="txt" style="position:absolute; left:112px; top:37702px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and postcondition of a method, a part that is automatically checked</span></div>
<div class="txt" style="position:absolute; left:112px; top:37745px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and enforced by the compiler. </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">前置和后置条件中对类型的声明，将</span></div>
<div class="txt" style="position:absolute; left:112px; top:37793px;"><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">由编译器进行检查，确保正确性</span></div>
<div class="txt" style="position:absolute; left:76px; top:37868px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The rest of the contract must be described in a </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">comment </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">preceding</span></div>
<div class="txt" style="position:absolute; left:112px; top:37918px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the method, and generally depends on human beings to check it and</span></div>
<div class="txt" style="position:absolute; left:112px; top:37961px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">guarantee it. </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">其余部分通过注释的形式进行描述，由人来保证正确性</span></div>
<div class="txt" style="position:absolute; left:76px; top:38036px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Parameters are described by </span><span id="f41" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">@param </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">clauses and results are</span></div>
<div class="txt" style="position:absolute; left:112px; top:38085px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">described by </span><span id="f41" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">@return </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and </span><span id="f41" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">@throws </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">clauses.</span></div>
<div class="txt" style="position:absolute; left:76px; top:38156px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Put the </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">preconditions into </span><span id="f41" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">@param </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">where possible, and</span></div>
<div class="txt" style="position:absolute; left:112px; top:38205px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">postconditions into </span><span id="f41" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">@return </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and </span><span id="f41" style="font-size:26px;vertical-align:baseline;color:rgba(255,0,0,1);">@throws</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<img id="background" style="position:absolute; left:0px; top:38610px;" width="1440" height="1080" src="page33.png"> <img id="background" style="position:absolute; left:1440px; top:38610px;" width="1440" height="1080" src="page-000033.png">
<div class="txt" style="position:absolute; left:33px; top:38717px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Specifications in Java</span></div>
<div class="txt" style="position:absolute; left:1039px; top:38628px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<img id="background" style="position:absolute; left:0px; top:39815px;" width="1440" height="1080" src="page34.png"> <img id="background" style="position:absolute; left:1440px; top:39815px;" width="1440" height="1080" src="page-000034.png">
<div class="txt" style="position:absolute; left:33px; top:39922px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Specifications in Java</span></div>
<div class="txt" style="position:absolute; left:1039px; top:39833px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:40062px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The Java API documentation is produced from Javadoc comments in</span></div>
<div class="txt" style="position:absolute; left:112px; top:40112px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the Java standard library source code. Documenting your</span></div>
<div class="txt" style="position:absolute; left:112px; top:40160px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">specifications in Javadoc allows IDE(E.g. Eclipse) to show you (and</span></div>
<div class="txt" style="position:absolute; left:112px; top:40208px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">clients of your code) useful information, and allows you to produce</span></div>
<div class="txt" style="position:absolute; left:112px; top:40256px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">HTML documentation in the same format as the Java API docs.</span></div>
<img id="background" style="position:absolute; left:0px; top:41020px;" width="1440" height="1080" src="page35.png"> <img id="background" style="position:absolute; left:1440px; top:41020px;" width="1440" height="1080" src="page-000035.png">
<div class="txt" style="position:absolute; left:1039px; top:41038px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:41127px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Specifications for mutating methods</span></div>
<div class="txt" style="position:absolute; left:76px; top:41267px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Example 1: a mutating method</span></div>
<div class="txt" style="position:absolute; left:76px; top:41555px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Example 2: a mutating method</span></div>
<div class="txt" style="position:absolute; left:76px; top:41843px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Example 3: a method that does not mutate its argument</span></div>
<img id="background" style="position:absolute; left:0px; top:42225px;" width="1440" height="1080" src="page36.png"> <img id="background" style="position:absolute; left:1440px; top:42225px;" width="1440" height="1080" src="page-000036.png">
<div class="txt" style="position:absolute; left:1039px; top:42243px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:42332px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Specifications for mutating methods</span></div>
<div class="txt" style="position:absolute; left:76px; top:42472px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If the </span><span id="f15" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">effects </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">do not explicitly say that an input can be mutated, then</span></div>
<div class="txt" style="position:absolute; left:112px; top:42517px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">we assume mutation of the input is implicitly disallowed. </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">如果没有</span></div>
<div class="txt" style="position:absolute; left:112px; top:42565px;"><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">明确说明，则默认输入值是不可变的</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span></div>
<div class="txt" style="position:absolute; left:76px; top:42640px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Virtually all programmers would assume the same thing. Surprise</span></div>
<div class="txt" style="position:absolute; left:112px; top:42685px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">mutations lead to terrible bugs. </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">可变带来巨大的麻烦</span></div>
<div class="txt" style="position:absolute; left:76px; top:42805px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Convention: </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">惯用法</span></div>
<div class="txt" style="position:absolute; left:112px; top:42871px;"><span id="f36" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Mutation is disallowed unless stated otherwise. </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">除非另有说明，保持不可变</span></div>
<div class="txt" style="position:absolute; left:112px; top:42931px;"><span id="f36" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">No mutation of the inputs </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">不对输入进行修改</span></div>
<div class="txt" style="position:absolute; left:76px; top:43073px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Mutable objects can make simple specification/contracts very</span></div>
<div class="txt" style="position:absolute; left:112px; top:43123px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">complex</span></div>
<div class="txt" style="position:absolute; left:76px; top:43193px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Mutable objects reduce changeability</span></div>
<img id="background" style="position:absolute; left:0px; top:43430px;" width="1440" height="1080" src="page37.png"> <img id="background" style="position:absolute; left:1440px; top:43430px;" width="1440" height="1080" src="page-000037.png">
<div class="txt" style="position:absolute; left:1039px; top:43448px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:43537px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Mutable objects make simple contracts complex</span></div>
<div class="txt" style="position:absolute; left:76px; top:43677px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Multiple references to the same mutable object (</span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">aliases </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">for the object)</span></div>
<div class="txt" style="position:absolute; left:112px; top:43727px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">may mean that multiple places in your program </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">— </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">possibly widely</span></div>
<div class="txt" style="position:absolute; left:112px; top:43770px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">separated </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">— </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">are relying on that object to remain consistent.</span><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">对可变对</span></div>
<div class="txt" style="position:absolute; left:112px; top:43818px;"><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">象的多引用，需要程序维护其一致性</span></div>
<div class="txt" style="position:absolute; left:76px; top:43893px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">To put it in terms of specifications, contracts can’t be enforced in just</span></div>
<div class="txt" style="position:absolute; left:112px; top:43943px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">one place anymore, e.g. between the client of a class and the</span></div>
<div class="txt" style="position:absolute; left:112px; top:43991px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">implementer of a class. Contracts involving mutable objects now</span></div>
<div class="txt" style="position:absolute; left:112px; top:44039px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">depend on the good behavior of everyone who has a reference to the</span></div>
<div class="txt" style="position:absolute; left:112px; top:44082px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">mutable object. </span><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">此时约定不再是单纯的在调用者和实现者之间维持，</span></div>
<div class="txt" style="position:absolute; left:112px; top:44130px;"><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">需要程序中每处的对其调用都有良好的行为</span></div>
<div class="txt" style="position:absolute; left:112px; top:44200px;"><span id="f45" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">As a symptom of this non-local contract phenomenon, consider the Java</span></div>
<div class="txt" style="position:absolute; left:148px; top:44243px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">collections classes, which are normally documented with very clear</span></div>
<div class="txt" style="position:absolute; left:148px; top:44286px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">contracts on the client and implementer of a class.</span></div>
<div class="txt" style="position:absolute; left:112px; top:44347px;"><span id="f45" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Try to find where it documents the crucial requirement on the client that</span></div>
<div class="txt" style="position:absolute; left:148px; top:44390px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">you can’t modify a collection while you’re iterating over it. Who takes</span></div>
<div class="txt" style="position:absolute; left:148px; top:44433px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">responsibility for it? Iterator ? List ? Collection ?</span></div>
<img id="background" style="position:absolute; left:0px; top:44635px;" width="1440" height="1080" src="page38.png"> <img id="background" style="position:absolute; left:1440px; top:44635px;" width="1440" height="1080" src="page-000038.png">
<div class="txt" style="position:absolute; left:1039px; top:44653px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:44742px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Mutable objects make simple contracts complex</span></div>
<div class="txt" style="position:absolute; left:76px; top:44882px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The need to reason about global properties like this make it much</span></div>
<div class="txt" style="position:absolute; left:112px; top:44932px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">harder to understand, and be confident in the correctness of,</span></div>
<div class="txt" style="position:absolute; left:112px; top:44975px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">programs with mutable data structures. </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">可变使对象具有全局属性，</span></div>
<div class="txt" style="position:absolute; left:112px; top:45023px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">导致难于理解和确保正确性</span></div>
<div class="txt" style="position:absolute; left:76px; top:45098px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">We still have to do it </span><span id="f25" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">— </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">for performance and convenience </span><span id="f25" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">— </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">but we</span></div>
<div class="txt" style="position:absolute; left:112px; top:45143px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">pay a big cost in bug safety for doing so. </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">可变的优点是性能和便利，</span></div>
<div class="txt" style="position:absolute; left:112px; top:45191px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">但是需要额外的确保无措的成本。</span></div>
<img id="background" style="position:absolute; left:0px; top:45840px;" width="1440" height="1080" src="page39.png"> <img id="background" style="position:absolute; left:1440px; top:45840px;" width="1440" height="1080" src="page-000039.png">
<div class="txt" style="position:absolute; left:1039px; top:45858px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:45947px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Mutable objects reduce changeability</span></div>
<div class="txt" style="position:absolute; left:76px; top:46087px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Mutable objects make the contracts between clients and</span></div>
<div class="txt" style="position:absolute; left:112px; top:46137px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">implementers more complicated, and reduce the freedom of the</span></div>
<div class="txt" style="position:absolute; left:112px; top:46185px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">client and implementer to change.</span></div>
<div class="txt" style="position:absolute; left:112px; top:46249px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">In other words, using </span><span id="f19" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,0,1);">objects </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">that are allowed to change makes</span></div>
<div class="txt" style="position:absolute; left:148px; top:46289px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the </span><span id="f19" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,0,1);">code </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">harder to change. </span><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">可变的对象使代码难以变化</span></div>
<div class="txt" style="position:absolute; left:76px; top:46359px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f29" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">An example: </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">a method to looks up a username in database and</span></div>
<div class="txt" style="position:absolute; left:112px; top:46408px;"><span id="f32" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">returns the user’s 9</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">-digit identifier</span></div>
<div class="txt" style="position:absolute; left:76px; top:46743px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f32" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A client using this method to print out a user’s identifier:</span></div>
<img id="background" style="position:absolute; left:0px; top:47045px;" width="1440" height="1080" src="page40.png"> <img id="background" style="position:absolute; left:1440px; top:47045px;" width="1440" height="1080" src="page-000040.png">
<div class="txt" style="position:absolute; left:1039px; top:47063px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:47152px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Mutable objects reduce changeability</span></div>
<div class="txt" style="position:absolute; left:76px; top:47292px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Now both the client and the implementer separately decide to</span></div>
<div class="txt" style="position:absolute; left:112px; top:47342px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">make a change. The client is worried about the user’s privacy, and</span></div>
<div class="txt" style="position:absolute; left:112px; top:47390px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">decides to obscure the first 5 digits of the id:</span></div>
<div class="txt" style="position:absolute; left:76px; top:47460px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The implementer is worried about the</span></div>
<div class="txt" style="position:absolute; left:112px; top:47510px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">speed and load on the database, so the</span></div>
<div class="txt" style="position:absolute; left:112px; top:47558px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">implementer introduces a cache that</span></div>
<div class="txt" style="position:absolute; left:112px; top:47606px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">remembers usernames that have been</span></div>
<div class="txt" style="position:absolute; left:112px; top:47654px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">looked up:</span></div>
<div class="txt" style="position:absolute; left:76px; top:47796px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">What will happen?</span></div>
<img id="background" style="position:absolute; left:0px; top:48250px;" width="1440" height="1080" src="page41.png"> <img id="background" style="position:absolute; left:1440px; top:48250px;" width="1440" height="1080" src="page-000041.png">
<div class="txt" style="position:absolute; left:1039px; top:48268px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:48357px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Mutable objects reduce changeability</span></div>
<div class="txt" style="position:absolute; left:76px; top:48497px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Sharing a mutable object complicates a contract</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:76px; top:48569px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Who’s to blame here?</span></div>
<div class="txt" style="position:absolute; left:112px; top:48636px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Was the client obliged not to modify the object it got back?</span></div>
<div class="txt" style="position:absolute; left:112px; top:48696px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Was the implementer obliged not to hold on to the object that it returned?</span></div>
<div class="txt" style="position:absolute; left:76px; top:48834px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A possible way of clarifying the spec:</span></div>
<div class="txt" style="position:absolute; left:76px; top:49122px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">How about this spec?</span></div>
<div class="txt" style="position:absolute; left:112px; top:49185px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">It’s a lifetime contract</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">! </span><span id="f32" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">终生约定</span></div>
<img id="background" style="position:absolute; left:0px; top:49455px;" width="1440" height="1080" src="page42.png"> <img id="background" style="position:absolute; left:1440px; top:49455px;" width="1440" height="1080" src="page-000042.png">
<div class="txt" style="position:absolute; left:1039px; top:49473px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:49562px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Mutable objects reduce changeability</span></div>
<div class="txt" style="position:absolute; left:76px; top:49702px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">How about this one?</span></div>
<div class="txt" style="position:absolute; left:76px; top:50062px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">This spec at least says that the array has to be fresh.</span></div>
<div class="txt" style="position:absolute; left:76px; top:50134px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">But does it keep the implementer from holding an alias to that new</span></div>
<div class="txt" style="position:absolute; left:112px; top:50184px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">array? Does it keep the implementer from changing that array or</span></div>
<div class="txt" style="position:absolute; left:112px; top:50227px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">reusing it in the future for something else? </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">此类说明仍然不能够确保</span></div>
<div class="txt" style="position:absolute; left:112px; top:50275px;"><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">产生新的别名引用，以及未来的修改</span></div>
<img id="background" style="position:absolute; left:0px; top:50660px;" width="1440" height="1080" src="page43.png"> <img id="background" style="position:absolute; left:1440px; top:50660px;" width="1440" height="1080" src="page-000043.png">
<div class="txt" style="position:absolute; left:1039px; top:50678px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:50767px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Mutable objects reduce changeability</span></div>
<div class="txt" style="position:absolute; left:76px; top:50907px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">How about this one?</span></div>
<div class="txt" style="position:absolute; left:76px; top:51195px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The immutable </span><span id="f16" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">String </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">return value provides a </span><span id="f19" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">guarantee </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">that the</span></div>
<div class="txt" style="position:absolute; left:112px; top:51245px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">client and the implementer will never step on each other the way</span></div>
<div class="txt" style="position:absolute; left:112px; top:51292px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">they could with </span><span id="f16" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">char </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">arrays.</span></div>
<div class="txt" style="position:absolute; left:76px; top:51363px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">It doesn’t depend on a programmer reading the spec comment</span></div>
<div class="txt" style="position:absolute; left:112px; top:51408px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">carefully. </span><span id="f31" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">不依赖于程序员对规格说明的认真对待程度</span></div>
<div class="txt" style="position:absolute; left:76px; top:51483px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">String is </span><span id="f19" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">immutable </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">. Not only that, but this approach (unlike the</span></div>
<div class="txt" style="position:absolute; left:112px; top:51533px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">previous one) gives the implementer the freedom to introduce a</span></div>
<div class="txt" style="position:absolute; left:112px; top:51576px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">cache </span><span id="f27" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">— </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">a performance improvement. </span><span id="f31" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">也允许实现者增加实现自由</span></div>
<div class="txt" style="position:absolute; left:112px; top:51629px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(E.g., cache)</span></div>
<img id="background" style="position:absolute; left:0px; top:51865px;" width="1440" height="1080" src="page44.png"> <img id="background" style="position:absolute; left:1440px; top:51865px;" width="1440" height="1080" src="page-000044.png">
<div class="txt" style="position:absolute; left:1105px; top:51883px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:326px; top:52194px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(5) Testing and verifying</span></div>
<div class="txt" style="position:absolute; left:504px; top:52280px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">specifications</span></div>
<img id="background" style="position:absolute; left:0px; top:53070px;" width="1440" height="1080" src="page45.png"> <img id="background" style="position:absolute; left:1440px; top:53070px;" width="1440" height="1080" src="page-000045.png">
<div class="txt" style="position:absolute; left:33px; top:53177px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Formal contract specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:53317px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Java Modelling Language (JML)</span></div>
<div class="txt" style="position:absolute; left:1039px; top:53088px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:53605px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">This is a theoretical approach with advantages</span></div>
<div class="txt" style="position:absolute; left:112px; top:53672px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Runtime checks generated automatically</span></div>
<div class="txt" style="position:absolute; left:112px; top:53732px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Basis for formal verification</span></div>
<div class="txt" style="position:absolute; left:112px; top:53793px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Automatic analysis tools</span></div>
<div class="txt" style="position:absolute; left:76px; top:53858px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Disadvantages</span></div>
<div class="txt" style="position:absolute; left:112px; top:53925px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Requires a lot of work</span></div>
<div class="txt" style="position:absolute; left:112px; top:53986px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Impractical in the large</span></div>
<div class="txt" style="position:absolute; left:112px; top:54046px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Some aspects of behavior not amenable to formal specification</span></div>
<img id="background" style="position:absolute; left:0px; top:54275px;" width="1440" height="1080" src="page46.png"> <img id="background" style="position:absolute; left:1440px; top:54275px;" width="1440" height="1080" src="page-000046.png">
<div class="txt" style="position:absolute; left:33px; top:54382px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Textual specification - Javadoc</span></div>
<div class="txt" style="position:absolute; left:1039px; top:54293px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:54522px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">Practical approach</span></div>
<div class="txt" style="position:absolute; left:76px; top:54594px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Documenting </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">every parameter, return value, every exception</span></div>
<div class="txt" style="position:absolute; left:112px; top:54644px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(checked and unchecked),what the method does, including Purpose</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">,</span></div>
<div class="txt" style="position:absolute; left:112px; top:54692px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">s</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">ide effects, any thread safety issues, any performance issues</span></div>
<div class="txt" style="position:absolute; left:76px; top:54762px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(192,0,0,1);">Do not document implementation details</span></div>
<img id="background" style="position:absolute; left:0px; top:55480px;" width="1440" height="1080" src="page47.png"> <img id="background" style="position:absolute; left:1440px; top:55480px;" width="1440" height="1080" src="page-000047.png">
<div class="txt" style="position:absolute; left:1039px; top:55498px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:55587px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Semantic correctness adherence to contracts</span></div>
<div class="txt" style="position:absolute; left:76px; top:55727px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Compiler ensures types are correct (type-checking)</span></div>
<div class="txt" style="position:absolute; left:112px; top:55793px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Prevents many runtime errors, such as </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">“Method Not Found” </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and</span></div>
<div class="txt" style="position:absolute; left:148px; top:55837px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">“Cannot add boolean to int”</span></div>
<div class="txt" style="position:absolute; left:76px; top:55903px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Static analysis tools (e.g., FindBugs) recognize</span></div>
<div class="txt" style="position:absolute; left:112px; top:55952px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">many common problems (</span><span id="f27" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">bug patterns</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<div class="txt" style="position:absolute; left:1032px; top:55954px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,255,255,1);">Chapter 9 Refactoring</span></div>
<div class="txt" style="position:absolute; left:112px; top:56017px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Overriding </span><span id="f32" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">equals </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">without overriding </span><span id="f32" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">hashCode</span></div>
<div class="txt" style="position:absolute; left:76px; top:56083px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">But how do you ensure semantic correctness?</span></div>
<img id="background" style="position:absolute; left:0px; top:56685px;" width="1440" height="1080" src="page48.png"> <img id="background" style="position:absolute; left:1440px; top:56685px;" width="1440" height="1080" src="page-000048.png">
<div class="txt" style="position:absolute; left:33px; top:56792px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Formal verification</span></div>
<div class="txt" style="position:absolute; left:1039px; top:56703px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:56932px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Use mathematical methods to prove correctness with respect to the</span></div>
<div class="txt" style="position:absolute; left:112px; top:56982px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">formal specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:57052px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Formally prove that all possible executions of an implementation</span></div>
<div class="txt" style="position:absolute; left:112px; top:57102px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">fulfill the specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:57172px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Manual effort; partial automation; not automatically decidable</span></div>
<div class="txt" style="position:absolute; left:210px; top:57318px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">"Testing shows the presence, not the absence of bugs.”</span></div>
<div class="txt" style="position:absolute; left:826px; top:57390px;"><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">——</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Edsger W. Dijkstra, 1969</span></div>
<img id="background" style="position:absolute; left:0px; top:57890px;" width="1440" height="1080" src="page49.png"> <img id="background" style="position:absolute; left:1440px; top:57890px;" width="1440" height="1080" src="page-000049.png">
<div class="txt" style="position:absolute; left:33px; top:57997px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Testing</span></div>
<div class="txt" style="position:absolute; left:1039px; top:57908px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:58137px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Executing the program with selected inputs in a controlled</span></div>
<div class="txt" style="position:absolute; left:112px; top:58187px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">environment</span></div>
<div class="txt" style="position:absolute; left:76px; top:58257px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Goals</span></div>
<div class="txt" style="position:absolute; left:112px; top:58324px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Reveal bugs, so they can be fixed (main goal)</span></div>
<div class="txt" style="position:absolute; left:112px; top:58384px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Assess quality</span></div>
<div class="txt" style="position:absolute; left:112px; top:58445px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Clarify the specification, documentation</span></div>
<div class="txt" style="position:absolute; left:989px; top:58387px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,255,255,1);">Chapter 7 Robustness</span></div>
<img id="background" style="position:absolute; left:0px; top:59095px;" width="1440" height="1080" src="page50.png"> <img id="background" style="position:absolute; left:1440px; top:59095px;" width="1440" height="1080" src="page-000050.png">
<div class="txt" style="position:absolute; left:33px; top:59202px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Black-box testing</span></div>
<div class="txt" style="position:absolute; left:1039px; top:59113px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:59342px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Black-box testing: </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to check if the tested program </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">follow the specified</span></div>
<div class="txt" style="position:absolute; left:112px; top:59392px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">specification in an implementation-independent way.</span></div>
<div class="txt" style="position:absolute; left:76px; top:59462px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">An example specification:</span></div>
<div class="txt" style="position:absolute; left:76px; top:59678px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The test case:</span></div>
<img id="background" style="position:absolute; left:0px; top:60300px;" width="1440" height="1080" src="page51.png"> <img id="background" style="position:absolute; left:1440px; top:60300px;" width="1440" height="1080" src="page-000051.png">
<div class="txt" style="position:absolute; left:1105px; top:60318px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:305px; top:60715px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">3 Designing specifications</span></div>
<img id="background" style="position:absolute; left:0px; top:61505px;" width="1440" height="1080" src="page52.png"> <img id="background" style="position:absolute; left:1440px; top:61505px;" width="1440" height="1080" src="page-000052.png">
<div class="txt" style="position:absolute; left:1105px; top:61523px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:254px; top:61864px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(1) Classifying specifications</span></div>
<div class="txt" style="position:absolute; left:492px; top:61945px;"><span id="f13" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">规格说明分类</span></div>
<img id="background" style="position:absolute; left:0px; top:62710px;" width="1440" height="1080" src="page53.png"> <img id="background" style="position:absolute; left:1440px; top:62710px;" width="1440" height="1080" src="page-000053.png">
<div class="txt" style="position:absolute; left:33px; top:62817px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Comparing specifications</span></div>
<div class="txt" style="position:absolute; left:1039px; top:62728px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:62957px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">How </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">deterministic </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">it is. Does the spec defines only a single possible</span></div>
<div class="txt" style="position:absolute; left:112px; top:63007px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">output for a given input, or allow the implementer to choose from a</span></div>
<div class="txt" style="position:absolute; left:112px; top:63050px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">set of legal outputs? </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">确定性</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">: </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">唯一的输出，或者多个合法的输出</span></div>
<div class="txt" style="position:absolute; left:76px; top:63125px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">How </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">declarative </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">it is. Does the spec just characterize </span><span id="f30" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">what </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the output</span></div>
<div class="txt" style="position:absolute; left:112px; top:63170px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">should be, or does it explicitly say </span><span id="f30" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">how </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to compute the output? </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">只是</span></div>
<div class="txt" style="position:absolute; left:112px; top:63218px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">单纯的描述输出，还是给出了如何计算输出</span></div>
<div class="txt" style="position:absolute; left:76px; top:63293px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">How </span><span id="f42" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">”</span><span id="f44" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">strong” </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">it is. Does the spec have a small set of legal</span></div>
<div class="txt" style="position:absolute; left:112px; top:63338px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">implementations, or a large set? </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">限制为较少的实现方式，还是较多的</span></div>
<div class="txt" style="position:absolute; left:112px; top:63386px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">实现</span></div>
<div class="txt" style="position:absolute; left:76px; top:63533px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f42" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">“What makes some specifications better than others?”</span></div>
<img id="background" style="position:absolute; left:0px; top:63915px;" width="1440" height="1080" src="page54.png"> <img id="background" style="position:absolute; left:1440px; top:63915px;" width="1440" height="1080" src="page-000054.png">
<div class="txt" style="position:absolute; left:1039px; top:63933px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:64022px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Deterministic vs. underdetermined specs</span></div>
<div class="txt" style="position:absolute; left:76px; top:64162px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Deterministic </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: when presented with a state satisfying the</span></div>
<div class="txt" style="position:absolute; left:112px; top:64212px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">precondition, the outcome is completely determined.</span></div>
<div class="txt" style="position:absolute; left:112px; top:64273px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Only one return value and one final state is possible.</span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">只有一个返回值和一</span></div>
<div class="txt" style="position:absolute; left:148px; top:64316px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">个最终状态</span></div>
<div class="txt" style="position:absolute; left:112px; top:64376px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">There are no valid inputs for which there is more than one valid output.</span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">不</span></div>
<div class="txt" style="position:absolute; left:148px; top:64420px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">存在有效输入对应多个有效输出。</span></div>
<img id="background" style="position:absolute; left:0px; top:65120px;" width="1440" height="1080" src="page55.png"> <img id="background" style="position:absolute; left:1440px; top:65120px;" width="1440" height="1080" src="page-000055.png">
<div class="txt" style="position:absolute; left:1039px; top:65138px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:65227px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Deterministic vs. underdetermined specs</span></div>
<div class="txt" style="position:absolute; left:76px; top:65857px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Both find</span><span id="f13" style="font-size:26px;vertical-align:sub;color:rgba(0,0,0,1);">First </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and find</span><span id="f13" style="font-size:26px;vertical-align:sub;color:rgba(0,0,0,1);">Last </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">satisfy the specification, so if this is the</span></div>
<div class="txt" style="position:absolute; left:112px; top:65907px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">specification on which the clients relied, the two implementations</span></div>
<div class="txt" style="position:absolute; left:112px; top:65955px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">are equivalent and substitutable for one another.</span></div>
<img id="background" style="position:absolute; left:0px; top:66325px;" width="1440" height="1080" src="page56.png"> <img id="background" style="position:absolute; left:1440px; top:66325px;" width="1440" height="1080" src="page-000056.png">
<div class="txt" style="position:absolute; left:1039px; top:66343px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:66432px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Deterministic vs. underdetermined specs</span></div>
<div class="txt" style="position:absolute; left:75px; top:66558px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Under-deterministic(</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">低确定的</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">): </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">specification allows multiple valid</span></div>
<div class="txt" style="position:absolute; left:111px; top:66606px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">outputs for the same input.</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">允许同一输入存在多个有效输出。</span></div>
<div class="txt" style="position:absolute; left:75px; top:66870px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Nondeterministic(</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">非确定的</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">): </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">sometimes behaves one way and</span></div>
<div class="txt" style="position:absolute; left:111px; top:66922px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">sometimes another, even if called in the same program with the same</span></div>
<div class="txt" style="position:absolute; left:111px; top:66966px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">inputs (e.g., depending on random or timing) </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">输出结果不确定</span></div>
<img id="background" style="position:absolute; left:0px; top:67530px;" width="1440" height="1080" src="page57.png"> <img id="background" style="position:absolute; left:1440px; top:67530px;" width="1440" height="1080" src="page-000057.png">
<div class="txt" style="position:absolute; left:1039px; top:67548px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:67637px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Deterministic vs. underdetermined specs</span></div>
<div class="txt" style="position:absolute; left:75px; top:67766px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">To avoid the confusion, we’ll refer to specifications that are not</span></div>
<div class="txt" style="position:absolute; left:111px; top:67811px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">deterministic as </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">underdetermined.(</span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">将不是确定性的</span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">spec</span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">统一定义为</span></div>
<div class="txt" style="position:absolute; left:111px; top:67859px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">underdetermined </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">欠定的</span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span></div>
<div class="txt" style="position:absolute; left:75px; top:67934px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Underdeterminism in specifications offers a choice that is made by</span></div>
<div class="txt" style="position:absolute; left:111px; top:67979px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the implementer at implementation time. </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">规格说明的不确定性，为实</span></div>
<div class="txt" style="position:absolute; left:111px; top:68027px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">现者提供了在实现时选择实现方案的机会</span></div>
<div class="txt" style="position:absolute; left:111px; top:68096px;"><span id="f41" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">An underdetermined spec is typically implemented by a fully-</span></div>
<div class="txt" style="position:absolute; left:147px; top:68137px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">deterministic implementation.</span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">一个欠定的规格说明通常是通过完全确</span></div>
<div class="txt" style="position:absolute; left:147px; top:68184px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">定性的实现来实现的。</span></div>
<img id="background" style="position:absolute; left:0px; top:68735px;" width="1440" height="1080" src="page58.png"> <img id="background" style="position:absolute; left:1440px; top:68735px;" width="1440" height="1080" src="page-000058.png">
<div class="txt" style="position:absolute; left:33px; top:68842px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Declarative vs. operational specs</span></div>
<div class="txt" style="position:absolute; left:1039px; top:68753px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:68982px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Operational </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">specifications give a series of steps that the method</span></div>
<div class="txt" style="position:absolute; left:112px; top:69032px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">performs; </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">pseudocode descriptions are operational.</span></div>
<div class="txt" style="position:absolute; left:76px; top:69102px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Declarative </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">specifications don’t give details of intermediate steps.</span></div>
<div class="txt" style="position:absolute; left:112px; top:69152px;"><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Instead, they just give properties of the final outcome, and how it’s</span></div>
<div class="txt" style="position:absolute; left:112px; top:69200px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">related to the initial state.</span></div>
<div class="txt" style="position:absolute; left:76px; top:69270px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Declarative specifications are preferable.</span></div>
<div class="txt" style="position:absolute; left:112px; top:69337px;"><span id="f28" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">They’re usually shorter, easier to understand, and most importantly, they</span></div>
<div class="txt" style="position:absolute; left:148px; top:69380px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">don’t inadvertently expose implementation details that a client may rely</span></div>
<div class="txt" style="position:absolute; left:148px; top:69419px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">on. </span><span id="f34" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">简短，易于理解，不会暴露内部实现细节</span></div>
<div class="txt" style="position:absolute; left:76px; top:69494px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Why operational spec. exists?</span></div>
<div class="txt" style="position:absolute; left:112px; top:69561px;"><span id="f28" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Programmers use the spec comment to explain the implementation for a</span></div>
<div class="txt" style="position:absolute; left:148px; top:69601px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">maintainer. </span><span id="f34" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">为维护人员提供解释</span></div>
<div class="txt" style="position:absolute; left:112px; top:69670px;"><span id="f28" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Don’t do that. When it’s necessary, use comments within the body of the</span></div>
<div class="txt" style="position:absolute; left:148px; top:69711px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">method, not in the spec comment. </span><span id="f34" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">如果必需的话，放到内部的注释中，</span></div>
<div class="txt" style="position:absolute; left:148px; top:69758px;"><span id="f34" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">而不是在</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">spec</span><span id="f34" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">中</span></div>
<img id="background" style="position:absolute; left:0px; top:69940px;" width="1440" height="1080" src="page59.png"> <img id="background" style="position:absolute; left:1440px; top:69940px;" width="1440" height="1080" src="page-000059.png">
<div class="txt" style="position:absolute; left:33px; top:70047px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Declarative spec.</span></div>
<div class="txt" style="position:absolute; left:1039px; top:69958px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:70187px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Standard: </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the clearest, for clients and maintainers of the code.</span></div>
<img id="background" style="position:absolute; left:0px; top:71145px;" width="1440" height="1080" src="page60.png"> <img id="background" style="position:absolute; left:1440px; top:71145px;" width="1440" height="1080" src="page-000060.png">
<div class="txt" style="position:absolute; left:33px; top:71252px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Stronger vs. weaker specs</span></div>
<div class="txt" style="position:absolute; left:1039px; top:71163px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:71392px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">How to compare the behaviors of two specifications to decide</span></div>
<div class="txt" style="position:absolute; left:112px; top:71437px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">whether it’s safe to replace the old spec with the new spec? </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">如何比较</span></div>
<div class="txt" style="position:absolute; left:112px; top:71485px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">两个规格说明的行为，以决定是否可以进行替换？</span></div>
<div class="txt" style="position:absolute; left:76px; top:71560px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A specification S2 </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is stronger than or equal to </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">a specification S1 if</span></div>
<div class="txt" style="position:absolute; left:112px; top:71627px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f14" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">S2’s precondition is weaker than or equal to S1’s</span></div>
<div class="txt" style="position:absolute; left:112px; top:71687px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f14" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">S2’s </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">postcondition </span><span id="f14" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is stronger than or equal to S1’s, for the states that</span></div>
<div class="txt" style="position:absolute; left:148px; top:71730px;"><span id="f14" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">satisfy S1’s precondition.</span></div>
<div class="txt" style="position:absolute; left:76px; top:71798px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Then an implementation that satisfies S2 can be used to satisfy S1 as</span></div>
<div class="txt" style="position:absolute; left:76px; top:71846px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">well, and it’s safe to replace S1 with S2 in your program.</span></div>
<div class="txt" style="position:absolute; left:76px; top:71916px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Ideas:</span></div>
<div class="txt" style="position:absolute; left:112px; top:71983px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Weaken the precondition: </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">placing fewer demands on a client will never</span></div>
<div class="txt" style="position:absolute; left:148px; top:72023px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">upset them. </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">要求的更少</span></div>
<div class="txt" style="position:absolute; left:112px; top:72091px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Strengthen the postcondition, </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">which means making more promises. </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">承诺</span></div>
<div class="txt" style="position:absolute; left:148px; top:72138px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">的更多</span></div>
<img id="background" style="position:absolute; left:0px; top:72350px;" width="1440" height="1080" src="page61.png"> <img id="background" style="position:absolute; left:1440px; top:72350px;" width="1440" height="1080" src="page-000061.png">
<div class="txt" style="position:absolute; left:33px; top:72457px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Stronger vs. weaker specs</span></div>
<div class="txt" style="position:absolute; left:76px; top:72597px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Original spec:</span></div>
<div class="txt" style="position:absolute; left:76px; top:72813px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A stronger spec:</span></div>
<div class="txt" style="position:absolute; left:76px; top:73029px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A much stronger spec:</span></div>
<div class="txt" style="position:absolute; left:1039px; top:72368px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<img id="background" style="position:absolute; left:0px; top:73555px;" width="1440" height="1080" src="page62.png"> <img id="background" style="position:absolute; left:1440px; top:73555px;" width="1440" height="1080" src="page-000062.png">
<div class="txt" style="position:absolute; left:33px; top:73662px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Stronger vs. weaker specs</span></div>
<div class="txt" style="position:absolute; left:76px; top:73802px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">How about these two?</span></div>
<div class="txt" style="position:absolute; left:1039px; top:73573px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<img id="background" style="position:absolute; left:0px; top:74760px;" width="1440" height="1080" src="page63.png"> <img id="background" style="position:absolute; left:1440px; top:74760px;" width="1440" height="1080" src="page-000063.png">
<div class="txt" style="position:absolute; left:33px; top:74867px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Stronger vs. weaker specs</span></div>
<div class="txt" style="position:absolute; left:1039px; top:74778px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:75007px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If S3 is neither stronger nor weaker than S1, there specs. might</span></div>
<div class="txt" style="position:absolute; left:112px; top:75057px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">overlap (such that there exist implementations that satisfy only S1,</span></div>
<div class="txt" style="position:absolute; left:112px; top:75105px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">only S3, and both S1 and S3) or might be disjoint.</span></div>
<div class="txt" style="position:absolute; left:76px; top:75175px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In both cases, S1 and S3 are incomparable.</span></div>
<img id="background" style="position:absolute; left:0px; top:75965px;" width="1440" height="1080" src="page64.png"> <img id="background" style="position:absolute; left:1440px; top:75965px;" width="1440" height="1080" src="page-000064.png">
<div class="txt" style="position:absolute; left:1105px; top:75983px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:221px; top:76380px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(2) Diagramming specifications</span></div>
<img id="background" style="position:absolute; left:0px; top:77170px;" width="1440" height="1080" src="page65.png"> <img id="background" style="position:absolute; left:1440px; top:77170px;" width="1440" height="1080" src="page-000065.png">
<div class="txt" style="position:absolute; left:33px; top:77277px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Diagramming specifications</span></div>
<div class="txt" style="position:absolute; left:1039px; top:77188px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:77414px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">Each point </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">in this space represents a </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">method implementation</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">. </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">每个</span></div>
<div class="txt" style="position:absolute; left:112px; top:77462px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">点代表一个实现</span></div>
<div class="txt" style="position:absolute; left:76px; top:77897px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">A specification </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">defines </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">a region </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">in the space of all possible</span></div>
<div class="txt" style="position:absolute; left:112px; top:77942px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">implementations. </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">一个规格说明定义了一个区域，其中包含的点为其</span></div>
<div class="txt" style="position:absolute; left:112px; top:77990px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">实现</span></div>
<div class="txt" style="position:absolute; left:76px; top:78065px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A given implementation either behaves according to the spec,</span></div>
<div class="txt" style="position:absolute; left:112px; top:78115px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">satisfying the precondition-implies-postcondition contract (it is</span></div>
<div class="txt" style="position:absolute; left:112px; top:78158px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">inside the region), or it does not (outside the region). </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">一个实现或者满</span></div>
<div class="txt" style="position:absolute; left:112px; top:78206px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">足规格说明</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">区域内</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">，或者不满足</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">区域外</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span></div>
<img id="background" style="position:absolute; left:0px; top:78375px;" width="1440" height="1080" src="page66.png"> <img id="background" style="position:absolute; left:1440px; top:78375px;" width="1440" height="1080" src="page-000066.png">
<div class="txt" style="position:absolute; left:33px; top:78482px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Diagramming specifications</span></div>
<div class="txt" style="position:absolute; left:1039px; top:78393px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:78622px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">When S2 is stronger than S1, it defines a </span><span id="f15" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">smaller </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">region in this</span></div>
<div class="txt" style="position:absolute; left:112px; top:78672px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">diagram; a weaker specification defines a larger region.</span></div>
<div class="txt" style="position:absolute; left:112px; top:78737px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Strengthening the postcondition: </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">For implementors, it means they have</span></div>
<div class="txt" style="position:absolute; left:148px; top:78776px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">less freedom, the requirements on their output are stronger. </span><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">加强后置条件</span></div>
<div class="txt" style="position:absolute; left:148px; top:78819px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">，意味着对输出要求更多，实现自由变少</span></div>
<div class="txt" style="position:absolute; left:112px; top:78884px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Weaken the precondition: </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Implementations will have to handle new</span></div>
<div class="txt" style="position:absolute; left:148px; top:78923px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">inputs that were previously excluded by the spec. </span><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">弱化前置条件，实现中</span></div>
<div class="txt" style="position:absolute; left:148px; top:78966px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">需要处理更多的情况</span></div>
<div class="txt" style="position:absolute; left:112px; top:79027px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">上述两点使可满足的实现变少</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">点变少</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">，故规格说明越强，区域越小</span></div>
<img id="background" style="position:absolute; left:0px; top:79580px;" width="1440" height="1080" src="page67.png"> <img id="background" style="position:absolute; left:1440px; top:79580px;" width="1440" height="1080" src="page-000067.png">
<div class="txt" style="position:absolute; left:1105px; top:79598px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:191px; top:79995px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(3) Designing good specifications</span></div>
<img id="background" style="position:absolute; left:0px; top:80785px;" width="1440" height="1080" src="page68.png"> <img id="background" style="position:absolute; left:1440px; top:80785px;" width="1440" height="1080" src="page-000068.png">
<div class="txt" style="position:absolute; left:33px; top:80892px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Quality of a specification</span></div>
<div class="txt" style="position:absolute; left:1039px; top:80803px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:81032px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">What makes a good method? Designing a method means primarily</span></div>
<div class="txt" style="position:absolute; left:112px; top:81077px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">writing a specification. </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">设计一个方法的首要任务是编写规格说明</span></div>
<div class="txt" style="position:absolute; left:76px; top:81152px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">About the form of the specification: it should obviously be succinct(</span></div>
<div class="txt" style="position:absolute; left:112px; top:81197px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">简洁的</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">), clear, and well-</span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">structured, so that it’s easy to read.</span></div>
<div class="txt" style="position:absolute; left:76px; top:81269px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The content of the specification, however, is harder to prescribe(</span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">指定</span></div>
<div class="txt" style="position:absolute; left:112px; top:81317px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">). There are no infallible(</span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">一贯正确的</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">) rules, but there are some useful</span></div>
<div class="txt" style="position:absolute; left:112px; top:81365px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">guidelines.(</span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">没有通用的准则，但存在一些有用的指导</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span></div>
<img id="background" style="position:absolute; left:0px; top:81990px;" width="1440" height="1080" src="page69.png"> <img id="background" style="position:absolute; left:1440px; top:81990px;" width="1440" height="1080" src="page-000069.png">
<div class="txt" style="position:absolute; left:1039px; top:82008px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:82092px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">The specification should be coherent(</span><span id="f11" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">内聚的</span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<div class="txt" style="position:absolute; left:76px; top:82237px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">The spec shouldn’t have lots of different cases</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">. Long argument lists,</span></div>
<div class="txt" style="position:absolute; left:112px; top:82287px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">deeply nested if-statements, and boolean flags are all signs of</span></div>
<div class="txt" style="position:absolute; left:112px; top:82335px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">trouble.</span></div>
<img id="background" style="position:absolute; left:0px; top:83195px;" width="1440" height="1080" src="page70.png"> <img id="background" style="position:absolute; left:1440px; top:83195px;" width="1440" height="1080" src="page-000070.png">
<div class="txt" style="position:absolute; left:1039px; top:83213px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:83297px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">The specification should be coherent(</span><span id="f11" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">内聚的</span><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<div class="txt" style="position:absolute; left:76px; top:83832px;"><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In addition to terrible use of global variables and printing instead of</span></div>
<div class="txt" style="position:absolute; left:112px; top:83882px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">returning , the specification is not coherent </span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">— </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">it does two different</span></div>
<div class="txt" style="position:absolute; left:112px; top:83930px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">things, </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">counting words and finding the longest word.</span></div>
<div class="txt" style="position:absolute; left:76px; top:83998px;"><span id="f14" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">How to improve:</span></div>
<div class="txt" style="position:absolute; left:112px; top:84060px;"><span id="f28" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Separating those two responsibilities into two different methods will make</span></div>
<div class="txt" style="position:absolute; left:148px; top:84103px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">them simpler (easy to understand) and more useful in other contexts</span></div>
<div class="txt" style="position:absolute; left:148px; top:84142px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">(ready for change). </span><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">分到两个方法中，易于理解，同时易于改变</span></div>
<img id="background" style="position:absolute; left:0px; top:84400px;" width="1440" height="1080" src="page71.png"> <img id="background" style="position:absolute; left:1440px; top:84400px;" width="1440" height="1080" src="page-000071.png">
<div class="txt" style="position:absolute; left:1039px; top:84418px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:84507px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">The results of a call should be informative</span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">(</span><span id="f12" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">提供信息的</span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">)</span></div>
<div class="txt" style="position:absolute; left:76px; top:85007px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If </span><span id="f19" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">null </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is returned, you can’t tell whether the key was not bound</span></div>
<div class="txt" style="position:absolute; left:112px; top:85056px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">previously, or whether it was in fact bound to </span><span id="f19" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">null</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:76px; top:85127px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">This is not a very good design, because the return value is useless</span></div>
<div class="txt" style="position:absolute; left:112px; top:85176px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">unless you know for sure that you didn’t insert </span><span id="f19" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">null</span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<img id="background" style="position:absolute; left:0px; top:85605px;" width="1440" height="1080" src="page72.png"> <img id="background" style="position:absolute; left:1440px; top:85605px;" width="1440" height="1080" src="page-000072.png">
<div class="txt" style="position:absolute; left:1039px; top:85623px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:85712px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">The specification should be strong enough</span></div>
<div class="txt" style="position:absolute; left:76px; top:85852px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">The spec should give clients a strong enough guarantee in the general</span></div>
<div class="txt" style="position:absolute; left:112px; top:85902px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">case </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">— </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">it needs to satisfy their basic requirements. </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">We must use extra</span></div>
<div class="txt" style="position:absolute; left:112px; top:85950px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">care when specifying the special cases, </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to make sure they don’t</span></div>
<div class="txt" style="position:absolute; left:112px; top:85993px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">undermine what would otherwise be a useful method. </span><span id="f24" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">确保通常情况的</span></div>
<div class="txt" style="position:absolute; left:112px; top:86041px;"><span id="f24" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">正确处理，同时也要对异常情况格外关注</span></div>
<div class="txt" style="position:absolute; left:76px; top:86116px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">For example, there’s no point throwing an exception for a bad</span></div>
<div class="txt" style="position:absolute; left:112px; top:86166px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">argument but allowing arbitrary mutations, because a client won’t be</span></div>
<div class="txt" style="position:absolute; left:112px; top:86214px;"><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">able to determine what mutations have actually been made. Here’s a</span></div>
<div class="txt" style="position:absolute; left:112px; top:86262px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">specification illustrating this flaw (and also written in an</span></div>
<div class="txt" style="position:absolute; left:112px; top:86305px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">inappropriately operational style): E.g.</span><span id="f24" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">，对不合理参数进行抛出异常处</span></div>
<div class="txt" style="position:absolute; left:112px; top:86353px;"><span id="f24" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">理后，不要允许随意的修改，否则会导致调用者不清楚实际发生了什么</span></div>
<div class="txt" style="position:absolute; left:76px; top:86572px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If a </span><span id="f45" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">NullPointerException </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is thrown, the client is left to figure out on</span></div>
<div class="txt" style="position:absolute; left:112px; top:86621px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">their own which elements of </span><span id="f45" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">list2 </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">actually made it to </span><span id="f45" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">list1 </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<img id="background" style="position:absolute; left:0px; top:86810px;" width="1440" height="1080" src="page73.png"> <img id="background" style="position:absolute; left:1440px; top:86810px;" width="1440" height="1080" src="page-000073.png">
<div class="txt" style="position:absolute; left:1039px; top:86828px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:86917px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">The specification should also be weak enough</span></div>
<div class="txt" style="position:absolute; left:76px; top:87273px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">This is a bad specification.</span></div>
<div class="txt" style="position:absolute; left:112px; top:87340px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">It lacks important details</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: is the file opened for reading or writing? Does</span></div>
<div class="txt" style="position:absolute; left:148px; top:87383px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">it already exist or is it created?</span></div>
<div class="txt" style="position:absolute; left:112px; top:87443px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">It’s too strong, since there’s no way it can guarantee to open a file</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">. The</span></div>
<div class="txt" style="position:absolute; left:148px; top:87487px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">process in which it runs may lack permission to open a file, or there might</span></div>
<div class="txt" style="position:absolute; left:148px; top:87530px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">be some problem with the file system beyond the control of the program.</span></div>
<div class="txt" style="position:absolute; left:76px; top:87596px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Instead, the specification should say something much weaker</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: it</span></div>
<div class="txt" style="position:absolute; left:112px; top:87645px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">attempts to open a file, and if it succeeds, the file has certain</span></div>
<div class="txt" style="position:absolute; left:112px; top:87693px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">properties.</span></div>
<img id="background" style="position:absolute; left:0px; top:88015px;" width="1440" height="1080" src="page74.png"> <img id="background" style="position:absolute; left:1440px; top:88015px;" width="1440" height="1080" src="page-000074.png">
<div class="txt" style="position:absolute; left:1039px; top:88033px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:33px; top:88121px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">The specification should use </span><span id="f11" style="font-size:56px;vertical-align:baseline;color:rgba(0,0,0,1);">abstract types</span></div>
<div class="txt" style="position:absolute; left:76px; top:88262px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstract notions like a </span><span id="f17" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">List </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">or </span><span id="f17" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">Set</span></div>
<div class="txt" style="position:absolute; left:76px; top:88334px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Particular implementations like </span><span id="f17" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">ArrayList </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">or </span><span id="f17" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">HashSet</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:76px; top:88406px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Writing our specification with abstract types gives more freedom</span></div>
<div class="txt" style="position:absolute; left:112px; top:88456px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to both the client and the implementer.</span></div>
<div class="txt" style="position:absolute; left:76px; top:88526px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In Java, </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">this often means using an interface type, </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">like </span><span id="f17" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">Map </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">or</span></div>
<div class="txt" style="position:absolute; left:112px; top:88575px;"><span id="f17" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">Reader</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, instead of specific implementation types like </span><span id="f17" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">HashMap </span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">or</span></div>
<div class="txt" style="position:absolute; left:112px; top:88623px;"><span id="f17" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">FileReader</span><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:76px; top:88910px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f43" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Since the behavior of the specification doesn’t depend on anything</span></div>
<div class="txt" style="position:absolute; left:112px; top:88960px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">specific about ArrayList, it would be better to write this spec in</span></div>
<div class="txt" style="position:absolute; left:112px; top:89008px;"><span id="f15" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">terms of the more abstract List.</span></div>
<img id="background" style="position:absolute; left:0px; top:89220px;" width="1440" height="1080" src="page75.png"> <img id="background" style="position:absolute; left:1440px; top:89220px;" width="1440" height="1080" src="page-000075.png">
<div class="txt" style="position:absolute; left:33px; top:89327px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Precondition or postcondition?</span></div>
<div class="txt" style="position:absolute; left:1039px; top:89238px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:89467px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Whether to use a precondition, and if so, whether the method code</span></div>
<div class="txt" style="position:absolute; left:112px; top:89517px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">should attempt to make sure the precondition has been met before</span></div>
<div class="txt" style="position:absolute; left:112px; top:89565px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">proceeding?</span></div>
<div class="txt" style="position:absolute; left:76px; top:89635px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">For programmer:</span></div>
<div class="txt" style="position:absolute; left:112px; top:89702px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The most common use of preconditions is to demand a property precisely</span></div>
<div class="txt" style="position:absolute; left:148px; top:89741px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">because it would be hard or expensive for the method to check it. </span><span id="f24" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">检查条</span></div>
<div class="txt" style="position:absolute; left:148px; top:89784px;"><span id="f24" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">件的正确性代价很高时，应该通过前置条件处理。</span></div>
<div class="txt" style="position:absolute; left:507px; top:90029px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,255,255,1);">If to check a condition would</span></div>
<div class="txt" style="position:absolute; left:505px; top:90077px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,255,255,1);">make a method unacceptably</span></div>
<div class="txt" style="position:absolute; left:515px; top:90125px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,255,255,1);">slow, a precondition is often</span></div>
<div class="txt" style="position:absolute; left:674px; top:90173px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(255,255,255,1);">necessary.</span></div>
<img id="background" style="position:absolute; left:0px; top:90425px;" width="1440" height="1080" src="page76.png"> <img id="background" style="position:absolute; left:1440px; top:90425px;" width="1440" height="1080" src="page-000076.png">
<div class="txt" style="position:absolute; left:33px; top:90532px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Precondition or postcondition?</span></div>
<div class="txt" style="position:absolute; left:1039px; top:90443px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:90672px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">For user: </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A non-trivial precondition inconveniences clients, because</span></div>
<div class="txt" style="position:absolute; left:112px; top:90722px;"><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">they have to ensure that they don’t call the method in a bad state</span></div>
<div class="txt" style="position:absolute; left:112px; top:90770px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(that violates the precondition); if they do, there is no predictable</span></div>
<div class="txt" style="position:absolute; left:112px; top:90818px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">way to recover from the error. </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">So users of methods don’t like</span></div>
<div class="txt" style="position:absolute; left:112px; top:90866px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">preconditions.</span></div>
<div class="txt" style="position:absolute; left:112px; top:90931px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Thus, </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Java API classes tend to specify (as a postcondition) that they throw</span></div>
<div class="txt" style="position:absolute; left:148px; top:90970px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">unchecked exceptions when arguments are inappropriate. </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Java API</span><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">类倾向</span></div>
<div class="txt" style="position:absolute; left:148px; top:91013px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">于采用后置条件的方式处理，当参数不合适时它们会抛出未检查异常。</span></div>
<div class="txt" style="position:absolute; left:112px; top:91078px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">This makes it easier to find the bug or incorrect assumption in the caller</span></div>
<div class="txt" style="position:absolute; left:148px; top:91117px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">code that led to passing bad arguments. </span><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">找到由传递的错误参数引起的</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">bug</span></div>
<div class="txt" style="position:absolute; left:148px; top:91160px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">更加容易</span></div>
<div class="txt" style="position:absolute; left:112px; top:91225px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">In general, it’s better to </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">fail fast </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, as close as possible to the site of the bug,</span></div>
<div class="txt" style="position:absolute; left:148px; top:91268px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">rather than let bad values propagate through a program far from their</span></div>
<div class="txt" style="position:absolute; left:148px; top:91307px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">original cause. </span><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">快速失败是好的决策，使失败点离</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">bug</span><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">尽可能的近，易于定</span></div>
<div class="txt" style="position:absolute; left:148px; top:91350px;"><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">位</span></div>
<img id="background" style="position:absolute; left:0px; top:91630px;" width="1440" height="1080" src="page77.png"> <img id="background" style="position:absolute; left:1440px; top:91630px;" width="1440" height="1080" src="page-000077.png">
<div class="txt" style="position:absolute; left:33px; top:91737px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Precondition or postcondition?</span></div>
<div class="txt" style="position:absolute; left:1039px; top:91648px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:91877px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The key factors are the </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">cost of the check </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(in writing and executing</span></div>
<div class="txt" style="position:absolute; left:112px; top:91922px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">code), and the </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">scope of the method</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">. </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">选择前置或后置的关键因素是检</span></div>
<div class="txt" style="position:absolute; left:112px; top:91970px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">查的代价以及方法的作用范围。</span></div>
<div class="txt" style="position:absolute; left:76px; top:92045px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f26" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If it’s only called locally in a class, the precondition can be</span></div>
<div class="txt" style="position:absolute; left:112px; top:92090px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">discharged by carefully checking all the sites that call the method. </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">如</span></div>
<div class="txt" style="position:absolute; left:112px; top:92141px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">仅在类的内部调用，则可以通过仔细检查调用该方法的所有位置来确</span></div>
<div class="txt" style="position:absolute; left:112px; top:92186px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">保前提条件的满足</span></div>
<div class="txt" style="position:absolute; left:76px; top:92261px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">If the method is public, and used by other developers, it would be</span></div>
<div class="txt" style="position:absolute; left:112px; top:92311px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">less wise to use a precondition. Instead, like the Java API classes, you</span></div>
<div class="txt" style="position:absolute; left:112px; top:92354px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">should throw an exception. </span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">如果是</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">public</span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">的方法，则适宜采用后置条</span></div>
<div class="txt" style="position:absolute; left:112px; top:92402px;"><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">件</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f21" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">抛出异常</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span></div>
<img id="background" style="position:absolute; left:0px; top:92835px;" width="1440" height="1080" src="page78.png"> <img id="background" style="position:absolute; left:1440px; top:92835px;" width="1440" height="1080" src="page-000078.png">
<div class="txt" style="position:absolute; left:1105px; top:92853px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:563px; top:93250px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary</span></div>
<img id="background" style="position:absolute; left:0px; top:94040px;" width="1440" height="1080" src="page79.png"> <img id="background" style="position:absolute; left:1440px; top:94040px;" width="1440" height="1080" src="page-000079.png">
<div class="txt" style="position:absolute; left:33px; top:94147px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary</span></div>
<div class="txt" style="position:absolute; left:1039px; top:94058px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:94287px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A specification acts as a crucial firewall between the implementer of</span></div>
<div class="txt" style="position:absolute; left:112px; top:94337px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">a procedure and its client.</span></div>
<div class="txt" style="position:absolute; left:76px; top:94407px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">It makes separate development possible: the client is free to write</span></div>
<div class="txt" style="position:absolute; left:112px; top:94457px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">code that uses the procedure without seeing its source code, and the</span></div>
<div class="txt" style="position:absolute; left:112px; top:94505px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">implementer is free to write the code that implements the procedure</span></div>
<div class="txt" style="position:absolute; left:112px; top:94553px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">without knowing how it will be used.</span></div>
<img id="background" style="position:absolute; left:0px; top:95245px;" width="1440" height="1080" src="page80.png"> <img id="background" style="position:absolute; left:1440px; top:95245px;" width="1440" height="1080" src="page-000080.png">
<div class="txt" style="position:absolute; left:33px; top:95352px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary</span></div>
<div class="txt" style="position:absolute; left:1039px; top:95263px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:95492px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Safe from bugs</span></div>
<div class="txt" style="position:absolute; left:112px; top:95559px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A good specification clearly documents the mutual assumptions that a</span></div>
<div class="txt" style="position:absolute; left:148px; top:95602px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">client and implementer are relying on. Bugs often come from</span></div>
<div class="txt" style="position:absolute; left:148px; top:95645px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">disagreements at the interfaces, and the presence of a specification reduces</span></div>
<div class="txt" style="position:absolute; left:148px; top:95688px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">that.</span></div>
<div class="txt" style="position:absolute; left:112px; top:95749px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Using machine-checked language features in your spec, like static typing</span></div>
<div class="txt" style="position:absolute; left:148px; top:95792px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and exceptions rather than just a human-readable comment, can reduce</span></div>
<div class="txt" style="position:absolute; left:148px; top:95835px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">bugs still more.</span></div>
<div class="txt" style="position:absolute; left:76px; top:95901px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Easy to understand</span></div>
<div class="txt" style="position:absolute; left:112px; top:95968px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A short, simple spec is easier to understand than the implementation itself,</span></div>
<div class="txt" style="position:absolute; left:148px; top:96011px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and saves other people from having to read the code.</span></div>
<div class="txt" style="position:absolute; left:76px; top:96077px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Ready for change</span></div>
<div class="txt" style="position:absolute; left:112px; top:96143px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Specs establish contracts between different parts of your code, allowing</span></div>
<div class="txt" style="position:absolute; left:148px; top:96187px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">those parts to change independently as long as they continue to satisfy the</span></div>
<div class="txt" style="position:absolute; left:148px; top:96230px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">requirements of the contract.</span></div>
<img id="background" style="position:absolute; left:0px; top:96450px;" width="1440" height="1080" src="page81.png"> <img id="background" style="position:absolute; left:1440px; top:96450px;" width="1440" height="1080" src="page-000081.png">
<div class="txt" style="position:absolute; left:33px; top:96557px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary</span></div>
<div class="txt" style="position:absolute; left:1039px; top:96468px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:96697px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Declarative specifications are the most useful in practice.</span></div>
<div class="txt" style="position:absolute; left:76px; top:96769px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Preconditions (which weaken the specification) make life harder for</span></div>
<div class="txt" style="position:absolute; left:112px; top:96819px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the client, but applied judiciously they are a vital tool in the software</span></div>
<div class="txt" style="position:absolute; left:112px; top:96867px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">designer’s repertoire, allowing the implementer to make necessary</span></div>
<div class="txt" style="position:absolute; left:112px; top:96915px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">assumptions.</span></div>
<img id="background" style="position:absolute; left:0px; top:97655px;" width="1440" height="1080" src="page82.png"> <img id="background" style="position:absolute; left:1440px; top:97655px;" width="1440" height="1080" src="page-000082.png">
<div class="txt" style="position:absolute; left:33px; top:97762px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary</span></div>
<div class="txt" style="position:absolute; left:1039px; top:97673px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">3.2 Designing Specification</span></div>
<div class="txt" style="position:absolute; left:76px; top:97902px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Safe from bugs.</span></div>
<div class="txt" style="position:absolute; left:112px; top:97969px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Without specifications, even the tiniest change to any part of our program</span></div>
<div class="txt" style="position:absolute; left:148px; top:98008px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">could be the tipped domino(</span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">多米诺骨牌</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">) that knocks the whole thing over.</span></div>
<div class="txt" style="position:absolute; left:112px; top:98072px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Well-structured, coherent specifications minimize misunderstandings and</span></div>
<div class="txt" style="position:absolute; left:148px; top:98116px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">maximize our ability to write correct code with the help of static checking,</span></div>
<div class="txt" style="position:absolute; left:148px; top:98159px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">careful reasoning, testing, and code review.</span></div>
<div class="txt" style="position:absolute; left:76px; top:98224px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Easy to understand</span></div>
<div class="txt" style="position:absolute; left:112px; top:98291px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A well-</span><span id="f33" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">written declarative specification means the client doesn’t have to</span></div>
<div class="txt" style="position:absolute; left:148px; top:98335px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">read or understand the code.</span></div>
<div class="txt" style="position:absolute; left:76px; top:98400px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Ready for change</span></div>
<div class="txt" style="position:absolute; left:112px; top:98467px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">An appropriately weak specification gives freedom to the implementer,</span></div>
<div class="txt" style="position:absolute; left:148px; top:98510px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and an appropriately strong specification gives freedom to the client.</span></div>
<div class="txt" style="position:absolute; left:112px; top:98571px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">We can even change the specs themselves, without having to revisit every</span></div>
<div class="txt" style="position:absolute; left:148px; top:98614px;"><span id="f33" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">place they’re used, as long as we’re only strengthening them: weakening</span></div>
<div class="txt" style="position:absolute; left:148px; top:98657px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">preconditions and strengthening postconditions.</span></div>
<img id="background" style="position:absolute; left:0px; top:98860px;" width="1440" height="1080" src="page83.png"> <img id="background" style="position:absolute; left:1440px; top:98860px;" width="1440" height="1080" src="page-000083.png">
<div class="txt" style="position:absolute; left:1105px; top:98878px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:590px; top:99275px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">The end</span></div>
<div class="txt" style="position:absolute; left:587px; top:99534px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">March 17, 2019</span></div>
</body></html>