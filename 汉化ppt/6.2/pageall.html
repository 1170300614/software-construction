<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head> <body onload="start()"><div style="background:#5c5c5f; color:#FFF"> <p align="center">&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;[&#x6DF1;&#x5BB9;Pubmed&#x6587;&#x732E;&#x68C0;&#x7D22;] &nbsp 1. &#x6B64;&#x5904;&#x53F3;&#x952E;&#xFF1A;&#x9009;&#x83DC;&#x5355;&#x3010;&#x7FFB;&#x6210;&#x4E2D;&#x6587;&#xFF08;&#x7B80;&#x4F53;&#xFF09;&#x3011; &nbsp &nbsp &nbsp  2. &#x7FFB;&#x8BD1;&#x540E;&#xFF0C;&#x6B64;&#x5904;&#x53F3;&#x952E;&#xFF1A;&#x9009;&#x83DC;&#x5355;&#x3010;&#x6253;&#x5370;...&#x3011;&#x6210;PDF&#x683C;&#x5F0F; <br>&#x5EFA;&#x8BAE;&#x5C4F;&#x5E55;&#x5206;&#x8FA8;&#x7387;&#xFF1A;1920X1080&#xFF1B;&#x5982;&#x679C;&#x5C4F;&#x5E55;&#x592A;&#x5C0F;&#xFF0C;&#x53EF;&#x4EE5;&#x6309;Ctrl + &#x6216; Ctrl -&#x7F29;&#x653E;&#x7F51;&#x9875;&#x3002;</p></div><style type="text/css"> .txt { white-space:nowrap; }	 #f0 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f1 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f2 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f3 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f4 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f5 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f6 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f7 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f8 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f9 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f10 { font-family:sans-serif; font-weight:normal; font-style:normal; }  #f11 { font-family:sans-serif; font-weight:normal; font-style:normal; }  #f12 { font-family:sans-serif; font-weight:normal; font-style:normal; } 	#f13 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f14 { font-family:sans-serif; font-weight:normal; font-style:normal; } #f15 { font-family:sans-serif; font-weight:normal; font-style:normal; } 	#f16 { font-family:sans-serif; font-weight:normal; font-style:normal; }	 #f17 { font-family:sans-serif; font-weight:normal; font-style:normal; } #f18 { font-family:sans-serif; font-weight:normal; font-style:normal; } #f19 { font-family:sans-serif; font-weight:normal; font-style:normal; }		#f20 { font-family:sans-serif; font-weight:normal; font-style:normal; }		</style><img id="background" style="position:absolute; left:0px; top:50px;" width="1440" height="1080" src="page1.png"> <img id="background" style="position:absolute; left:1440px; top:50px;" width="1440" height="1080" src="page-000001.png">
<div class="txt" style="position:absolute; left:1105px; top:68px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:156px; top:275px;"><span id="f9" style="font-size:55px;vertical-align:baseline;color:rgba(0,0,0,1);">Chapter 6: Maintainability-Oriented Software</span></div>
<div class="txt" style="position:absolute; left:401px; top:342px;"><span id="f9" style="font-size:55px;vertical-align:baseline;color:rgba(0,0,0,1);">Construction Approaches</span></div>
<div class="txt" style="position:absolute; left:347px; top:413px;"><span id="f19" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for</span></div>
<div class="txt" style="position:absolute; left:460px; top:500px;"><span id="f19" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Maintainability</span></div>
<div class="txt" style="position:absolute; left:601px; top:719px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Xu hanchuan</span></div>
<div class="txt" style="position:absolute; left:582px; top:772px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(255,98,176,1);">Xhc@hit.edu.cn</span></div>
<div class="txt" style="position:absolute; left:597px; top:877px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">April 17, 2019</span></div>
<img id="background" style="position:absolute; left:0px; top:1050px;" width="1440" height="1080" src="page2.png"> <img id="background" style="position:absolute; left:1440px; top:1050px;" width="1440" height="1080" src="page-000002.png">
<div class="txt" style="position:absolute; left:33px; top:1157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Outline</span></div>
<div class="txt" style="position:absolute; left:872px; top:1068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:1297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Creational patterns</span></div>
<div class="txt" style="position:absolute; left:112px; top:1364px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Factory method pattern </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">creates objects without specifying the exact class</span></div>
<div class="txt" style="position:absolute; left:148px; top:1407px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">to create.</span></div>
<div class="txt" style="position:absolute; left:112px; top:1467px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Abstract factory pattern </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">groups object factories that have a common</span></div>
<div class="txt" style="position:absolute; left:148px; top:1511px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">theme.</span></div>
<div class="txt" style="position:absolute; left:112px; top:1571px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Builder pattern </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">constructs complex objects by separating construction and</span></div>
<div class="txt" style="position:absolute; left:148px; top:1614px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">representation.</span></div>
<div class="txt" style="position:absolute; left:76px; top:1680px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Structural patterns</span></div>
<div class="txt" style="position:absolute; left:112px; top:1747px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Bridge </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">decouples an abstraction from its implementation so that the two</span></div>
<div class="txt" style="position:absolute; left:148px; top:1790px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">can vary independently.</span></div>
<div class="txt" style="position:absolute; left:112px; top:1850px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Proxy </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">provides a placeholder for another object to control access, reduce</span></div>
<div class="txt" style="position:absolute; left:148px; top:1894px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">cost, and reduce complexity.</span></div>
<div class="txt" style="position:absolute; left:112px; top:1954px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Composite </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">composes zero-or-more similar objects so that they can be</span></div>
<div class="txt" style="position:absolute; left:148px; top:1997px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">manipulated as one object.</span></div>
<img id="background" style="position:absolute; left:0px; top:2050px;" width="1440" height="1080" src="page3.png"> <img id="background" style="position:absolute; left:1440px; top:2050px;" width="1440" height="1080" src="page-000003.png">
<div class="txt" style="position:absolute; left:33px; top:2157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Outline</span></div>
<div class="txt" style="position:absolute; left:872px; top:2068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:2297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Behavioral patterns</span></div>
<div class="txt" style="position:absolute; left:112px; top:2364px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Observer </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is a publish/subscribe pattern which allows a number of</span></div>
<div class="txt" style="position:absolute; left:148px; top:2407px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">observer objects to see an event.</span></div>
<div class="txt" style="position:absolute; left:112px; top:2467px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Mediator </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">allows loose coupling between classes by being the only class</span></div>
<div class="txt" style="position:absolute; left:148px; top:2511px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">that has detailed knowledge of their methods.</span></div>
<div class="txt" style="position:absolute; left:112px; top:2571px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Visitor </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">separates an algorithm from an object structure by moving the</span></div>
<div class="txt" style="position:absolute; left:148px; top:2614px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">hierarchy of methods into one object.</span></div>
<div class="txt" style="position:absolute; left:112px; top:2675px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Chain of responsibility </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">delegates commands to a chain of processing</span></div>
<div class="txt" style="position:absolute; left:148px; top:2718px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">objects.</span></div>
<div class="txt" style="position:absolute; left:112px; top:2778px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Command </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">creates objects which encapsulate actions and parameters.</span></div>
<img id="background" style="position:absolute; left:0px; top:3050px;" width="1440" height="1080" src="page4.png"> <img id="background" style="position:absolute; left:1440px; top:3050px;" width="1440" height="1080" src="page-000004.png">
<div class="txt" style="position:absolute; left:33px; top:3157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Gang of Four</span></div>
<div class="txt" style="position:absolute; left:872px; top:3068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:3297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Design Patterns: Elements of Reusable</span></div>
<div class="txt" style="position:absolute; left:112px; top:3347px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Object-Oriented Software</span></div>
<div class="txt" style="position:absolute; left:76px; top:3417px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">By GoF (Gang of Four)</span></div>
<div class="txt" style="position:absolute; left:112px; top:3484px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Erich Gamma</span></div>
<div class="txt" style="position:absolute; left:112px; top:3544px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Richard Helm</span></div>
<div class="txt" style="position:absolute; left:112px; top:3605px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Ralph Johnson</span></div>
<div class="txt" style="position:absolute; left:112px; top:3665px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">John Vlissides</span></div>
<img id="background" style="position:absolute; left:0px; top:4050px;" width="1440" height="1080" src="page5.png"> <img id="background" style="position:absolute; left:1440px; top:4050px;" width="1440" height="1080" src="page-000005.png">
<div class="txt" style="position:absolute; left:33px; top:4157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Design patterns taxonomy</span></div>
<div class="txt" style="position:absolute; left:872px; top:4068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:4297px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Creational patterns</span></div>
<div class="txt" style="position:absolute; left:112px; top:4364px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Concern the process of object creation</span></div>
<div class="txt" style="position:absolute; left:76px; top:4429px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Structural patterns</span></div>
<div class="txt" style="position:absolute; left:112px; top:4496px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Deal with the composition of classes or objects</span></div>
<div class="txt" style="position:absolute; left:76px; top:4562px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Behavioral patterns</span></div>
<div class="txt" style="position:absolute; left:112px; top:4629px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Characterize the ways in which classes or objects interact and distribute</span></div>
<div class="txt" style="position:absolute; left:148px; top:4672px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">responsibility.</span></div>
<img id="background" style="position:absolute; left:0px; top:5050px;" width="1440" height="1080" src="page6.png"> <img id="background" style="position:absolute; left:1440px; top:5050px;" width="1440" height="1080" src="page-000006.png">
<div class="txt" style="position:absolute; left:1105px; top:5068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:386px; top:5465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">1 Creational patterns</span></div>
<img id="background" style="position:absolute; left:0px; top:6050px;" width="1440" height="1080" src="page7.png"> <img id="background" style="position:absolute; left:1440px; top:6050px;" width="1440" height="1080" src="page-000007.png">
<div class="txt" style="position:absolute; left:1105px; top:6068px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:290px; top:6465px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(1) Factory Method pattern</span></div>
<img id="background" style="position:absolute; left:0px; top:7050px;" width="1440" height="1080" src="page8.png"> <img id="background" style="position:absolute; left:1440px; top:7050px;" width="1440" height="1080" src="page-000008.png">
<div class="txt" style="position:absolute; left:872px; top:7068px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:33px; top:7157px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:407px; top:7284px;"><span id="f70" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstract product</span></div>
<div class="txt" style="position:absolute; left:228px; top:7384px;"><span id="f70" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Concrete product 1</span></div>
<div class="txt" style="position:absolute; left:701px; top:7147px;"><span id="f11" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">public interface Trace </span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:793px; top:7180px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// turn on and off debugging</span></div>
<div class="txt" style="position:absolute; left:793px; top:7214px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void setDebug( boolean debug );</span></div>
<div class="txt" style="position:absolute; left:793px; top:7248px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// write out a debug message</span></div>
<div class="txt" style="position:absolute; left:793px; top:7281px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void debug( String message );</span></div>
<div class="txt" style="position:absolute; left:793px; top:7315px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// write out an error message</span></div>
<div class="txt" style="position:absolute; left:793px; top:7348px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void error( String message );</span></div>
<div class="txt" style="position:absolute; left:701px; top:7382px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:228px; top:7444px;"><span id="f11" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">public class FileTrace implements Trace </span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:321px; top:7477px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private PrintWriter pw;</span></div>
<div class="txt" style="position:absolute; left:321px; top:7511px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private boolean debug;</span></div>
<div class="txt" style="position:absolute; left:321px; top:7544px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public FileTrace() throws IOException {</span></div>
<div class="txt" style="position:absolute; left:372px; top:7578px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">pw = new PrintWriter( new FileWriter( "t.log" ) );</span></div>
<div class="txt" style="position:absolute; left:321px; top:7612px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:321px; top:7645px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void setDebug( boolean debug ) {</span></div>
<div class="txt" style="position:absolute; left:372px; top:7679px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.debug = debug;</span></div>
<div class="txt" style="position:absolute; left:321px; top:7712px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:321px; top:7746px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void debug( String message ) {</span></div>
<div class="txt" style="position:absolute; left:352px; top:7780px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">if( debug ) {</span></div>
<div class="txt" style="position:absolute; left:434px; top:7813px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">pw.println( "DEBUG: " + message );</span></div>
<div class="txt" style="position:absolute; left:434px; top:7847px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">pw.flush();</span></div>
<div class="txt" style="position:absolute; left:352px; top:7880px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:321px; top:7914px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:321px; top:7948px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void error( String message ) {</span></div>
<div class="txt" style="position:absolute; left:352px; top:7981px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">pw.println( "ERROR: " + message );</span></div>
<div class="txt" style="position:absolute; left:352px; top:8015px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">pw.flush();</span></div>
<div class="txt" style="position:absolute; left:321px; top:8048px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:228px; top:8082px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:9746px;" width="1440" height="1080" src="page9.png"> <img id="background" style="position:absolute; left:1440px; top:9746px;" width="1440" height="1080" src="page-000009.png">
<div class="txt" style="position:absolute; left:872px; top:9764px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:33px; top:9853px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:409px; top:9997px;"><span id="f55" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstract product</span></div>
<div class="txt" style="position:absolute; left:701px; top:9843px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public interface Trace {</span></div>
<div class="txt" style="position:absolute; left:793px; top:9876px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// turn on and off debugging</span></div>
<div class="txt" style="position:absolute; left:793px; top:9910px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void setDebug( boolean debug );</span></div>
<div class="txt" style="position:absolute; left:793px; top:9944px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// write out a debug message</span></div>
<div class="txt" style="position:absolute; left:793px; top:9977px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void debug( String message );</span></div>
<div class="txt" style="position:absolute; left:793px; top:10011px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// write out an error message</span></div>
<div class="txt" style="position:absolute; left:793px; top:10044px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void error( String message );</span></div>
<div class="txt" style="position:absolute; left:701px; top:10078px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:116px; top:10185px;"><span id="f55" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Concrete product 2</span></div>
<div class="txt" style="position:absolute; left:67px; top:10514px;"><span id="f55" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">How to use?</span></div>
<div class="txt" style="position:absolute; left:454px; top:10138px;"><span id="f11" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">public class SystemTrace implements Trace </span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:547px; top:10171px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private boolean debug;</span></div>
<div class="txt" style="position:absolute; left:547px; top:10205px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void setDebug( boolean debug ) {</span></div>
<div class="txt" style="position:absolute; left:578px; top:10238px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.debug = debug;</span></div>
<div class="txt" style="position:absolute; left:547px; top:10272px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:547px; top:10306px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void debug( String message ) {</span></div>
<div class="txt" style="position:absolute; left:578px; top:10339px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">if( debug )</span></div>
<div class="txt" style="position:absolute; left:624px; top:10373px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println( "DEBUG: " + message );</span></div>
<div class="txt" style="position:absolute; left:547px; top:10406px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:547px; top:10440px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void error( String message ) {</span></div>
<div class="txt" style="position:absolute; left:578px; top:10474px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println( "ERROR: " + message );</span></div>
<div class="txt" style="position:absolute; left:547px; top:10507px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:454px; top:10541px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:80px; top:10613px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">//... some code ...</span></div>
<div class="txt" style="position:absolute; left:80px; top:10647px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">SystemTrace log1 = new SystemTrace();</span></div>
<div class="txt" style="position:absolute; left:80px; top:10680px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">log1.debug("entering log");</span></div>
<div class="txt" style="position:absolute; left:80px; top:10748px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">FileTrace log2 = new FileTrace();</span></div>
<div class="txt" style="position:absolute; left:80px; top:10781px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">log2.debug("... ");</span></div>
<div class="txt" style="position:absolute; left:724px; top:10683px;"><span id="f59" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The client code is tightly coupled with</span></div>
<div class="txt" style="position:absolute; left:718px; top:10726px;"><span id="f61" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">concrete products with “</span><span id="f59" style="font-size:36px;vertical-align:baseline;color:rgba(192,0,0,1);">new</span><span id="f61" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">” method.</span></div>
<img id="background" style="position:absolute; left:0px; top:10958px;" width="1440" height="1080" src="page10.png"> <img id="background" style="position:absolute; left:1440px; top:10958px;" width="1440" height="1080" src="page-000010.png">
<div class="txt" style="position:absolute; left:33px; top:11065px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Static Factory Method</span></div>
<div class="txt" style="position:absolute; left:872px; top:10976px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:11205px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The normal way for a class to allow a client to obtain an instance of</span></div>
<div class="txt" style="position:absolute; left:112px; top:11255px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">itself is to provide a </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">public constructor.</span></div>
<div class="txt" style="position:absolute; left:76px; top:11325px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">A class can provide its clients with </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">static factory methods </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">instead</span></div>
<div class="txt" style="position:absolute; left:112px; top:11375px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">of, or inaddition to, constructors.</span></div>
<div class="txt" style="position:absolute; left:209px; top:11512px;"><span id="f25" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">public static Boolean valueOf(boolean b) {</span></div>
<div class="txt" style="position:absolute; left:288px; top:11555px;"><span id="f25" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">return b ? Boolean.TRUE : Boolean.FALSE;</span></div>
<div class="txt" style="position:absolute; left:209px; top:11598px;"><span id="f25" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:12170px;" width="1440" height="1080" src="page11.png"> <img id="background" style="position:absolute; left:1440px; top:12170px;" width="1440" height="1080" src="page-000011.png">
<div class="txt" style="position:absolute; left:33px; top:12277px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Static Factory Method</span></div>
<div class="txt" style="position:absolute; left:872px; top:12188px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:286px; top:12439px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public class TraceFactory1 {</span></div>
<div class="txt" style="position:absolute; left:379px; top:12472px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f16" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">static </span><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Trace getTrace() {</span></div>
<div class="txt" style="position:absolute; left:472px; top:12506px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">return new SystemTrace();</span></div>
<div class="txt" style="position:absolute; left:379px; top:12540px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:286px; top:12573px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:286px; top:12640px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public class TraceFactory2 {</span></div>
<div class="txt" style="position:absolute; left:379px; top:12674px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f16" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">static </span><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Trace getTrace(</span><span id="f16" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">String type</span><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">) {</span></div>
<div class="txt" style="position:absolute; left:430px; top:12708px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">if(type.equals("file")</span></div>
<div class="txt" style="position:absolute; left:492px; top:12741px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">return new FileTrace();</span></div>
<div class="txt" style="position:absolute; left:430px; top:12775px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">else if (type.equals("system")</span></div>
<div class="txt" style="position:absolute; left:492px; top:12808px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">return new SystemTrace();</span></div>
<div class="txt" style="position:absolute; left:379px; top:12842px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:286px; top:12876px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:287px; top:13003px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">//... some code ...</span></div>
<div class="txt" style="position:absolute; left:287px; top:13036px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Trace log = TraceFactory1.getTrace();</span></div>
<div class="txt" style="position:absolute; left:287px; top:13070px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">log.debug("entering log");</span></div>
<div class="txt" style="position:absolute; left:287px; top:13137px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Trace log = TraceFactory2.getTrace("system");</span></div>
<div class="txt" style="position:absolute; left:287px; top:13171px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">log.debug("...");</span></div>
<img id="background" style="position:absolute; left:0px; top:13382px;" width="1440" height="1080" src="page12.png"> <img id="background" style="position:absolute; left:1440px; top:13382px;" width="1440" height="1080" src="page-000012.png">
<div class="txt" style="position:absolute; left:33px; top:13489px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Static Factory Method</span></div>
<div class="txt" style="position:absolute; left:872px; top:13400px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:13629px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Advantages:</span></div>
<div class="txt" style="position:absolute; left:112px; top:13692px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Unlike constructors, they have names. </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">有名字，易于理解。</span></div>
<div class="txt" style="position:absolute; left:112px; top:13756px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Unlike constructors, they are not required to create a new object each time</span></div>
<div class="txt" style="position:absolute; left:148px; top:13795px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">they’re invoked. </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">不必一定要创建新对象，可以使用缓存等技术。</span></div>
<div class="txt" style="position:absolute; left:112px; top:13860px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Unlike constructors, they can return an object of any subtype of their</span></div>
<div class="txt" style="position:absolute; left:148px; top:13899px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">return type. </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">可以返回原返回类型的任何子类型。</span></div>
<div class="txt" style="position:absolute; left:76px; top:14012px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Disadvantages:</span></div>
<div class="txt" style="position:absolute; left:112px; top:14079px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The factory class includes the creation logic of all instances (products).</span></div>
<div class="txt" style="position:absolute; left:148px; top:14122px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Once the factory does not work properly, the whole system will be</span></div>
<div class="txt" style="position:absolute; left:148px; top:14161px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">affected. </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">集中控制对象创建，一旦出现问题，则会影响整个系统</span></div>
<div class="txt" style="position:absolute; left:112px; top:14226px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">It violates the Open-Close Principle, once a new product is added, the</span></div>
<div class="txt" style="position:absolute; left:148px; top:14269px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">logic of the factory class has to be modified, which will cause the factory</span></div>
<div class="txt" style="position:absolute; left:148px; top:14308px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">logic to be too complex. </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">违反了开闭原则，一旦增加新的类的对象创建，则</span></div>
<div class="txt" style="position:absolute; left:148px; top:14351px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">需要修改代码</span></div>
<img id="background" style="position:absolute; left:0px; top:14594px;" width="1440" height="1080" src="page13.png"> <img id="background" style="position:absolute; left:1440px; top:14594px;" width="1440" height="1080" src="page-000013.png">
<div class="txt" style="position:absolute; left:33px; top:14701px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Factory Method Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:14612px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:14841px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Also known as “Virtual Constructor”</span></div>
<div class="txt" style="position:absolute; left:76px; top:14913px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Intent:</span></div>
<div class="txt" style="position:absolute; left:112px; top:14980px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Define an interface </span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">for creating an object</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, but let subclasses decide which</span></div>
<div class="txt" style="position:absolute; left:148px; top:15019px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">class to instantiate. </span><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">通过定义工厂父类负责定义创建对象的公共接口，而工</span></div>
<div class="txt" style="position:absolute; left:148px; top:15062px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">厂子类则负责生成具体的对象。</span></div>
<img id="background" style="position:absolute; left:0px; top:15806px;" width="1440" height="1080" src="page14.png"> <img id="background" style="position:absolute; left:1440px; top:15806px;" width="1440" height="1080" src="page-000014.png">
<div class="txt" style="position:absolute; left:33px; top:15913px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:65px; top:15996px;"><span id="f11" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">public abstract class TraceFactory </span><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:158px; top:16029px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public abstract Trace getTrace();</span></div>
<div class="txt" style="position:absolute; left:158px; top:16063px;"><span id="f20" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">//other methods…</span></div>
<div class="txt" style="position:absolute; left:65px; top:16096px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:872px; top:15824px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:65px; top:16197px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public class SystemTraceFactory extends TraceFactory {</span></div>
<div class="txt" style="position:absolute; left:158px; top:16231px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public Trace getTrace() {</span></div>
<div class="txt" style="position:absolute; left:251px; top:16264px;"><span id="f20" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">… //other operations</span></div>
<div class="txt" style="position:absolute; left:251px; top:16298px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">return new SystemTrace();</span></div>
<div class="txt" style="position:absolute; left:158px; top:16332px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:65px; top:16365px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:65px; top:16432px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public class FileTraceFactory extends TraceFactory {</span></div>
<div class="txt" style="position:absolute; left:158px; top:16466px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public Trace getTrace() {</span></div>
<div class="txt" style="position:absolute; left:255px; top:16500px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">return new FileTrace();</span></div>
<div class="txt" style="position:absolute; left:158px; top:16533px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:65px; top:16567px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:326px; top:16578px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">//... some code ...</span></div>
<div class="txt" style="position:absolute; left:326px; top:16612px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">TraceFactory traceFactory = new SystemTraceFactory();</span></div>
<div class="txt" style="position:absolute; left:326px; top:16645px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Trace log = traceFactory.getTrace();</span></div>
<div class="txt" style="position:absolute; left:326px; top:16679px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">log.debug("entering log");</span></div>
<div class="txt" style="position:absolute; left:326px; top:16746px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">traceFactory = new FileTraceFactory();</span></div>
<div class="txt" style="position:absolute; left:326px; top:16780px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">log = traceFactory.getTrace();</span></div>
<div class="txt" style="position:absolute; left:326px; top:16813px;"><span id="f15" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">log.debug("...");</span></div>
<img id="background" style="position:absolute; left:0px; top:17018px;" width="1440" height="1080" src="page15.png"> <img id="background" style="position:absolute; left:1440px; top:17018px;" width="1440" height="1080" src="page-000015.png">
<div class="txt" style="position:absolute; left:33px; top:17125px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Factory Method Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:17036px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:17260px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">When should we use Factory Method? ---- When a class:</span></div>
<div class="txt" style="position:absolute; left:112px; top:17319px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Can’t predict the class of the objects it needs to create. </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">当一个类不知道它所</span></div>
<div class="txt" style="position:absolute; left:148px; top:17361px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">需要的对象的类时。在工厂方法模式中，客户端不需要知道具体产品类的</span></div>
<div class="txt" style="position:absolute; left:148px; top:17396px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">类名，只需要知道所对应的工厂即可。</span></div>
<div class="txt" style="position:absolute; left:112px; top:17453px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Wants its subclasses to specify the objects that it creates.</span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">当一个类希望通过</span></div>
<div class="txt" style="position:absolute; left:148px; top:17495px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">其子类来指定创建对象时。在工厂方法模式中，对于抽象工厂类只需要提</span></div>
<div class="txt" style="position:absolute; left:148px; top:17533px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">供一个创建产品的接口，而由其子类来确定具体要创建的对象，利用面向</span></div>
<div class="txt" style="position:absolute; left:148px; top:17569px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">对象的多态性和</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Liskov</span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">原则，在程序运行时，子类对象将覆盖父类对象，</span></div>
<div class="txt" style="position:absolute; left:148px; top:17608px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">从而使得系统更容易扩展。</span></div>
<div class="txt" style="position:absolute; left:112px; top:17668px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Delegates responsibility to one of multiple helper subclasses, and you</span></div>
<div class="txt" style="position:absolute; left:148px; top:17703px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">need to localize the knowledge of which helper is the delegate.</span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">将创建对象</span></div>
<div class="txt" style="position:absolute; left:148px; top:17745px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">的任务委托给多个工厂子类中的某一个，客户端在使用时可以无须关心是</span></div>
<div class="txt" style="position:absolute; left:148px; top:17781px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">哪一个工厂子类创建产品子类，需要时再动态指定。</span></div>
<img id="background" style="position:absolute; left:0px; top:18230px;" width="1440" height="1080" src="page16.png"> <img id="background" style="position:absolute; left:1440px; top:18230px;" width="1440" height="1080" src="page-000016.png">
<div class="txt" style="position:absolute; left:33px; top:18337px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Factory Method Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:18248px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:18477px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Advantage:</span></div>
<div class="txt" style="position:absolute; left:112px; top:18544px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Eliminates the need to bind application-specific classes to your code.</span></div>
<div class="txt" style="position:absolute; left:112px; top:18604px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Code deals only with the Product interface (</span><span id="f22" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Trace</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">), so it can work with any</span></div>
<div class="txt" style="position:absolute; left:148px; top:18643px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">user-defined ConcreteProduct (</span><span id="f22" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">FileTrace</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">, </span><span id="f22" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">SystemTrace</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">). </span><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">代码同接口绑定</span></div>
<div class="txt" style="position:absolute; left:148px; top:18687px;"><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">，不同具体类绑定。</span></div>
<div class="txt" style="position:absolute; left:112px; top:18747px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">符合</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">OCP</span><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">原则和单一责任原则。</span></div>
<div class="txt" style="position:absolute; left:76px; top:18817px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Potential Disadvantages</span></div>
<div class="txt" style="position:absolute; left:112px; top:18884px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Clients may have to make a subclass of the Creator, just so they can create a</span></div>
<div class="txt" style="position:absolute; left:148px; top:18923px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">certain ConcreteProduct. </span><span id="f35" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">每增加一种产品就需要增加一个新的工厂子类。</span></div>
<div class="txt" style="position:absolute; left:112px; top:18987px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">This would be acceptable if the client has to subclass the Creator anyway,</span></div>
<div class="txt" style="position:absolute; left:148px; top:19031px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">but if not then the client has to deal with another point of evolution.</span></div>
<img id="background" style="position:absolute; left:0px; top:19442px;" width="1440" height="1080" src="page17.png"> <img id="background" style="position:absolute; left:1440px; top:19442px;" width="1440" height="1080" src="page-000017.png">
<div class="txt" style="position:absolute; left:1105px; top:19460px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:280px; top:19856px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(2) Abstract Factory Pattern</span></div>
<img id="background" style="position:absolute; left:0px; top:20654px;" width="1440" height="1080" src="page18.png"> <img id="background" style="position:absolute; left:1440px; top:20654px;" width="1440" height="1080" src="page-000018.png">
<div class="txt" style="position:absolute; left:872px; top:20672px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:33px; top:20761px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstract Factory Pattern Motivation</span></div>
<div class="txt" style="position:absolute; left:76px; top:20901px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Consider a user interface toolkit that supports multiple looks and feel</span></div>
<div class="txt" style="position:absolute; left:112px; top:20946px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">standards for different operating systems: </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">一个用户界面工具包，能够</span></div>
<div class="txt" style="position:absolute; left:112px; top:20994px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">支持不同操作系统的多种外观风格 ，如何采用单一的接口实现？</span></div>
<div class="txt" style="position:absolute; left:112px; top:21064px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Example: How can you write a single user interface and make it portable</span></div>
<div class="txt" style="position:absolute; left:148px; top:21103px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">across the different look and feel standards for these window managers? </span><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">？</span></div>
<div class="txt" style="position:absolute; left:76px; top:21173px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Consider a facility management system for an intelligent house that</span></div>
<div class="txt" style="position:absolute; left:112px; top:21218px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">supports different control systems: </span><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">智能家居中的不同控制系统，如何</span></div>
<div class="txt" style="position:absolute; left:112px; top:21266px;"><span id="f17" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">设计单一的控制系统接口实现管理？</span></div>
<div class="txt" style="position:absolute; left:112px; top:21335px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">How can you write a single control system that is independent from the</span></div>
<div class="txt" style="position:absolute; left:148px; top:21379px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">manufacturer?</span></div>
<img id="background" style="position:absolute; left:0px; top:21866px;" width="1440" height="1080" src="page19.png"> <img id="background" style="position:absolute; left:1440px; top:21866px;" width="1440" height="1080" src="page-000019.png">
<div class="txt" style="position:absolute; left:33px; top:21973px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstract Factory pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:21884px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:22113px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Name</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstract Factory (or Kit)</span></div>
<div class="txt" style="position:absolute; left:76px; top:22185px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Intent</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">: allow creation of families of related objects independent of</span></div>
<div class="txt" style="position:absolute; left:112px; top:22230px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">implementation </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">提供一个创建一系列相关或相互依赖对象的接口，而</span></div>
<div class="txt" style="position:absolute; left:112px; top:22278px;"><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">无需指定它们具体的类</span></div>
<div class="txt" style="position:absolute; left:76px; top:22353px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Approach: </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Using a factory to return factories that can be used to</span></div>
<div class="txt" style="position:absolute; left:112px; top:22398px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">create sets of related objects. </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">使用工厂返回可用于创建相关对象集的</span></div>
<div class="txt" style="position:absolute; left:112px; top:22446px;"><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">工厂。</span></div>
<div class="txt" style="position:absolute; left:76px; top:22521px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">The abstract factory pattern extends the factory method pattern by</span></div>
<div class="txt" style="position:absolute; left:112px; top:22566px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">allowing more types of objects to be produced. </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">抽象工厂模式是对工</span></div>
<div class="txt" style="position:absolute; left:112px; top:22614px;"><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">厂模式的扩展，允许一个工厂创建更多类型的对象</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">或者组合更多的对</span></div>
<div class="txt" style="position:absolute; left:112px; top:22662px;"><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">象构成产品</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">，而工厂模式中一个对象只允许创建一个对象。</span></div>
<div class="txt" style="position:absolute; left:76px; top:22806px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f22" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">将关联零件组装成产品</span></div>
<img id="background" style="position:absolute; left:0px; top:23078px;" width="1440" height="1080" src="page20.png"> <img id="background" style="position:absolute; left:1440px; top:23078px;" width="1440" height="1080" src="page-000020.png">
<div class="txt" style="position:absolute; left:33px; top:23185px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstract Factory pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:23096px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:23325px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Applicability</span></div>
<div class="txt" style="position:absolute; left:112px; top:23392px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A system should be independent of how its products are created,</span></div>
<div class="txt" style="position:absolute; left:148px; top:23432px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">composed, and represented.</span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">一个系统要独立于它的产品的创建、组合</span></div>
<div class="txt" style="position:absolute; left:148px; top:23479px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">和表示时。</span></div>
<div class="txt" style="position:absolute; left:112px; top:23549px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A system should be configured with one of multiple families of products.</span></div>
<div class="txt" style="position:absolute; left:148px; top:23588px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">一个系统要由多个产品系列中的一个来配置时。</span></div>
<div class="txt" style="position:absolute; left:112px; top:23658px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">A family of related product objects is designed to be used together, and</span></div>
<div class="txt" style="position:absolute; left:148px; top:23699px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">you need to enforce this constraint.</span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">当你要强调一系列相关的产品对象</span></div>
<div class="txt" style="position:absolute; left:148px; top:23746px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">的设计以便进行联合使用时。</span></div>
<div class="txt" style="position:absolute; left:112px; top:23815px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">You want to provide a class library of products, and you want to reveal</span></div>
<div class="txt" style="position:absolute; left:148px; top:23856px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">just their interfaces, not their implementations </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">当你提供一个产品类库，</span></div>
<div class="txt" style="position:absolute; left:148px; top:23906px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">而只想显示它们的接口而不是实现时，所有产品以同样的接口出现</span></div>
<div class="txt" style="position:absolute; left:148px; top:23951px;"><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">，客户端不需要依赖具体实现。</span></div>
<img id="background" style="position:absolute; left:0px; top:24290px;" width="1440" height="1080" src="page21.png"> <img id="background" style="position:absolute; left:1440px; top:24290px;" width="1440" height="1080" src="page-000021.png">
<div class="txt" style="position:absolute; left:33px; top:24397px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Structure of Abstract Factory</span></div>
<div class="txt" style="position:absolute; left:872px; top:24308px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<img id="background" style="position:absolute; left:0px; top:25502px;" width="1440" height="1080" src="page22.png"> <img id="background" style="position:absolute; left:1440px; top:25502px;" width="1440" height="1080" src="page-000022.png">
<div class="txt" style="position:absolute; left:33px; top:25609px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:25520px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<img id="background" style="position:absolute; left:0px; top:26714px;" width="1440" height="1080" src="page23.png"> <img id="background" style="position:absolute; left:1440px; top:26714px;" width="1440" height="1080" src="page-000023.png">
<div class="txt" style="position:absolute; left:1105px; top:26732px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:551px; top:27129px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(3) Builder</span></div>
<img id="background" style="position:absolute; left:0px; top:27926px;" width="1440" height="1080" src="page24.png"> <img id="background" style="position:absolute; left:1440px; top:27926px;" width="1440" height="1080" src="page-000024.png">
<div class="txt" style="position:absolute; left:33px; top:28033px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Builder Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:27944px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:28173px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Builder Pattern: </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Separate the construction of a complex object from</span></div>
<div class="txt" style="position:absolute; left:112px; top:28223px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">its representation so that the same construction process can create</span></div>
<div class="txt" style="position:absolute; left:112px; top:28266px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">different representations. </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">将复杂对象的构造与其表示分开，以便相同</span></div>
<div class="txt" style="position:absolute; left:112px; top:28314px;"><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">的构建过程可以创建不同的表示</span></div>
<div class="txt" style="position:absolute; left:112px; top:28384px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The construction of a complex object is common across several</span></div>
<div class="txt" style="position:absolute; left:148px; top:28427px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">representations</span></div>
<div class="txt" style="position:absolute; left:76px; top:28493px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Example: Converting a document</span></div>
<div class="txt" style="position:absolute; left:112px; top:28542px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to a number of different formats</span></div>
<div class="txt" style="position:absolute; left:112px; top:28607px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The steps for writing out a document</span></div>
<div class="txt" style="position:absolute; left:148px; top:28651px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">are the same</span></div>
<div class="txt" style="position:absolute; left:112px; top:28711px;"><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The specifics of each step depend on</span></div>
<div class="txt" style="position:absolute; left:148px; top:28754px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the format</span></div>
<div class="txt" style="position:absolute; left:76px; top:28820px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Just like you order a combo food</span></div>
<div class="txt" style="position:absolute; left:112px; top:28870px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">in McDonalds!</span></div>
<div class="txt" style="position:absolute; left:76px; top:28937px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">组装复杂的实例</span></div>
<img id="background" style="position:absolute; left:0px; top:29138px;" width="1440" height="1080" src="page25.png"> <img id="background" style="position:absolute; left:1440px; top:29138px;" width="1440" height="1080" src="page-000025.png">
<div class="txt" style="position:absolute; left:33px; top:29245px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Builder Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:29156px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:29385px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Approach</span></div>
<div class="txt" style="position:absolute; left:112px; top:29452px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The construction algorithm is specified by a single class (the “director”)</span></div>
<div class="txt" style="position:absolute; left:112px; top:29512px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The abstract steps of the algorithm (one for each part) are specified by an</span></div>
<div class="txt" style="position:absolute; left:148px; top:29555px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">interface (the “builder”)</span></div>
<div class="txt" style="position:absolute; left:112px; top:29616px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Each representation provides a</span></div>
<div class="txt" style="position:absolute; left:148px; top:29659px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">concrete implementation of the</span></div>
<div class="txt" style="position:absolute; left:148px; top:29702px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">interface (the “concrete builders”)</span></div>
<img id="background" style="position:absolute; left:0px; top:30350px;" width="1440" height="1080" src="page26.png"> <img id="background" style="position:absolute; left:1440px; top:30350px;" width="1440" height="1080" src="page-000026.png">
<div class="txt" style="position:absolute; left:33px; top:30457px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Builder Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:30368px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<img id="background" style="position:absolute; left:0px; top:31562px;" width="1440" height="1080" src="page27.png"> <img id="background" style="position:absolute; left:1440px; top:31562px;" width="1440" height="1080" src="page-000027.png">
<div class="txt" style="position:absolute; left:33px; top:31669px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:31580px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:30px; top:31910px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">/* "Product" */</span></div>
<div class="txt" style="position:absolute; left:30px; top:31944px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">class Pizza {</span></div>
<div class="txt" style="position:absolute; left:92px; top:31978px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private String dough = "";</span></div>
<div class="txt" style="position:absolute; left:92px; top:32011px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private String sauce = "";</span></div>
<div class="txt" style="position:absolute; left:92px; top:32045px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private String topping = "";</span></div>
<div class="txt" style="position:absolute; left:92px; top:32112px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void setDough(String dough) {</span></div>
<div class="txt" style="position:absolute; left:154px; top:32146px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.dough = dough;</span></div>
<div class="txt" style="position:absolute; left:92px; top:32179px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:92px; top:32213px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void setSauce(String sauce) {</span></div>
<div class="txt" style="position:absolute; left:154px; top:32246px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.sauce = sauce;</span></div>
<div class="txt" style="position:absolute; left:92px; top:32280px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:92px; top:32314px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void setTopping(String topping) {</span></div>
<div class="txt" style="position:absolute; left:154px; top:32347px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.topping = topping;</span></div>
<div class="txt" style="position:absolute; left:92px; top:32381px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:30px; top:32414px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:764px; top:31961px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">/* "Abstract Builder" */</span></div>
<div class="txt" style="position:absolute; left:764px; top:31995px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">abstract class PizzaBuilder {</span></div>
<div class="txt" style="position:absolute; left:825px; top:32028px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">protected Pizza pizza;</span></div>
<div class="txt" style="position:absolute; left:825px; top:32062px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public Pizza getPizza() {</span></div>
<div class="txt" style="position:absolute; left:887px; top:32096px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">return pizza;</span></div>
<div class="txt" style="position:absolute; left:825px; top:32129px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:825px; top:32163px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void createNewPizzaProduct() {</span></div>
<div class="txt" style="position:absolute; left:887px; top:32196px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">pizza = new Pizza();</span></div>
<div class="txt" style="position:absolute; left:825px; top:32230px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:825px; top:32264px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public abstract void buildDough();</span></div>
<div class="txt" style="position:absolute; left:825px; top:32297px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public abstract void buildSauce();</span></div>
<div class="txt" style="position:absolute; left:825px; top:32331px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public abstract void buildTopping();</span></div>
<div class="txt" style="position:absolute; left:764px; top:32364px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:32774px;" width="1440" height="1080" src="page28.png"> <img id="background" style="position:absolute; left:1440px; top:32774px;" width="1440" height="1080" src="page-000028.png">
<div class="txt" style="position:absolute; left:33px; top:32881px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:32792px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:53px; top:33009px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">/* "ConcreteBuilder 1" */</span></div>
<div class="txt" style="position:absolute; left:53px; top:33042px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">class SpicyPizzaBuilder extends PizzaBuilder {</span></div>
<div class="txt" style="position:absolute; left:115px; top:33076px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void buildDough() {</span></div>
<div class="txt" style="position:absolute; left:177px; top:33110px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">pizza.setDough("pan baked");</span></div>
<div class="txt" style="position:absolute; left:115px; top:33143px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:115px; top:33177px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void buildSauce() {</span></div>
<div class="txt" style="position:absolute; left:177px; top:33210px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">pizza.setSauce("hot");</span></div>
<div class="txt" style="position:absolute; left:115px; top:33244px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:115px; top:33278px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void buildTopping() {</span></div>
<div class="txt" style="position:absolute; left:177px; top:33311px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">pizza.setTopping("pepperoni+salami");</span></div>
<div class="txt" style="position:absolute; left:115px; top:33345px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:53px; top:33378px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:723px; top:33394px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">/* "ConcreteBuilder 2" */</span></div>
<div class="txt" style="position:absolute; left:723px; top:33428px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">class HawaiianPizzaBuilder extends</span></div>
<div class="txt" style="position:absolute; left:723px; top:33462px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">PizzaBuilder {</span></div>
<div class="txt" style="position:absolute; left:785px; top:33495px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void buildDough() {</span></div>
<div class="txt" style="position:absolute; left:847px; top:33529px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">pizza.setDough("cross");</span></div>
<div class="txt" style="position:absolute; left:785px; top:33562px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:785px; top:33596px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void buildSauce() {</span></div>
<div class="txt" style="position:absolute; left:847px; top:33630px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">pizza.setSauce("mild");</span></div>
<div class="txt" style="position:absolute; left:785px; top:33663px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:785px; top:33697px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void buildTopping() {</span></div>
<div class="txt" style="position:absolute; left:847px; top:33730px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">pizza.setTopping("ham+pineapple");</span></div>
<div class="txt" style="position:absolute; left:785px; top:33764px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:723px; top:33798px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:33986px;" width="1440" height="1080" src="page29.png"> <img id="background" style="position:absolute; left:1440px; top:33986px;" width="1440" height="1080" src="page-000029.png">
<div class="txt" style="position:absolute; left:872px; top:34004px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:33px; top:34093px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:598px; top:34080px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">/* "Director" */</span></div>
<div class="txt" style="position:absolute; left:598px; top:34114px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">class Waiter {</span></div>
<div class="txt" style="position:absolute; left:660px; top:34147px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private PizzaBuilder pizzaBuilder;</span></div>
<div class="txt" style="position:absolute; left:660px; top:34181px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void setPizzaBuilder(PizzaBuilder pb) {</span></div>
<div class="txt" style="position:absolute; left:722px; top:34215px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">pizzaBuilder = pb;</span></div>
<div class="txt" style="position:absolute; left:660px; top:34248px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:660px; top:34282px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public Pizza getPizza() {</span></div>
<div class="txt" style="position:absolute; left:722px; top:34316px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">return pizzaBuilder.getPizza();</span></div>
<div class="txt" style="position:absolute; left:660px; top:34349px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:660px; top:34383px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void constructPizza() {</span></div>
<div class="txt" style="position:absolute; left:722px; top:34416px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">pizzaBuilder.createNewPizzaProduct();</span></div>
<div class="txt" style="position:absolute; left:722px; top:34450px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">pizzaBuilder.buildDough();</span></div>
<div class="txt" style="position:absolute; left:722px; top:34483px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">pizzaBuilder.buildSauce();</span></div>
<div class="txt" style="position:absolute; left:722px; top:34517px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">pizzaBuilder.buildTopping();</span></div>
<div class="txt" style="position:absolute; left:660px; top:34551px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:598px; top:34584px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:49px; top:34650px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">/* A customer ordering a pizza. */</span></div>
<div class="txt" style="position:absolute; left:49px; top:34683px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public class PizzaBuilderDemo {</span></div>
<div class="txt" style="position:absolute; left:111px; top:34717px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void main(String[] args) {</span></div>
<div class="txt" style="position:absolute; left:173px; top:34750px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Waiter waiter = new Waiter();</span></div>
<div class="txt" style="position:absolute; left:173px; top:34784px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">PizzaBuilder hawaiianPizzabuilder = new HawaiianPizzaBuilder();</span></div>
<div class="txt" style="position:absolute; left:173px; top:34818px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">PizzaBuilder spicyPizzaBuilder = new SpicyPizzaBuilder();</span></div>
<div class="txt" style="position:absolute; left:173px; top:34885px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">waiter.setPizzaBuilder(hawaiianPizzabuilder);</span></div>
<div class="txt" style="position:absolute; left:173px; top:34918px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">waiter.constructPizza();</span></div>
<div class="txt" style="position:absolute; left:173px; top:34952px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Pizza pizza = waiter.getPizza();</span></div>
<div class="txt" style="position:absolute; left:111px; top:34986px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:49px; top:35019px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:35198px;" width="1440" height="1080" src="page30.png"> <img id="background" style="position:absolute; left:1440px; top:35198px;" width="1440" height="1080" src="page-000030.png">
<div class="txt" style="position:absolute; left:872px; top:35216px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:33px; top:35305px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Comparison: Abstract Factory vs Builder</span></div>
<div class="txt" style="position:absolute; left:76px; top:35445px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstract Factory</span></div>
<div class="txt" style="position:absolute; left:112px; top:35508px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Focuses on product family (similar product types) </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">专注于产品族的构建</span></div>
<div class="txt" style="position:absolute; left:112px; top:35568px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Does not hide the creation process </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">构建过程客户端可见</span></div>
<div class="txt" style="position:absolute; left:76px; top:35638px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Builder</span></div>
<div class="txt" style="position:absolute; left:112px; top:35705px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The underlying product needs to be constructed as part of the system, but</span></div>
<div class="txt" style="position:absolute; left:148px; top:35744px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the creation is very complex (composition of products) </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">构建过程复杂</span></div>
<div class="txt" style="position:absolute; left:112px; top:35804px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The construction of the complex product changes from time to time </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">复杂产</span></div>
<div class="txt" style="position:absolute; left:148px; top:35848px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">品的构建会不时变化</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">修改</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">Director</span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">类</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span></div>
<div class="txt" style="position:absolute; left:112px; top:35908px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Hides the creation process from the user </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">构建过程客户端不可见</span></div>
<div class="txt" style="position:absolute; left:76px; top:35978px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstract Factory and Builder work well together for a family of</span></div>
<div class="txt" style="position:absolute; left:112px; top:36023px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">multiple complex products </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">二者可以结合完成复杂产品族的构建</span></div>
<img id="background" style="position:absolute; left:0px; top:36410px;" width="1440" height="1080" src="page31.png"> <img id="background" style="position:absolute; left:1440px; top:36410px;" width="1440" height="1080" src="page-000031.png">
<div class="txt" style="position:absolute; left:1105px; top:36428px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:394px; top:36825px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">2 Structural patterns</span></div>
<img id="background" style="position:absolute; left:0px; top:37622px;" width="1440" height="1080" src="page32.png"> <img id="background" style="position:absolute; left:1440px; top:37622px;" width="1440" height="1080" src="page-000032.png">
<div class="txt" style="position:absolute; left:1105px; top:37640px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:563px; top:38037px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(1) Bridge</span></div>
<img id="background" style="position:absolute; left:0px; top:38834px;" width="1440" height="1080" src="page33.png"> <img id="background" style="position:absolute; left:1440px; top:38834px;" width="1440" height="1080" src="page-000033.png">
<div class="txt" style="position:absolute; left:33px; top:38941px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Bridge Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:38852px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:39081px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Applicability</span></div>
<div class="txt" style="position:absolute; left:112px; top:39144px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Decouple abstract concept with different implementations </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">将抽象概念与实</span></div>
<div class="txt" style="position:absolute; left:148px; top:39187px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">现分离，避免过于复杂的继承结构</span></div>
<div class="txt" style="position:absolute; left:112px; top:39251px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Implementation may be switched at run-time</span></div>
<div class="txt" style="position:absolute; left:112px; top:39312px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Implementation changes should not affect clients</span></div>
<div class="txt" style="position:absolute; left:112px; top:39372px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f30" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Hide a class’s interface from clients</span></div>
<div class="txt" style="position:absolute; left:76px; top:39438px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Structure: </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">use two hierarchies</span></div>
<div class="txt" style="position:absolute; left:112px; top:39501px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Logical one for clients </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">面向客户的逻辑继承结构</span></div>
<div class="txt" style="position:absolute; left:112px; top:39561px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Physical one for different implementations </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">面向实现的物理继承结构</span></div>
<div class="txt" style="position:absolute; left:76px; top:39631px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Object: to improve extensibility</span></div>
<div class="txt" style="position:absolute; left:112px; top:39694px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Logical classes and physical classes change independently </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">两个继承结构分离</span></div>
<div class="txt" style="position:absolute; left:112px; top:39758px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Hides implementation details from clients</span></div>
<div class="txt" style="position:absolute; left:76px; top:39821px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">将类的功能层次结构</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">(abstract)</span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">与实现层次结构分离</span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">(implementation)</span></div>
<img id="background" style="position:absolute; left:0px; top:40046px;" width="1440" height="1080" src="page34.png"> <img id="background" style="position:absolute; left:1440px; top:40046px;" width="1440" height="1080" src="page-000034.png">
<div class="txt" style="position:absolute; left:33px; top:40153px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Structure of Bridge Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:40064px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:655px; top:40289px;"><span id="f17" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">impl </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">is the bridge</span></div>
<div class="txt" style="position:absolute; left:246px; top:41017px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">扩展功能</span></div>
<div class="txt" style="position:absolute; left:1006px; top:41017px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">扩展实现</span></div>
<img id="background" style="position:absolute; left:0px; top:41258px;" width="1440" height="1080" src="page35.png"> <img id="background" style="position:absolute; left:1440px; top:41258px;" width="1440" height="1080" src="page-000035.png">
<div class="txt" style="position:absolute; left:33px; top:41365px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:41276px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:99px; top:41534px;"><span id="f28" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Create bridge implementer interface</span></div>
<div class="txt" style="position:absolute; left:99px; top:41593px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f14" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">interface DrawAPI </span><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:145px; top:41626px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void drawCircle(int radius, int x, int y);</span></div>
<div class="txt" style="position:absolute; left:99px; top:41660px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:98px; top:41759px;"><span id="f28" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Create concrete bridge implementer classes</span></div>
<div class="txt" style="position:absolute; left:99px; top:41831px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f14" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">class DrawRedCircle implements DrawAPI </span><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:145px; top:41864px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">@Override</span></div>
<div class="txt" style="position:absolute; left:145px; top:41898px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void drawCircle(int radius, int x, int y) {</span></div>
<div class="txt" style="position:absolute; left:192px; top:41932px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println(" Color: red " + radius + x + y);</span></div>
<div class="txt" style="position:absolute; left:145px; top:41965px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:99px; top:41999px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:99px; top:42066px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f14" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">class DrawGreenCircle implements DrawAPI </span><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:145px; top:42100px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">@Override</span></div>
<div class="txt" style="position:absolute; left:145px; top:42133px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void drawCircle(int radius, int x, int y) {</span></div>
<div class="txt" style="position:absolute; left:192px; top:42167px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println(" Color: green " + radius + x + y);</span></div>
<div class="txt" style="position:absolute; left:145px; top:42201px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:99px; top:42234px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:42470px;" width="1440" height="1080" src="page36.png"> <img id="background" style="position:absolute; left:1440px; top:42470px;" width="1440" height="1080" src="page-000036.png">
<div class="txt" style="position:absolute; left:33px; top:42577px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:42488px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:116px; top:42706px;"><span id="f11" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Create an abstract class Shape using the </span><span id="f19" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">DrawAPI </span><span id="f11" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">interface</span></div>
<div class="txt" style="position:absolute; left:116px; top:42770px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f23" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">abstract class Shape </span><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:162px; top:42804px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">protected DrawAPI drawAPI;</span></div>
<div class="txt" style="position:absolute; left:162px; top:42838px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">protected Shape(DrawAPI </span><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(255,0,0,1);">drawAPI){</span></div>
<div class="txt" style="position:absolute; left:209px; top:42871px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.drawAPI = drawAPI;</span></div>
<div class="txt" style="position:absolute; left:162px; top:42905px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:162px; top:42938px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public abstract void draw();</span></div>
<div class="txt" style="position:absolute; left:116px; top:42972px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:116px; top:43035px;"><span id="f11" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Create concrete class implementing the </span><span id="f19" style="font-size:15px;vertical-align:baseline;color:rgba(0,0,0,1);">Shape </span><span id="f11" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">interface</span></div>
<div class="txt" style="position:absolute; left:116px; top:43090px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f23" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">class Circle extends Shape </span><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:162px; top:43124px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private int x, y, radius;</span></div>
<div class="txt" style="position:absolute; left:162px; top:43191px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public Circle(int x, int y, int radius, DrawAPI drawAPI) {</span></div>
<div class="txt" style="position:absolute; left:209px; top:43225px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">super(drawAPI);</span></div>
<div class="txt" style="position:absolute; left:209px; top:43258px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.x = x;</span></div>
<div class="txt" style="position:absolute; left:209px; top:43292px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.y = y;</span></div>
<div class="txt" style="position:absolute; left:209px; top:43326px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.radius = radius;</span></div>
<div class="txt" style="position:absolute; left:162px; top:43359px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:162px; top:43393px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void draw() {</span></div>
<div class="txt" style="position:absolute; left:209px; top:43426px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">drawAPI.drawCircle(radius,x,y);</span></div>
<div class="txt" style="position:absolute; left:162px; top:43460px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:116px; top:43494px;"><span id="f19" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:43682px;" width="1440" height="1080" src="page37.png"> <img id="background" style="position:absolute; left:1440px; top:43682px;" width="1440" height="1080" src="page-000037.png">
<div class="txt" style="position:absolute; left:33px; top:43789px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:43700px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:43930px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Use the </span><span id="f13" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">Shape </span><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">and </span><span id="f13" style="font-size:26px;vertical-align:baseline;color:rgba(0,0,0,1);">DrawAPI </span><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">classes to draw different colored circles</span></div>
<div class="txt" style="position:absolute; left:121px; top:44042px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public class BridgePatternDemo {</span></div>
<div class="txt" style="position:absolute; left:167px; top:44109px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void main(String[] args) {</span></div>
<div class="txt" style="position:absolute; left:214px; top:44142px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Shape redCircle = new Circle(100,100, 10, new DrawRedCircle());</span></div>
<div class="txt" style="position:absolute; left:214px; top:44176px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Shape greenCircle = new Circle(100,100, 10, new DrawGreenCircle());</span></div>
<div class="txt" style="position:absolute; left:214px; top:44243px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">redCircle.draw();</span></div>
<div class="txt" style="position:absolute; left:214px; top:44277px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">greenCircle.draw();</span></div>
<div class="txt" style="position:absolute; left:167px; top:44310px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:121px; top:44344px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:44894px;" width="1440" height="1080" src="page38.png"> <img id="background" style="position:absolute; left:1440px; top:44894px;" width="1440" height="1080" src="page-000038.png">
<div class="txt" style="position:absolute; left:1105px; top:44912px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:574px; top:45261px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(2) Proxy</span></div>
<div class="txt" style="position:absolute; left:539px; top:45338px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">只在必要时生成实例</span></div>
<img id="background" style="position:absolute; left:0px; top:46106px;" width="1440" height="1080" src="page39.png"> <img id="background" style="position:absolute; left:1440px; top:46106px;" width="1440" height="1080" src="page-000039.png">
<div class="txt" style="position:absolute; left:33px; top:46213px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Proxy Pattern Motivation</span></div>
<div class="txt" style="position:absolute; left:872px; top:46124px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:46353px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Goal:</span></div>
<div class="txt" style="position:absolute; left:112px; top:46416px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Prevent an object from being accessed directly by its clients </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">避免对象被客</span></div>
<div class="txt" style="position:absolute; left:148px; top:46459px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">户端直接访问</span></div>
<div class="txt" style="position:absolute; left:76px; top:46529px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Solution:</span></div>
<div class="txt" style="position:absolute; left:112px; top:46595px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Use an additional object, called a proxy</span></div>
<div class="txt" style="position:absolute; left:112px; top:46656px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Clients access to protected object only through proxy</span></div>
<div class="txt" style="position:absolute; left:112px; top:46716px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Proxy keeps track of status and/or location of protected object</span></div>
<img id="background" style="position:absolute; left:0px; top:47318px;" width="1440" height="1080" src="page40.png"> <img id="background" style="position:absolute; left:1440px; top:47318px;" width="1440" height="1080" src="page-000040.png">
<div class="txt" style="position:absolute; left:33px; top:47425px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">The Proxy Pattern: 3 Types</span></div>
<div class="txt" style="position:absolute; left:872px; top:47336px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:47565px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Caching of information (“Remote Proxy”)</span></div>
<div class="txt" style="position:absolute; left:112px; top:47632px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The Proxy object is a local representative for an object in a different</span></div>
<div class="txt" style="position:absolute; left:148px; top:47671px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">address space</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">远程代理</span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">:</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">为 一 个 对 象在 不 同 的 地 址 空间 提 供 局 部 代</span></div>
<div class="txt" style="position:absolute; left:148px; top:47714px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">表 </span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">缓存机制</span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span></div>
<div class="txt" style="position:absolute; left:112px; top:47779px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Good if information does not change too often</span></div>
<div class="txt" style="position:absolute; left:76px; top:47844px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f23" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Standin </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">(“Virtual Proxy”)</span></div>
<div class="txt" style="position:absolute; left:112px; top:47907px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Object is too expensive to create or too expensive to download. </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">虚代理</span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">:</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">根</span></div>
<div class="txt" style="position:absolute; left:148px; top:47951px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">据需要创建开销很大的对象</span></div>
<div class="txt" style="position:absolute; left:112px; top:48015px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Good if the real object is not accessed too often</span></div>
<div class="txt" style="position:absolute; left:76px; top:48078px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Access control (“Protection Proxy”) </span><span id="f20" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">保护代理</span></div>
<div class="txt" style="position:absolute; left:112px; top:48143px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The proxy object provides protection for the real object </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">提供访问保护</span></div>
<div class="txt" style="position:absolute; left:112px; top:48208px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Good when different actors should have different access and viewing</span></div>
<div class="txt" style="position:absolute; left:148px; top:48251px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">rights for the same object</span></div>
<div class="txt" style="position:absolute; left:112px; top:48311px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Example: Grade information accessed by administrators, teachers and</span></div>
<div class="txt" style="position:absolute; left:148px; top:48355px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">students.</span></div>
<img id="background" style="position:absolute; left:0px; top:48530px;" width="1440" height="1080" src="page41.png"> <img id="background" style="position:absolute; left:1440px; top:48530px;" width="1440" height="1080" src="page-000041.png">
<div class="txt" style="position:absolute; left:872px; top:48548px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:33px; top:48637px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Proxy Pattern Class Diagram</span></div>
<img id="background" style="position:absolute; left:0px; top:49742px;" width="1440" height="1080" src="page42.png"> <img id="background" style="position:absolute; left:1440px; top:49742px;" width="1440" height="1080" src="page-000042.png">
<div class="txt" style="position:absolute; left:33px; top:49849px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:49760px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:957px; top:50157px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">延迟加载，提升性能</span></div>
<img id="background" style="position:absolute; left:0px; top:50954px;" width="1440" height="1080" src="page43.png"> <img id="background" style="position:absolute; left:1440px; top:50954px;" width="1440" height="1080" src="page-000043.png">
<div class="txt" style="position:absolute; left:1105px; top:50972px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:496px; top:51321px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(3) Composite</span></div>
<div class="txt" style="position:absolute; left:539px; top:51398px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">容器与内容的一致性</span></div>
<img id="background" style="position:absolute; left:0px; top:52166px;" width="1440" height="1080" src="page44.png"> <img id="background" style="position:absolute; left:1440px; top:52166px;" width="1440" height="1080" src="page-000044.png">
<div class="txt" style="position:absolute; left:33px; top:52273px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Composite Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:52184px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:52413px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Problem:</span></div>
<div class="txt" style="position:absolute; left:112px; top:52480px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Application needs to manipulate a hierarchical collection of "primitive"</span></div>
<div class="txt" style="position:absolute; left:148px; top:52523px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and "composite" objects.</span></div>
<div class="txt" style="position:absolute; left:112px; top:52583px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Processing of a primitive object is handled one way, and processing of a</span></div>
<div class="txt" style="position:absolute; left:148px; top:52627px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">composite object is handled differently.</span></div>
<div class="txt" style="position:absolute; left:112px; top:52687px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f23" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Having to query the “type” of each object before attempting to process it is</span></div>
<div class="txt" style="position:absolute; left:148px; top:52730px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">not desirable.</span></div>
<div class="txt" style="position:absolute; left:112px; top:52787px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">容器中具有基本元素和组合元素两类，如何以统一的方式访问所有的元素</span></div>
<div class="txt" style="position:absolute; left:76px; top:52856px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Intent: </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Compose objects into tree structures to represent whole-part</span></div>
<div class="txt" style="position:absolute; left:112px; top:52906px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">hierarchies.</span></div>
<div class="txt" style="position:absolute; left:112px; top:52971px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Composite lets clients treat individual objects and compositions of objects</span></div>
<div class="txt" style="position:absolute; left:148px; top:53014px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">uniformly.</span></div>
<div class="txt" style="position:absolute; left:112px; top:53071px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Recursive composition </span><span id="f29" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">递归方式访问</span></div>
<div class="txt" style="position:absolute; left:112px; top:53135px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">"Directories contain entries, each of which could be a directory."</span></div>
<div class="txt" style="position:absolute; left:112px; top:53196px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">1-to-many "has a" up the "is a" hierarchy</span></div>
<img id="background" style="position:absolute; left:0px; top:53378px;" width="1440" height="1080" src="page45.png"> <img id="background" style="position:absolute; left:1440px; top:53378px;" width="1440" height="1080" src="page-000045.png">
<div class="txt" style="position:absolute; left:33px; top:53485px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Composite Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:53396px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:53625px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Menus that contain menu items, each of which could be a menu.</span></div>
<div class="txt" style="position:absolute; left:76px; top:53697px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Row-column GUI layout managers that contain widgets, each of</span></div>
<div class="txt" style="position:absolute; left:112px; top:53747px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">which could be a row-column GUI layout manager.</span></div>
<div class="txt" style="position:absolute; left:76px; top:53817px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Directories that contain files,</span></div>
<div class="txt" style="position:absolute; left:112px; top:53867px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">each of which could be a</span></div>
<div class="txt" style="position:absolute; left:112px; top:53915px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">directory.</span></div>
<div class="txt" style="position:absolute; left:76px; top:53985px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Containers that contain</span></div>
<div class="txt" style="position:absolute; left:112px; top:54035px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Elements, each of which</span></div>
<div class="txt" style="position:absolute; left:112px; top:54083px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">could be a Container.</span></div>
<img id="background" style="position:absolute; left:0px; top:54590px;" width="1440" height="1080" src="page46.png"> <img id="background" style="position:absolute; left:1440px; top:54590px;" width="1440" height="1080" src="page-000046.png">
<div class="txt" style="position:absolute; left:33px; top:54697px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:54608px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:54837px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In a company we have </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">supervisors and workers</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">. The supervisors</span></div>
<div class="txt" style="position:absolute; left:112px; top:54887px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">can manage other supervisors or workers under them.</span></div>
<div class="txt" style="position:absolute; left:76px; top:54957px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The supervisors will be the composites.</span></div>
<div class="txt" style="position:absolute; left:76px; top:55029px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The workers does not manage anyone and they will be the leaves.</span></div>
<div class="txt" style="position:absolute; left:76px; top:55101px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(255,0,0,1);">All the supervisors and workers are employees</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, and as an employee</span></div>
<div class="txt" style="position:absolute; left:112px; top:55151px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">you can always show your happiness level in the company (this is</span></div>
<div class="txt" style="position:absolute; left:112px; top:55199px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the common operation of the elements).</span></div>
<img id="background" style="position:absolute; left:0px; top:55802px;" width="1440" height="1080" src="page47.png"> <img id="background" style="position:absolute; left:1440px; top:55802px;" width="1440" height="1080" src="page-000047.png">
<div class="txt" style="position:absolute; left:33px; top:55909px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:55820px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:56045px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f13" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">interface Employee </span><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:138px; top:56078px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">void ShowHappiness();</span></div>
<div class="txt" style="position:absolute; left:76px; top:56112px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:76px; top:56179px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f13" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">class Worker implements Employee</span><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:138px; top:56213px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private String name;</span></div>
<div class="txt" style="position:absolute; left:138px; top:56246px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private int happiness;</span></div>
<div class="txt" style="position:absolute; left:138px; top:56313px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public Worker(String name, int happiness)</span></div>
<div class="txt" style="position:absolute; left:138px; top:56347px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:200px; top:56381px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.name = name;</span></div>
<div class="txt" style="position:absolute; left:200px; top:56414px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.happiness = happiness;</span></div>
<div class="txt" style="position:absolute; left:138px; top:56448px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:138px; top:56515px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void ShowHappiness()</span></div>
<div class="txt" style="position:absolute; left:138px; top:56549px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:200px; top:56582px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println(name + " showed happiness level of " + happiness);</span></div>
<div class="txt" style="position:absolute; left:138px; top:56616px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:76px; top:56649px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:57014px;" width="1440" height="1080" src="page48.png"> <img id="background" style="position:absolute; left:1440px; top:57014px;" width="1440" height="1080" src="page-000048.png">
<div class="txt" style="position:absolute; left:33px; top:57121px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:57032px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:72px; top:57272px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f13" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">class Supervisor implements Employee</span><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:134px; top:57305px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private String name;</span></div>
<div class="txt" style="position:absolute; left:134px; top:57339px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private int happiness;</span></div>
<div class="txt" style="position:absolute; left:134px; top:57372px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private List&lt;Employee&gt; subordinate = new ArrayList&lt;Employee&gt;();</span></div>
<div class="txt" style="position:absolute; left:134px; top:57440px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public Supervisor(String name, int happiness)</span></div>
<div class="txt" style="position:absolute; left:134px; top:57473px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:196px; top:57507px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.name = name;</span></div>
<div class="txt" style="position:absolute; left:196px; top:57540px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">this.happiness = happiness;</span></div>
<div class="txt" style="position:absolute; left:134px; top:57574px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:134px; top:57641px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void ShowHappiness()</span></div>
<div class="txt" style="position:absolute; left:134px; top:57675px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:196px; top:57708px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println(name + " showed happiness level of " + happiness);</span></div>
<div class="txt" style="position:absolute; left:196px; top:57742px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">//show all the subordinate's happiness level</span></div>
<div class="txt" style="position:absolute; left:196px; top:57776px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">for (Employee i : subordinate)</span></div>
<div class="txt" style="position:absolute; left:258px; top:57809px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">i.ShowHappiness();</span></div>
<div class="txt" style="position:absolute; left:134px; top:57843px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:134px; top:57910px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void AddSubordinate(Employee employee)</span></div>
<div class="txt" style="position:absolute; left:134px; top:57944px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:196px; top:57977px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">subordinate.add(employee);</span></div>
<div class="txt" style="position:absolute; left:134px; top:58011px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:72px; top:58045px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:58226px;" width="1440" height="1080" src="page49.png"> <img id="background" style="position:absolute; left:1440px; top:58226px;" width="1440" height="1080" src="page-000049.png">
<div class="txt" style="position:absolute; left:33px; top:58333px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:58244px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:72px; top:58484px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void main(String[] args) {</span></div>
<div class="txt" style="position:absolute; left:134px; top:58517px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Worker a = new Worker("Worker Tom", 5);</span></div>
<div class="txt" style="position:absolute; left:134px; top:58551px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Supervisor b = new Supervisor("Supervisor Mary", 6);</span></div>
<div class="txt" style="position:absolute; left:134px; top:58584px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Supervisor c = new Supervisor("Supervisor Jerry", 7);</span></div>
<div class="txt" style="position:absolute; left:134px; top:58618px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Supervisor d = new Supervisor("Supervisor Bob", 9);</span></div>
<div class="txt" style="position:absolute; left:134px; top:58652px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Worker e = new Worker("Worker Jimmy", 8);</span></div>
<div class="txt" style="position:absolute; left:134px; top:58719px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">//set up the relationships</span></div>
<div class="txt" style="position:absolute; left:134px; top:58752px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">b.addSubordinate(a); //Tom works for Mary</span></div>
<div class="txt" style="position:absolute; left:134px; top:58786px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">c.addSubordinate(b); //Mary works for Jerry</span></div>
<div class="txt" style="position:absolute; left:134px; top:58820px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">c.addSubordinate(d); //Bob works for Jerry</span></div>
<div class="txt" style="position:absolute; left:134px; top:58853px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">d.addSubordinate(e); //Jimmy works for Bob</span></div>
<div class="txt" style="position:absolute; left:134px; top:58920px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">//Jerry shows his happiness and asks everyone else to do the same</span></div>
<div class="txt" style="position:absolute; left:134px; top:58954px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">c.showHappiness();</span></div>
<div class="txt" style="position:absolute; left:72px; top:59021px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// the results:</span></div>
<div class="txt" style="position:absolute; left:72px; top:59055px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Supervisor Jerry showed happiness level of 7</span></div>
<div class="txt" style="position:absolute; left:72px; top:59088px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Supervisor Mary showed happiness level of 6</span></div>
<div class="txt" style="position:absolute; left:72px; top:59122px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Worker Tom showed happiness level of 5</span></div>
<div class="txt" style="position:absolute; left:72px; top:59156px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Supervisor Bob showed happiness level of 9</span></div>
<div class="txt" style="position:absolute; left:72px; top:59189px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Worker Jimmy showed happiness level of 8</span></div>
<div class="txt" style="position:absolute; left:1039px; top:59042px;"><span id="f8" style="font-size:30px;vertical-align:baseline;color:rgba(0,0,0,1);">Jerry</span></div>
<div class="txt" style="position:absolute; left:971px; top:59132px;"><span id="f8" style="font-size:30px;vertical-align:baseline;color:rgba(0,0,0,1);">Mary Bob</span></div>
<div class="txt" style="position:absolute; left:977px; top:59221px;"><span id="f8" style="font-size:30px;vertical-align:baseline;color:rgba(0,0,0,1);">Tom Jimmy</span></div>
<img id="background" style="position:absolute; left:0px; top:59438px;" width="1440" height="1080" src="page50.png"> <img id="background" style="position:absolute; left:1440px; top:59438px;" width="1440" height="1080" src="page-000050.png">
<div class="txt" style="position:absolute; left:1105px; top:59456px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:381px; top:59853px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">3 Behavioral patterns</span></div>
<img id="background" style="position:absolute; left:0px; top:60650px;" width="1440" height="1080" src="page51.png"> <img id="background" style="position:absolute; left:1440px; top:60650px;" width="1440" height="1080" src="page-000051.png">
<div class="txt" style="position:absolute; left:1105px; top:60668px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:522px; top:61065px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(1) Observer</span></div>
<img id="background" style="position:absolute; left:0px; top:61862px;" width="1440" height="1080" src="page52.png"> <img id="background" style="position:absolute; left:1440px; top:61862px;" width="1440" height="1080" src="page-000052.png">
<div class="txt" style="position:absolute; left:33px; top:61969px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Observer pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:61880px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:62109px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Problem: Dependent’s state must be consistent with master’s state</span></div>
<div class="txt" style="position:absolute; left:112px; top:62154px;"><span id="f16" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,255,1);">保持状态间的一致性</span></div>
<div class="txt" style="position:absolute; left:76px; top:62218px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f19" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Solution:</span></div>
<div class="txt" style="position:absolute; left:112px; top:62285px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The Observer Design Pattern allows you to have </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">a publisher-subscriber</span></div>
<div class="txt" style="position:absolute; left:148px; top:62328px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">framework </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">where a change to a publisher will notify all of its subscribers</span></div>
<div class="txt" style="position:absolute; left:148px; top:62367px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">automatically. </span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">一种“发布</span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">-</span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">订阅”形式，发布方的变化，会通知订阅方</span></div>
<div class="txt" style="position:absolute; left:112px; top:62432px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The subscribers are registered to the publisher so that when a change</span></div>
<div class="txt" style="position:absolute; left:148px; top:62471px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">occurs in the publisher all of the subscribers are notified. </span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">订阅方在发布方</span></div>
<div class="txt" style="position:absolute; left:148px; top:62514px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">注册</span></div>
<div class="txt" style="position:absolute; left:112px; top:62578px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The publishers and the subscribers are decoupled through the use of</span></div>
<div class="txt" style="position:absolute; left:148px; top:62618px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">interfaces so that the development of each can vary independently. </span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">通过</span></div>
<div class="txt" style="position:absolute; left:148px; top:62661px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">接口分离两者</span></div>
<img id="background" style="position:absolute; left:0px; top:63074px;" width="1440" height="1080" src="page53.png"> <img id="background" style="position:absolute; left:1440px; top:63074px;" width="1440" height="1080" src="page-000053.png">
<div class="txt" style="position:absolute; left:33px; top:63181px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Observer pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:63092px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:63321px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Define four kinds of objects:</span></div>
<div class="txt" style="position:absolute; left:112px; top:63388px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstract subject</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: maintain list of dependents; notifies them when master</span></div>
<div class="txt" style="position:absolute; left:148px; top:63427px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">changes (</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the publishers) </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">维护订阅者列表</span></div>
<div class="txt" style="position:absolute; left:112px; top:63491px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstract observer</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: define protocol for updating dependents (</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the</span></div>
<div class="txt" style="position:absolute; left:148px; top:63531px;"><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">subscribers) </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">定义更新的协议</span></div>
<div class="txt" style="position:absolute; left:112px; top:63595px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Concrete subject</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: manage data for dependents; notifies them when master</span></div>
<div class="txt" style="position:absolute; left:148px; top:63634px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">changes </span><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">维护数据，修改后通知订阅者</span></div>
<div class="txt" style="position:absolute; left:112px; top:63699px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Concrete observers</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: get new subject state upon receiving update message</span></div>
<div class="txt" style="position:absolute; left:148px; top:63738px;"><span id="f22" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">得到通知后，修改自身的状态</span></div>
<img id="background" style="position:absolute; left:0px; top:64286px;" width="1440" height="1080" src="page54.png"> <img id="background" style="position:absolute; left:1440px; top:64286px;" width="1440" height="1080" src="page-000054.png">
<div class="txt" style="position:absolute; left:33px; top:64393px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:64304px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:53px; top:64532px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f13" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">abstract class NumberGenerator </span><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:115px; top:64566px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private ArrayList observers = new ArrayList();</span></div>
<div class="txt" style="position:absolute; left:952px; top:64563px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// </span><span id="f22" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">保存</span><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Observers</span></div>
<div class="txt" style="position:absolute; left:115px; top:64596px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void attach(Observer observer) { // </span><span id="f22" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">注册</span><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Observer</span></div>
<div class="txt" style="position:absolute; left:177px; top:64633px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">observers.add(observer);</span></div>
<div class="txt" style="position:absolute; left:115px; top:64666px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:115px; top:64697px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void detach(Observer observer) { // </span><span id="f22" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">删除</span><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Observer</span></div>
<div class="txt" style="position:absolute; left:177px; top:64734px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">observers.remove(observer);</span></div>
<div class="txt" style="position:absolute; left:115px; top:64767px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:115px; top:64801px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void </span><span id="f13" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,255,1);">notify</span><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">() {</span></div>
<div class="txt" style="position:absolute; left:688px; top:64798px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// </span><span id="f22" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">向</span><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Observer</span><span id="f22" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">发送通知</span></div>
<div class="txt" style="position:absolute; left:177px; top:64834px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Iterator it = observers.iterator();</span></div>
<div class="txt" style="position:absolute; left:177px; top:64868px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">while (it.hasNext()) {</span></div>
<div class="txt" style="position:absolute; left:239px; top:64902px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Observer o = (Observer)it.next();</span></div>
<div class="txt" style="position:absolute; left:239px; top:64935px;"><span id="f13" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,255,1);">o.update(this);</span></div>
<div class="txt" style="position:absolute; left:177px; top:64969px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:115px; top:65003px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:115px; top:65033px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public abstract int getNumber(); // </span><span id="f22" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">获取数值</span></div>
<div class="txt" style="position:absolute; left:115px; top:65067px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public abstract void execute(); // </span><span id="f22" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">生成数值</span></div>
<div class="txt" style="position:absolute; left:53px; top:65103px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:53px; top:65171px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f13" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">interface Observer </span><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:115px; top:65204px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public abstract void update(NumberGenerator generator);</span></div>
<div class="txt" style="position:absolute; left:53px; top:65238px;"><span id="f11" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:65498px;" width="1440" height="1080" src="page55.png"> <img id="background" style="position:absolute; left:1440px; top:65498px;" width="1440" height="1080" src="page-000055.png">
<div class="txt" style="position:absolute; left:33px; top:65605px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:65516px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:63px; top:65969px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f14" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">class RandomNumberGenerator extends NumberGenerator </span><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:125px; top:66000px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private Random random = new Random(); // </span><span id="f23" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">随机数生成器</span></div>
<div class="txt" style="position:absolute; left:125px; top:66037px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private int number;</span></div>
<div class="txt" style="position:absolute; left:745px; top:66034px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// </span><span id="f23" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">当前数值</span></div>
<div class="txt" style="position:absolute; left:125px; top:66104px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public int getNumber() {</span></div>
<div class="txt" style="position:absolute; left:187px; top:66137px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">return number;</span></div>
<div class="txt" style="position:absolute; left:125px; top:66171px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:746px; top:66101px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">// </span><span id="f23" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">获取当前数值</span></div>
<div class="txt" style="position:absolute; left:125px; top:66238px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void execute() {</span></div>
<div class="txt" style="position:absolute; left:187px; top:66272px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">for (int i = 0; i &lt; 20; i++) {</span></div>
<div class="txt" style="position:absolute; left:249px; top:66305px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">number = random.nextInt(50);</span></div>
<div class="txt" style="position:absolute; left:249px; top:66339px;"><span id="f14" style="font-size:11px;vertical-align:baseline;color:rgba(0,0,255,1);">notify()</span><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">;</span></div>
<div class="txt" style="position:absolute; left:187px; top:66372px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:125px; top:66406px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:63px; top:66440px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:66710px;" width="1440" height="1080" src="page56.png"> <img id="background" style="position:absolute; left:1440px; top:66710px;" width="1440" height="1080" src="page-000056.png">
<div class="txt" style="position:absolute; left:33px; top:66817px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:66728px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:63px; top:67174px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f14" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">class DigitObserver implements Observer </span><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:125px; top:67208px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void update(NumberGenerator generator) {</span></div>
<div class="txt" style="position:absolute; left:187px; top:67241px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("DigitObserver:" + generator.getNumber());</span></div>
<div class="txt" style="position:absolute; left:125px; top:67275px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:63px; top:67309px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:63px; top:67376px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f14" style="font-size:11px;vertical-align:baseline;color:rgba(255,0,0,1);">class GraphObserver implements Observer </span><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:125px; top:67409px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void update(NumberGenerator generator) {</span></div>
<div class="txt" style="position:absolute; left:187px; top:67443px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.print("GraphObserver:");</span></div>
<div class="txt" style="position:absolute; left:187px; top:67477px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">int count = generator.getNumber();</span></div>
<div class="txt" style="position:absolute; left:187px; top:67510px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">for (int i = 0; i &lt; count; i++) {</span></div>
<div class="txt" style="position:absolute; left:249px; top:67544px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.print("*");</span></div>
<div class="txt" style="position:absolute; left:187px; top:67577px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:187px; top:67611px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("");</span></div>
<div class="txt" style="position:absolute; left:125px; top:67645px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:63px; top:67678px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:67922px;" width="1440" height="1080" src="page57.png"> <img id="background" style="position:absolute; left:1440px; top:67922px;" width="1440" height="1080" src="page-000057.png">
<div class="txt" style="position:absolute; left:33px; top:68029px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:67940px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:65px; top:68157px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public class Main {</span></div>
<div class="txt" style="position:absolute; left:127px; top:68190px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void main(String[] args) {</span></div>
<div class="txt" style="position:absolute; left:189px; top:68224px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">NumberGenerator generator = new RandomNumberGenerator();</span></div>
<div class="txt" style="position:absolute; left:189px; top:68258px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Observer observer1 = new DigitObserver();</span></div>
<div class="txt" style="position:absolute; left:189px; top:68291px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">Observer observer2 = new GraphObserver();</span></div>
<div class="txt" style="position:absolute; left:189px; top:68325px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">generator.attach(observer1);</span></div>
<div class="txt" style="position:absolute; left:189px; top:68358px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">generator.attach(observer2);</span></div>
<div class="txt" style="position:absolute; left:189px; top:68392px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">generator.execute();</span></div>
<div class="txt" style="position:absolute; left:127px; top:68426px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:65px; top:68459px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:65px; top:68557px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">The result</span><span id="f34" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">：</span></div>
<div class="txt" style="position:absolute; left:65px; top:68594px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">DigitObserver:37</span></div>
<div class="txt" style="position:absolute; left:65px; top:68627px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">GraphObserver:*************************************</span></div>
<div class="txt" style="position:absolute; left:65px; top:68661px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">DigitObserver:21</span></div>
<div class="txt" style="position:absolute; left:65px; top:68695px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">GraphObserver:*********************</span></div>
<div class="txt" style="position:absolute; left:65px; top:68728px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">DigitObserver:19</span></div>
<div class="txt" style="position:absolute; left:65px; top:68762px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">GraphObserver:*******************</span></div>
<div class="txt" style="position:absolute; left:65px; top:68795px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">DigitObserver:24</span></div>
<div class="txt" style="position:absolute; left:65px; top:68829px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">GraphObserver:************************</span></div>
<div class="txt" style="position:absolute; left:65px; top:68862px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">DigitObserver:39</span></div>
<div class="txt" style="position:absolute; left:65px; top:68896px;"><span id="f10" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">GraphObserver:***************************************</span></div>
<div class="txt" style="position:absolute; left:65px; top:68930px;"><span id="f51" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">……</span></div>
<img id="background" style="position:absolute; left:0px; top:69134px;" width="1440" height="1080" src="page58.png"> <img id="background" style="position:absolute; left:1440px; top:69134px;" width="1440" height="1080" src="page-000058.png">
<div class="txt" style="position:absolute; left:872px; top:69152px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:33px; top:69241px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example: Observer and Observable in Java</span></div>
<div class="txt" style="position:absolute; left:1011px; top:69349px;"><span id="f57" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">o</span><span id="f59" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">为被观察对象，为观察者提供</span></div>
<div class="txt" style="position:absolute; left:1011px; top:69383px;"><span id="f59" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">了一种拉取数据的方式。</span><span id="f57" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">update</span></div>
<div class="txt" style="position:absolute; left:1011px; top:69418px;"><span id="f59" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">中的业务可以根据所需去拉取自</span></div>
<div class="txt" style="position:absolute; left:1011px; top:69450px;"><span id="f59" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">己想要的被观察对象的信息</span><span id="f57" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">(</span><span id="f59" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">一般</span></div>
<div class="txt" style="position:absolute; left:1011px; top:69484px;"><span id="f59" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">被观察对象中提供</span><span id="f57" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">getter)</span></div>
<div class="txt" style="position:absolute; left:558px; top:69552px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public interface Observer {</span></div>
<div class="txt" style="position:absolute; left:620px; top:69585px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">void update(Observable o, Object arg);</span></div>
<div class="txt" style="position:absolute; left:558px; top:69619px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:65px; top:69705px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public class Observable {</span></div>
<div class="txt" style="position:absolute; left:127px; top:69738px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private boolean changed = false;</span></div>
<div class="txt" style="position:absolute; left:127px; top:69772px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">private Vector&lt;Observer&gt; obs;</span></div>
<div class="txt" style="position:absolute; left:127px; top:69805px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public Observable(){};</span></div>
<div class="txt" style="position:absolute; left:127px; top:69839px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">protected synchronized void setChanged(){};</span></div>
<div class="txt" style="position:absolute; left:127px; top:69873px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">protected synchronized void clearChanged(){};</span></div>
<div class="txt" style="position:absolute; left:127px; top:69906px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public synchronized void addObserver(Observer o){};</span></div>
<div class="txt" style="position:absolute; left:127px; top:69940px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public synchronized void deleteObserver(Observer o) {};</span></div>
<div class="txt" style="position:absolute; left:127px; top:69973px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public synchronized void deleteObservers(){};</span></div>
<div class="txt" style="position:absolute; left:127px; top:70007px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public synchronized boolean hasChanged(){};</span></div>
<div class="txt" style="position:absolute; left:127px; top:70041px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public synchronized int countObservers(){};</span></div>
<div class="txt" style="position:absolute; left:127px; top:70074px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void notifyObservers(){};</span></div>
<div class="txt" style="position:absolute; left:127px; top:70108px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">public void notifyObservers(Object arg){};</span></div>
<div class="txt" style="position:absolute; left:65px; top:70141px;"><span id="f12" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:1052px; top:69751px;"><span id="f59" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">推送给观察者的信息。调用</span></div>
<div class="txt" style="position:absolute; left:1052px; top:69783px;"><span id="f57" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">Observable</span><span id="f59" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">实例的</span></div>
<div class="txt" style="position:absolute; left:1052px; top:69820px;"><span id="f57" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">notifyObservers(Object obj)</span></div>
<div class="txt" style="position:absolute; left:1052px; top:69850px;"><span id="f59" style="font-size:28px;vertical-align:baseline;color:rgba(0,0,0,1);">方法时传入。</span></div>
<img id="background" style="position:absolute; left:0px; top:70346px;" width="1440" height="1080" src="page59.png"> <img id="background" style="position:absolute; left:1440px; top:70346px;" width="1440" height="1080" src="page-000059.png">
<div class="txt" style="position:absolute; left:33px; top:70453px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Observer Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:70364px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:70593px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Models a 1-to-many dependency between objects</span></div>
<div class="txt" style="position:absolute; left:112px; top:70660px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Connects the state of an observed object, the subject with many observing</span></div>
<div class="txt" style="position:absolute; left:148px; top:70703px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">objects, the observers</span></div>
<div class="txt" style="position:absolute; left:76px; top:70769px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Usage:</span></div>
<div class="txt" style="position:absolute; left:112px; top:70835px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Maintaining consistency across redundant states</span></div>
<div class="txt" style="position:absolute; left:112px; top:70896px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Optimizing a batch of changes to maintain consistency</span></div>
<div class="txt" style="position:absolute; left:76px; top:70959px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Three variants for maintaining the consistency: </span><span id="f32" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">三种变体</span></div>
<div class="txt" style="position:absolute; left:112px; top:71028px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Push Notification</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: Every time the state of the subject changes, all the</span></div>
<div class="txt" style="position:absolute; left:148px; top:71068px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">observers are notified of the change </span><span id="f32" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">发生变化时推送通知</span></div>
<div class="txt" style="position:absolute; left:112px; top:71132px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Push-Update Notification</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: The subject also sends the state that has been</span></div>
<div class="txt" style="position:absolute; left:148px; top:71171px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">changed to the observers </span><span id="f32" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">发生变化时推送通知和数据</span></div>
<div class="txt" style="position:absolute; left:112px; top:71236px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(255,0,0,1);">Pull Notification</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">: An observer inquires about the state the of the subject</span></div>
<div class="txt" style="position:absolute; left:148px; top:71275px;"><span id="f32" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">拉取数据</span></div>
<div class="txt" style="position:absolute; left:76px; top:71345px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Also called Publish-subscribe.</span></div>
<img id="background" style="position:absolute; left:0px; top:71558px;" width="1440" height="1080" src="page60.png"> <img id="background" style="position:absolute; left:1440px; top:71558px;" width="1440" height="1080" src="page-000060.png">
<div class="txt" style="position:absolute; left:33px; top:71665px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Observer Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:71576px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:65px; top:71794px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Advantage:</span></div>
<div class="txt" style="position:absolute; left:101px; top:71860px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Low coupling between subject and observers: Subject unaware of</span></div>
<div class="txt" style="position:absolute; left:137px; top:71900px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">dependents </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">主体</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">被观察者</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">和观察者之间松耦合，主体不需要关注观察者</span></div>
<div class="txt" style="position:absolute; left:101px; top:71964px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Support for broadcasting: Dynamic addition and removal of observers</span></div>
<div class="txt" style="position:absolute; left:101px; top:72025px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Unexpected updates: No control by the subject on computations by</span></div>
<div class="txt" style="position:absolute; left:137px; top:72068px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">observers</span></div>
<div class="txt" style="position:absolute; left:65px; top:72133px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Implementation issues</span></div>
<div class="txt" style="position:absolute; left:101px; top:72196px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Storing list of observers: typically in subject </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">主体需要存储观察者列表</span></div>
<div class="txt" style="position:absolute; left:101px; top:72261px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Observing multiple subjects: typically add parameters to update()</span></div>
<div class="txt" style="position:absolute; left:101px; top:72317px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Who triggers update: state-setting operations of subject </span><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">触发机制</span></div>
<img id="background" style="position:absolute; left:0px; top:72770px;" width="1440" height="1080" src="page61.png"> <img id="background" style="position:absolute; left:1440px; top:72770px;" width="1440" height="1080" src="page-000061.png">
<div class="txt" style="position:absolute; left:1105px; top:72788px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:521px; top:73185px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(2) Mediator</span></div>
<img id="background" style="position:absolute; left:0px; top:73982px;" width="1440" height="1080" src="page62.png"> <img id="background" style="position:absolute; left:1440px; top:73982px;" width="1440" height="1080" src="page-000062.png">
<div class="txt" style="position:absolute; left:33px; top:74089px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Mediator Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:74000px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:74229px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">An airport control tower looks after the flights that can take off and</span></div>
<div class="txt" style="position:absolute; left:112px; top:74279px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">land - all communications are done from the airplane to control</span></div>
<div class="txt" style="position:absolute; left:112px; top:74327px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">tower, rather than having plane-to-plane communication.</span></div>
<div class="txt" style="position:absolute; left:76px; top:74397px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">This idea of a central controller is one of the key aspects to the</span></div>
<div class="txt" style="position:absolute; left:112px; top:74447px;"><span id="f24" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">mediator pattern</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:76px; top:74517px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f24" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Allows loose coupling by encapsulating the way disparate sets of</span></div>
<div class="txt" style="position:absolute; left:112px; top:74567px;"><span id="f24" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">objects interact and communicate with each other.</span></div>
<div class="txt" style="position:absolute; left:76px; top:74637px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f24" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Allows for the actions of each object set to vary independently of</span></div>
<div class="txt" style="position:absolute; left:112px; top:74687px;"><span id="f24" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">one another.</span></div>
<img id="background" style="position:absolute; left:0px; top:75194px;" width="1440" height="1080" src="page63.png"> <img id="background" style="position:absolute; left:1440px; top:75194px;" width="1440" height="1080" src="page-000063.png">
<div class="txt" style="position:absolute; left:33px; top:75301px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Mediator Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:75212px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:75441px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Mediator </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">defines the interface for communication</span></div>
<div class="txt" style="position:absolute; left:112px; top:75491px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">between </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Colleague </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">objects</span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">.</span></div>
<div class="txt" style="position:absolute; left:76px; top:75561px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">ConcreteMediator </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">implements the Mediator interface and</span></div>
<div class="txt" style="position:absolute; left:112px; top:75611px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">coordinates communication between </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Colleague </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">objects.</span></div>
<div class="txt" style="position:absolute; left:112px; top:75676px;"><span id="f28" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">It is aware of all the Colleagues and their purpose with regards to inter</span></div>
<div class="txt" style="position:absolute; left:148px; top:75719px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">communication.</span></div>
<div class="txt" style="position:absolute; left:76px; top:75785px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f14" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">ConcreteColleague </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">communicates with other colleagues</span></div>
<div class="txt" style="position:absolute; left:112px; top:75834px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">through the mediator.</span></div>
<div class="txt" style="position:absolute; left:76px; top:75905px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Without this pattern, all of the Colleagues would know about each</span></div>
<div class="txt" style="position:absolute; left:112px; top:75954px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">other, leading to high coupling.</span></div>
<div class="txt" style="position:absolute; left:76px; top:76025px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">By having all colleagues communicate through one central point we</span></div>
<div class="txt" style="position:absolute; left:112px; top:76074px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">have a decoupled system while maintaining control on the object's</span></div>
<div class="txt" style="position:absolute; left:112px; top:76122px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">interactions.</span></div>
<img id="background" style="position:absolute; left:0px; top:76406px;" width="1440" height="1080" src="page64.png"> <img id="background" style="position:absolute; left:1440px; top:76406px;" width="1440" height="1080" src="page-000064.png">
<div class="txt" style="position:absolute; left:33px; top:76513px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:76424px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:76653px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">//Mediator interface</span></div>
<div class="txt" style="position:absolute; left:76px; top:76691px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f14" style="font-size:12px;vertical-align:baseline;color:rgba(255,0,0,1);">interface Mediator </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:111px; top:76730px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public void send(String message, Colleague colleague);</span></div>
<div class="txt" style="position:absolute; left:111px; top:76768px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public void addColleague(Colleague colleague);</span></div>
<div class="txt" style="position:absolute; left:111px; top:76807px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public void removeColleague(Colleague colleague);</span></div>
<div class="txt" style="position:absolute; left:76px; top:76845px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:76px; top:76922px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">//Colleage interface</span></div>
<div class="txt" style="position:absolute; left:76px; top:76960px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f14" style="font-size:12px;vertical-align:baseline;color:rgba(255,0,0,1);">abstract class Colleague</span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:111px; top:76999px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">private </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,255,1);">Mediator mediator;</span></div>
<div class="txt" style="position:absolute; left:111px; top:77037px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public Colleague(Mediator m) {</span></div>
<div class="txt" style="position:absolute; left:146px; top:77076px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">mediator = m;</span></div>
<div class="txt" style="position:absolute; left:111px; top:77114px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:111px; top:77152px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">//send a message via the mediator</span></div>
<div class="txt" style="position:absolute; left:111px; top:77191px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public void send(String message) {</span></div>
<div class="txt" style="position:absolute; left:146px; top:77229px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,255,1);">mediator.send(message, this);</span></div>
<div class="txt" style="position:absolute; left:111px; top:77267px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:111px; top:77306px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">//get access to the mediator</span></div>
<div class="txt" style="position:absolute; left:111px; top:77344px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public Mediator getMediator() {return mediator;}</span></div>
<div class="txt" style="position:absolute; left:111px; top:77383px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public abstract void receive(String message);</span></div>
<div class="txt" style="position:absolute; left:76px; top:77421px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:77618px;" width="1440" height="1080" src="page65.png"> <img id="background" style="position:absolute; left:1440px; top:77618px;" width="1440" height="1080" src="page-000065.png">
<div class="txt" style="position:absolute; left:33px; top:77725px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:77636px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:53px; top:77854px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">// Concrete mediator implementation</span></div>
<div class="txt" style="position:absolute; left:53px; top:77892px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public class ConcreteMediator implements Mediator {</span></div>
<div class="txt" style="position:absolute; left:88px; top:77931px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">private </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,255,1);">ArrayList&lt;Colleague&gt; colleagues;</span></div>
<div class="txt" style="position:absolute; left:88px; top:77969px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public ApplicationMediator() {</span></div>
<div class="txt" style="position:absolute; left:123px; top:78007px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">colleagues = new ArrayList&lt;Colleague&gt;();</span></div>
<div class="txt" style="position:absolute; left:88px; top:78046px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:88px; top:78084px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">@override public void addColleague(Colleague colleague) {</span></div>
<div class="txt" style="position:absolute; left:123px; top:78123px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">colleagues.add(colleague);</span></div>
<div class="txt" style="position:absolute; left:88px; top:78161px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:88px; top:78199px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public void send(String message, Colleague originator) {</span></div>
<div class="txt" style="position:absolute; left:123px; top:78238px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">//let all other screens know that this screen has changed</span></div>
<div class="txt" style="position:absolute; left:123px; top:78276px;"><span id="f28" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,255,1);">for(Colleague colleague: colleagues) </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:159px; top:78315px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">//don't tell ourselves</span></div>
<div class="txt" style="position:absolute; left:159px; top:78353px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">if(colleague != originator) {</span></div>
<div class="txt" style="position:absolute; left:194px; top:78392px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">colleague.receive(message);</span></div>
<div class="txt" style="position:absolute; left:159px; top:78430px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:123px; top:78468px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:88px; top:78507px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:53px; top:78545px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:386px; top:78444px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">/p}p}</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">/</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(0,0,0,1);">u/</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">/</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">upCb</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(0,0,0,1);">}C</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">}pbluo</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">o</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">lubinSib</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">n</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">Slccyc</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">c</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">lyrisi</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">r</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">scectcc</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">e</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">tltel</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">t</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">eavem</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">e</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">avmso.os.isco</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">c</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">isoodu</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">o</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">dulCtC</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">l</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">tolr.</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">l</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">ro.enep</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">e</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">nepcacr</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">a</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">ccrgrei</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">g</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">erieein</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">e</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">einvttvttieel</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">i</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">eelCm(n</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">m</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">C(nopS(</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">p</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">oS(tll"</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">l</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">lt"lerC</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">e</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">rlCemio</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">m</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">eioenal</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">e</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">anlgngl</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">n</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">gglute</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">t</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">ueeama</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">a</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">emateg</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">t</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">egsieu</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">i</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">esuoxse</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">o</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">sxenat</span><span id="f11" style="font-size:14px;vertical-align:super;color:rgba(255,255,255,1);">n</span><span id="f11" style="font-size:14px;vertical-align:sub;color:rgba(255,255,255,1);">tageRgeRenenee)dcd)csese{i{iCvCvoeoeldldl:l:eea"a"ggu+u+eemm{e{essssaaggee));;</span></div>
<img id="background" style="position:absolute; left:0px; top:78830px;" width="1440" height="1080" src="page66.png"> <img id="background" style="position:absolute; left:1440px; top:78830px;" width="1440" height="1080" src="page-000066.png">
<div class="txt" style="position:absolute; left:33px; top:78937px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:78848px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:122px; top:79111px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public class Client {</span></div>
<div class="txt" style="position:absolute; left:157px; top:79188px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void main(String[] args) {</span></div>
<div class="txt" style="position:absolute; left:192px; top:79265px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Mediator mediator = new ConcreteMediator();</span></div>
<div class="txt" style="position:absolute; left:192px; top:79303px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Colleague desktop = new ConcreteColleague(mediator);</span></div>
<div class="txt" style="position:absolute; left:192px; top:79341px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Colleague mobile = new MobileColleague(mediator);</span></div>
<div class="txt" style="position:absolute; left:192px; top:79380px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">mediator.addColleague(desktop);</span></div>
<div class="txt" style="position:absolute; left:192px; top:79418px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">mediator.addColleague(mobile);</span></div>
<div class="txt" style="position:absolute; left:192px; top:79495px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">desktop.send("Hello World");</span></div>
<div class="txt" style="position:absolute; left:192px; top:79534px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">mobile.send("Hello");</span></div>
<div class="txt" style="position:absolute; left:157px; top:79572px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:122px; top:79610px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:122px; top:79687px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">The result:</span></div>
<div class="txt" style="position:absolute; left:122px; top:79726px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Colleague Received: Hello World</span></div>
<div class="txt" style="position:absolute; left:122px; top:79764px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Colleague Received: Hello</span></div>
<img id="background" style="position:absolute; left:0px; top:80042px;" width="1440" height="1080" src="page67.png"> <img id="background" style="position:absolute; left:1440px; top:80042px;" width="1440" height="1080" src="page-000067.png">
<div class="txt" style="position:absolute; left:872px; top:80060px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:33px; top:80149px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Mediator Pattern vs. Observer Pattern</span></div>
<div class="txt" style="position:absolute; left:76px; top:80289px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">They have some similarities and some clear differences.</span></div>
<div class="txt" style="position:absolute; left:76px; top:80358px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Similarities</span><span id="f16" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">：</span></div>
<div class="txt" style="position:absolute; left:112px; top:80428px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Both patterns facilitates the communication between objects</span></div>
<div class="txt" style="position:absolute; left:112px; top:80488px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Both decouples the link between the sender and the receiver.</span></div>
<div class="txt" style="position:absolute; left:76px; top:80554px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Differences</span></div>
<div class="txt" style="position:absolute; left:112px; top:80621px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">In mediator pattern, there is the notion of the participants and</span></div>
<div class="txt" style="position:absolute; left:148px; top:80660px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">they communicate with each other using the mediator as a central hub. </span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">中</span></div>
<div class="txt" style="position:absolute; left:148px; top:80703px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">介者模式中，参与者之间区分不明显（既可以是发送者，也可以是接收者</span><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span></div>
<div class="txt" style="position:absolute; left:148px; top:80747px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">，通过</span><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">mediator</span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">作为集中式的</span><span id="f34" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">hub</span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">进行通讯。</span></div>
<div class="txt" style="position:absolute; left:112px; top:80811px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">In observer pattern, there is a clear distinction between the sender and the</span></div>
<div class="txt" style="position:absolute; left:148px; top:80850px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">receiver, and the receiver merely listens to the changes in the sender. </span><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">观察</span></div>
<div class="txt" style="position:absolute; left:148px; top:80896px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">者模式中，信息的发送者和接收者划分明确，接收者主要接收发送者发送</span></div>
<div class="txt" style="position:absolute; left:148px; top:80937px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">的通知和数据。</span></div>
<img id="background" style="position:absolute; left:0px; top:81254px;" width="1440" height="1080" src="page68.png"> <img id="background" style="position:absolute; left:1440px; top:81254px;" width="1440" height="1080" src="page-000068.png">
<div class="txt" style="position:absolute; left:1105px; top:81272px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:561px; top:81669px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(3) Visitor</span></div>
<img id="background" style="position:absolute; left:0px; top:82466px;" width="1440" height="1080" src="page69.png"> <img id="background" style="position:absolute; left:1440px; top:82466px;" width="1440" height="1080" src="page-000069.png">
<div class="txt" style="position:absolute; left:33px; top:82573px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Visitor Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:82484px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:82713px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Visitor pattern: Allows for one or more operations to be applied to</span></div>
<div class="txt" style="position:absolute; left:112px; top:82763px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">a set of objects at runtime, decoupling the operations from the</span></div>
<div class="txt" style="position:absolute; left:112px; top:82806px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">object structure.</span><span id="f18" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">将数据结构与其上的处理分离</span></div>
<div class="txt" style="position:absolute; left:112px; top:82876px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">What the Visitor pattern actually does is to create an external class that</span></div>
<div class="txt" style="position:absolute; left:148px; top:82919px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">uses data in the other classes.</span></div>
<div class="txt" style="position:absolute; left:112px; top:82979px;"><span id="f20" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">If the logic of operation changes, then we need to make change only in the</span></div>
<div class="txt" style="position:absolute; left:148px; top:83023px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">visitor implementation rather than doing it in all the item classes.</span></div>
<div class="txt" style="position:absolute; left:148px; top:83077px;"><span id="f28" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">当操作逻辑发生变化时，只需要修改</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">visitor</span><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">的实现，而不需要修改类。</span></div>
<img id="background" style="position:absolute; left:0px; top:83678px;" width="1440" height="1080" src="page70.png"> <img id="background" style="position:absolute; left:1440px; top:83678px;" width="1440" height="1080" src="page-000070.png">
<div class="txt" style="position:absolute; left:33px; top:83785px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Visitor Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:83696px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<img id="background" style="position:absolute; left:0px; top:84890px;" width="1440" height="1080" src="page71.png"> <img id="background" style="position:absolute; left:1440px; top:84890px;" width="1440" height="1080" src="page-000071.png">
<div class="txt" style="position:absolute; left:33px; top:84997px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:84908px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:85149px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">/* Abstract element interface (</span><span id="f14" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,255,1);">visitable</span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">) */</span></div>
<div class="txt" style="position:absolute; left:76px; top:85187px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f14" style="font-size:12px;vertical-align:baseline;color:rgba(255,0,0,1);">interface ItemElement </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:129px; top:85225px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public int accept(ShoppingCartVisitor visitor);</span></div>
<div class="txt" style="position:absolute; left:76px; top:85264px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:76px; top:85341px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">/* Concrete element */</span></div>
<div class="txt" style="position:absolute; left:76px; top:85379px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(255,0,0,1);">class Book implements ItemElement{</span></div>
<div class="txt" style="position:absolute; left:111px; top:85417px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">private double price;</span></div>
<div class="txt" style="position:absolute; left:111px; top:85456px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public int accept(ShoppingCartVisitor visitor){</span></div>
<div class="txt" style="position:absolute; left:181px; top:85494px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">return </span><span id="f14" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,255,1);">visitor.visit(this);</span></div>
<div class="txt" style="position:absolute; left:111px; top:85533px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:111px; top:85571px;"><span id="f42" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">…</span></div>
<div class="txt" style="position:absolute; left:76px; top:85609px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:76px; top:85686px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(255,0,0,1);">class Fruit implements ItemElement{</span></div>
<div class="txt" style="position:absolute; left:111px; top:85725px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">private double weight;</span></div>
<div class="txt" style="position:absolute; left:111px; top:85763px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public void accept(ShoppingCartVisitor visitor){</span></div>
<div class="txt" style="position:absolute; left:181px; top:85801px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">return </span><span id="f14" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,255,1);">visitor.visit(this);</span></div>
<div class="txt" style="position:absolute; left:111px; top:85840px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:111px; top:85878px;"><span id="f42" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">…</span></div>
<div class="txt" style="position:absolute; left:76px; top:85917px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:86102px;" width="1440" height="1080" src="page72.png"> <img id="background" style="position:absolute; left:1440px; top:86102px;" width="1440" height="1080" src="page-000072.png">
<div class="txt" style="position:absolute; left:33px; top:86209px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:86120px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:53px; top:86349px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">/* Abstract visitor interface */</span></div>
<div class="txt" style="position:absolute; left:53px; top:86387px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(255,0,0,1);">interface ShoppingCartVisitor </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:106px; top:86426px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">int visit(Book book);</span></div>
<div class="txt" style="position:absolute; left:106px; top:86464px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">int visit(Fruit fruit);</span></div>
<div class="txt" style="position:absolute; left:53px; top:86503px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:53px; top:86541px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(255,0,0,1);">class ShoppingCartVisitorImpl implements ShoppingCartVisitor </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:106px; top:86579px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public int visit(Book book) {</span></div>
<div class="txt" style="position:absolute; left:141px; top:86618px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">int cost=0;</span></div>
<div class="txt" style="position:absolute; left:141px; top:86656px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">if(book.getPrice() &gt; 50){</span></div>
<div class="txt" style="position:absolute; left:197px; top:86695px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">cost = book.getPrice()-5;</span></div>
<div class="txt" style="position:absolute; left:141px; top:86733px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}else</span></div>
<div class="txt" style="position:absolute; left:197px; top:86772px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">cost = book.getPrice();</span></div>
<div class="txt" style="position:absolute; left:141px; top:86810px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Book ISBN::"+book.getIsbnNumber() + " cost ="+cost);</span></div>
<div class="txt" style="position:absolute; left:141px; top:86848px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">return cost;</span></div>
<div class="txt" style="position:absolute; left:106px; top:86887px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:106px; top:86925px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public int visit(Fruit fruit) {</span></div>
<div class="txt" style="position:absolute; left:141px; top:86963px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">int cost = fruit.getPricePerKg()*fruit.getWeight();</span></div>
<div class="txt" style="position:absolute; left:141px; top:87002px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println(fruit.getName() + " cost = "+cost);</span></div>
<div class="txt" style="position:absolute; left:141px; top:87040px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">return cost;</span></div>
<div class="txt" style="position:absolute; left:106px; top:87079px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:53px; top:87117px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:87314px;" width="1440" height="1080" src="page73.png"> <img id="background" style="position:absolute; left:1440px; top:87314px;" width="1440" height="1080" src="page-000073.png">
<div class="txt" style="position:absolute; left:33px; top:87421px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:87332px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:79px; top:87573px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public class ShoppingCartClient {</span></div>
<div class="txt" style="position:absolute; left:149px; top:87649px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">private static int calculatePrice(ItemElement[] items) {</span></div>
<div class="txt" style="position:absolute; left:223px; top:87688px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(255,0,0,1);">ShoppingCartVisitor </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">visitor = new ShoppingCartVisitorImpl();</span></div>
<div class="txt" style="position:absolute; left:223px; top:87726px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">int sum=0;</span></div>
<div class="txt" style="position:absolute; left:223px; top:87765px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">for(ItemElement item : items)</span></div>
<div class="txt" style="position:absolute; left:276px; top:87803px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">sum = sum + </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(255,0,0,1);">item.accept(visitor);</span></div>
<div class="txt" style="position:absolute; left:223px; top:87841px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">return sum;</span></div>
<div class="txt" style="position:absolute; left:149px; top:87880px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:149px; top:87957px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void main(String[] args) {</span></div>
<div class="txt" style="position:absolute; left:219px; top:88033px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">ItemElement[] items = new ItemElement[]{</span></div>
<div class="txt" style="position:absolute; left:342px; top:88072px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">new Book(20, "1234"),new Book(100, "5678"),</span></div>
<div class="txt" style="position:absolute; left:346px; top:88110px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">new Fruit(10, 2, "Banana"), new Fruit(5, 5, "Apple")};</span></div>
<div class="txt" style="position:absolute; left:219px; top:88187px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">int total = calculatePrice(items);</span></div>
<div class="txt" style="position:absolute; left:219px; top:88225px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Total Cost = "+total);</span></div>
<div class="txt" style="position:absolute; left:149px; top:88264px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:79px; top:88302px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:88526px;" width="1440" height="1080" src="page74.png"> <img id="background" style="position:absolute; left:1440px; top:88526px;" width="1440" height="1080" src="page-000074.png">
<div class="txt" style="position:absolute; left:1105px; top:88544px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:295px; top:88941px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(4) Chain of Responsibility</span></div>
<img id="background" style="position:absolute; left:0px; top:89738px;" width="1440" height="1080" src="page75.png"> <img id="background" style="position:absolute; left:1440px; top:89738px;" width="1440" height="1080" src="page-000075.png">
<div class="txt" style="position:absolute; left:33px; top:89845px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Chain of Responsibility</span></div>
<div class="txt" style="position:absolute; left:872px; top:89756px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:56px; top:89974px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The chain of responsibility pattern </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">allows you to pass a request to</span></div>
<div class="txt" style="position:absolute; left:92px; top:90022px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">from an object to the next until the request is fulfilled. </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">在多个对象间逐一</span></div>
<div class="txt" style="position:absolute; left:92px; top:90070px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">传递请求，直到有能够处理的对象执行。</span></div>
<div class="txt" style="position:absolute; left:56px; top:90142px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Intent</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">:</span></div>
<div class="txt" style="position:absolute; left:92px; top:90208px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Avoid coupling the sender of a request to its receiver by giving more than</span></div>
<div class="txt" style="position:absolute; left:128px; top:90252px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">one object a chance to handle the request. Chain the receiving objects and</span></div>
<div class="txt" style="position:absolute; left:128px; top:90295px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">pass the request along the chain until an object handles it.</span></div>
<div class="txt" style="position:absolute; left:92px; top:90351px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">E.g., you can pass a mortgage(</span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">贷款</span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">) application request to a bank manager,</span></div>
<div class="txt" style="position:absolute; left:128px; top:90399px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">and if the manager cannot approve the loan, it can be passed to his</span></div>
<div class="txt" style="position:absolute; left:128px; top:90442px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">supervisor and so on.</span></div>
<div class="txt" style="position:absolute; left:56px; top:90507px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Applicability:</span></div>
<div class="txt" style="position:absolute; left:92px; top:90574px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">More than one object may handle a request, and the handler isn't known a</span></div>
<div class="txt" style="position:absolute; left:128px; top:90618px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">priori. The handler should be ascertained automatically.</span></div>
<div class="txt" style="position:absolute; left:92px; top:90678px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">You want to issue a request to one of several objects without specifying the</span></div>
<div class="txt" style="position:absolute; left:128px; top:90721px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">receiver explicitly.</span></div>
<div class="txt" style="position:absolute; left:92px; top:90782px;"><span id="f26" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The set of objects that can handle a request should be specified dynamically.</span></div>
<img id="background" style="position:absolute; left:0px; top:90950px;" width="1440" height="1080" src="page76.png"> <img id="background" style="position:absolute; left:1440px; top:90950px;" width="1440" height="1080" src="page-000076.png">
<div class="txt" style="position:absolute; left:33px; top:91057px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Chain of Responsibility</span></div>
<div class="txt" style="position:absolute; left:872px; top:90968px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:91197px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f14" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">Handler class </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is the parent abstract class for all the objects that can</span></div>
<div class="txt" style="position:absolute; left:112px; top:91247px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">handle requests:</span></div>
<div class="txt" style="position:absolute; left:112px; top:91311px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f14" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,0,1);">nextHandler </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">variable is a reference that points to the next handler. If the</span></div>
<div class="txt" style="position:absolute; left:148px; top:91355px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">request cannot be processed by the object it will be passed to the</span></div>
<div class="txt" style="position:absolute; left:148px; top:91398px;"><span id="f14" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,0,1);">nextHandler </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">for processing.</span></div>
<div class="txt" style="position:absolute; left:76px; top:91463px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f14" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">ConcreteHandler </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">are the concrete child classes that handles the</span></div>
<div class="txt" style="position:absolute; left:112px; top:91514px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">requests.</span></div>
<div class="txt" style="position:absolute; left:112px; top:91581px;"><span id="f11" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">In its </span><span id="f14" style="font-size:33px;vertical-align:baseline;color:rgba(0,0,0,1);">handelRequest </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">method it checks to see if it can process the request, if</span></div>
<div class="txt" style="position:absolute; left:148px; top:91626px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">yes it will process the request and return, if not the request will be passed to</span></div>
<div class="txt" style="position:absolute; left:148px; top:91669px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">the next handler. This logic is repeated until the request is fulfilled.</span></div>
<img id="background" style="position:absolute; left:0px; top:92162px;" width="1440" height="1080" src="page77.png"> <img id="background" style="position:absolute; left:1440px; top:92162px;" width="1440" height="1080" src="page-000077.png">
<div class="txt" style="position:absolute; left:33px; top:92269px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:92180px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:92409px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Let's apply the pattern to an example. In a bank where the approval</span></div>
<div class="txt" style="position:absolute; left:112px; top:92459px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">route for mortgage applications are from the bank manager to the</span></div>
<div class="txt" style="position:absolute; left:112px; top:92507px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">director then to the vice president, where the approval limits are:</span></div>
<div class="txt" style="position:absolute; left:112px; top:92572px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Manager </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">0 to 100k</span></div>
<div class="txt" style="position:absolute; left:112px; top:92632px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Director </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">100k to 250k</span></div>
<div class="txt" style="position:absolute; left:112px; top:92693px;"><span id="f16" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Vice President </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">anything above 250k</span></div>
<div class="txt" style="position:absolute; left:82px; top:92795px;"><span id="f30" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f32" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,255,1);">abstract class LoanApprover</span><span id="f30" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:152px; top:92833px;"><span id="f30" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">protected LoanApprover nextApprover;</span></div>
<div class="txt" style="position:absolute; left:152px; top:92872px;"><span id="f30" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public void setNextApprover(LoanApprover nextApprover){</span></div>
<div class="txt" style="position:absolute; left:240px; top:92910px;"><span id="f30" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">this.nextApprover = nextApprover;</span></div>
<div class="txt" style="position:absolute; left:152px; top:92949px;"><span id="f30" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:152px; top:92987px;"><span id="f30" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public abstract void approveLoan(Loan i);</span></div>
<div class="txt" style="position:absolute; left:82px; top:93025px;"><span id="f30" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:93374px;" width="1440" height="1080" src="page78.png"> <img id="background" style="position:absolute; left:1440px; top:93374px;" width="1440" height="1080" src="page-000078.png">
<div class="txt" style="position:absolute; left:33px; top:93481px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:93392px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:72px; top:93600px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public class </span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,255,1);">Director extends LoanApprover </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:142px; top:93638px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public void approveLoan(Loan i) {</span></div>
<div class="txt" style="position:absolute; left:213px; top:93676px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">if (i.getAmount() &lt;= 250000)</span></div>
<div class="txt" style="position:absolute; left:287px; top:93715px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Loan amount of " + i.getAmount() +</span></div>
<div class="txt" style="position:absolute; left:615px; top:93753px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">" approved by the Director");</span></div>
<div class="txt" style="position:absolute; left:216px; top:93792px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">else</span></div>
<div class="txt" style="position:absolute; left:287px; top:93830px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">nextApprover.approveLoan(Loan i);</span></div>
<div class="txt" style="position:absolute; left:216px; top:93868px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:72px; top:93907px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:72px; top:93985px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public class </span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,255,1);">Manager extends LoanApprover </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:142px; top:94024px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public void approveLoan(Loan i){</span></div>
<div class="txt" style="position:absolute; left:213px; top:94062px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">//similar code to Director</span></div>
<div class="txt" style="position:absolute; left:142px; top:94101px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:72px; top:94139px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:71px; top:94219px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public class </span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,255,1);">VicePresident extends LoanApprover </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:141px; top:94257px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public void approveLoan(Loan i){</span></div>
<div class="txt" style="position:absolute; left:246px; top:94295px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Loan amount of " + i.getAmount() + "</span></div>
<div class="txt" style="position:absolute; left:596px; top:94334px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">approved by the Vice President");</span></div>
<div class="txt" style="position:absolute; left:141px; top:94372px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:71px; top:94411px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:94586px;" width="1440" height="1080" src="page79.png"> <img id="background" style="position:absolute; left:1440px; top:94586px;" width="1440" height="1080" src="page-000079.png">
<div class="txt" style="position:absolute; left:33px; top:94693px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:94604px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:74px; top:94812px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void main(String[] args) {</span></div>
<div class="txt" style="position:absolute; left:145px; top:94850px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">LoanApprover a = new Manager();</span></div>
<div class="txt" style="position:absolute; left:145px; top:94888px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">LoanApprover b = new Director();</span></div>
<div class="txt" style="position:absolute; left:145px; top:94927px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">LoanApprover c = new VicePresident();</span></div>
<div class="txt" style="position:absolute; left:145px; top:94965px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">a.setNextApprover(b);</span></div>
<div class="txt" style="position:absolute; left:145px; top:95004px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">b.setNextApprover(c);</span></div>
<div class="txt" style="position:absolute; left:145px; top:95042px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">a.approveLoan(new Loan(50000)); //approved by the manager</span></div>
<div class="txt" style="position:absolute; left:145px; top:95080px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">a.approveLoan(new Loan(200000)); //approved by the director</span></div>
<div class="txt" style="position:absolute; left:145px; top:95119px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">a.approveLoan(new Loan(500000)); //approved by the vice president</span></div>
<div class="txt" style="position:absolute; left:74px; top:95157px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:74px; top:95234px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">The result:</span></div>
<div class="txt" style="position:absolute; left:74px; top:95272px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Loan amount of 50000 approved by the Manager</span></div>
<div class="txt" style="position:absolute; left:74px; top:95311px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Loan amount of 200000 approved by the Director</span></div>
<div class="txt" style="position:absolute; left:74px; top:95349px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Loan amount of 500000 approved by the Vice President</span></div>
<img id="background" style="position:absolute; left:0px; top:95798px;" width="1440" height="1080" src="page80.png"> <img id="background" style="position:absolute; left:1440px; top:95798px;" width="1440" height="1080" src="page-000080.png">
<div class="txt" style="position:absolute; left:1105px; top:95816px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:499px; top:96213px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">(5) Command</span></div>
<img id="background" style="position:absolute; left:0px; top:97010px;" width="1440" height="1080" src="page81.png"> <img id="background" style="position:absolute; left:1440px; top:97010px;" width="1440" height="1080" src="page-000081.png">
<div class="txt" style="position:absolute; left:33px; top:97117px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Command Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:97028px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:97257px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Intent</span></div>
<div class="txt" style="position:absolute; left:112px; top:97324px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Encapsulate a request as an object, thereby letting you parameterize clients</span></div>
<div class="txt" style="position:absolute; left:148px; top:97367px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">with different requests, queue or log requests, and support undoable</span></div>
<div class="txt" style="position:absolute; left:148px; top:97406px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">operations. </span><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">将请求封装为对象，进而可用不同的请求对客户端进行参数化处</span></div>
<div class="txt" style="position:absolute; left:148px; top:97450px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">理，对请求进行排队、记录请求日志、支持可撤销的操作。</span></div>
<div class="txt" style="position:absolute; left:99px; top:97540px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Motivation</span></div>
<div class="txt" style="position:absolute; left:135px; top:97607px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Sometimes it's necessary to issue requests to objects</span></div>
<div class="txt" style="position:absolute; left:171px; top:97650px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">without knowing anything about the operation being</span></div>
<div class="txt" style="position:absolute; left:171px; top:97694px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">requested or the receiver of the request.</span></div>
<div class="txt" style="position:absolute; left:135px; top:97753px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">有时必须向某对象提交请求，但并不知道关于被请求的操作</span></div>
<div class="txt" style="position:absolute; left:135px; top:97794px;"><span id="f21" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">或请求的接受者的任何信息。</span></div>
<img id="background" style="position:absolute; left:0px; top:98222px;" width="1440" height="1080" src="page82.png"> <img id="background" style="position:absolute; left:1440px; top:98222px;" width="1440" height="1080" src="page-000082.png">
<div class="txt" style="position:absolute; left:33px; top:98329px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Command Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:98240px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:98469px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Motivation</span></div>
<div class="txt" style="position:absolute; left:112px; top:98536px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">For example, user interface toolkits include objects like buttons and menus</span></div>
<div class="txt" style="position:absolute; left:148px; top:98579px;"><span id="f18" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">that carry out a request in response to user input. But the toolkit can‘t</span></div>
<div class="txt" style="position:absolute; left:148px; top:98622px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">implement the request explicitly in the button or menu, because only</span></div>
<div class="txt" style="position:absolute; left:148px; top:98665px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">applications that use the toolkit know what should be done on which object.</span></div>
<div class="txt" style="position:absolute; left:148px; top:98709px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">As toolkit designers we have no way of knowing the receiver of the request</span></div>
<div class="txt" style="position:absolute; left:148px; top:98748px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">or the operations that will carry it out.</span><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">工具箱的设计者无法知道请求的接受</span></div>
<div class="txt" style="position:absolute; left:148px; top:98791px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">者或执行的操作 ，只有使用工具箱的应用知道该由哪个对象做哪个操作。</span></div>
<div class="txt" style="position:absolute; left:112px; top:98855px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">The Command pattern lets toolkit objects make requests of unspecified</span></div>
<div class="txt" style="position:absolute; left:148px; top:98899px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">application objects by turning the request itself into an object. This object</span></div>
<div class="txt" style="position:absolute; left:148px; top:98942px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">can be stored and passed around like other objects.</span></div>
<div class="txt" style="position:absolute; left:112px; top:99001px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">命令模式通过将请求本身变成一个对象来使工具箱对象可向未指定的应用对</span></div>
<div class="txt" style="position:absolute; left:148px; top:99042px;"><span id="f25" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">象提出请求。这个对象可被存储并像其他的对象一样被传递。</span></div>
<img id="background" style="position:absolute; left:0px; top:99434px;" width="1440" height="1080" src="page83.png"> <img id="background" style="position:absolute; left:1440px; top:99434px;" width="1440" height="1080" src="page-000083.png">
<div class="txt" style="position:absolute; left:33px; top:99541px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Command Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:99452px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:99681px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f14" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">Command </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">interface defines the methods that all </span><span id="f14" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">ConcreteCommand</span></div>
<div class="txt" style="position:absolute; left:112px; top:99731px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">classes must implement.</span></div>
<div class="txt" style="position:absolute; left:76px; top:99801px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f14" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">ConcreteCommand </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">class stores the details of the actions that need</span></div>
<div class="txt" style="position:absolute; left:112px; top:99846px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to be performed. </span><span id="f25" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">保存需要执行的命令</span></div>
<div class="txt" style="position:absolute; left:76px; top:99918px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f14" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">Receiver </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">class performs the action when called upon. </span><span id="f25" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">被调用时，执</span></div>
<div class="txt" style="position:absolute; left:112px; top:99966px;"><span id="f25" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">行命令</span><span id="f36" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f25" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">具体操作</span><span id="f36" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span></div>
<div class="txt" style="position:absolute; left:76px; top:100041px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f14" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">Invoker </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">class stores the list of commands and can ask</span></div>
<div class="txt" style="position:absolute; left:112px; top:100086px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the </span><span id="f14" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">Command </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to execute. </span><span id="f36" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">Invoker </span><span id="f25" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">存储命令，启动命令执行</span></div>
<div class="txt" style="position:absolute; left:76px; top:100161px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The </span><span id="f14" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">Client </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">class uses the </span><span id="f14" style="font-size:37px;vertical-align:baseline;color:rgba(255,0,0,1);">Invoker </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to run the commands.</span></div>
<img id="background" style="position:absolute; left:0px; top:100646px;" width="1440" height="1080" src="page84.png"> <img id="background" style="position:absolute; left:1440px; top:100646px;" width="1440" height="1080" src="page-000084.png">
<div class="txt" style="position:absolute; left:33px; top:100753px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Command Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:100664px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:100893px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">The client code (calling code) will used the Invoker to run the</span></div>
<div class="txt" style="position:absolute; left:112px; top:100942px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">commands, where the </span><span id="f15" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">Command </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">objects will call the </span><span id="f15" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">Receiver </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">to perform</span></div>
<div class="txt" style="position:absolute; left:112px; top:100991px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">the action. The benefit is that the client code does not need to know what</span></div>
<div class="txt" style="position:absolute; left:112px; top:101038px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">is stored in the </span><span id="f15" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">Command </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">objects nor the actions that will be performed</span></div>
<div class="txt" style="position:absolute; left:112px; top:101086px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">by the </span><span id="f15" style="font-size:37px;vertical-align:baseline;color:rgba(0,0,0,1);">Receiver</span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">, and this is the key of the Command Design Pattern.</span></div>
<div class="txt" style="position:absolute; left:112px; top:101130px;"><span id="f28" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">Client </span><span id="f31" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">通过</span><span id="f28" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">Invoker</span><span id="f31" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">执行</span><span id="f28" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">Command</span><span id="f31" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">，</span><span id="f28" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">Command</span><span id="f31" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">通过调用</span><span id="f28" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">Receiver</span><span id="f31" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">执行动</span></div>
<div class="txt" style="position:absolute; left:112px; top:101178px;"><span id="f31" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,255,1);">作。优点是客户端不需要知道所存储命令对象和操作的细节。</span></div>
<img id="background" style="position:absolute; left:0px; top:101858px;" width="1440" height="1080" src="page85.png"> <img id="background" style="position:absolute; left:1440px; top:101858px;" width="1440" height="1080" src="page-000085.png">
<div class="txt" style="position:absolute; left:33px; top:101965px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:101876px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:68px; top:102113px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">In our example we need to store some undo actions when the user is</span></div>
<div class="txt" style="position:absolute; left:104px; top:102162px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">using the application, and when the user decides to perform the undo</span></div>
<div class="txt" style="position:absolute; left:104px; top:102210px;"><span id="f8" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">we can just use the invoker to run the commands.</span></div>
<img id="background" style="position:absolute; left:0px; top:103070px;" width="1440" height="1080" src="page86.png"> <img id="background" style="position:absolute; left:1440px; top:103070px;" width="1440" height="1080" src="page-000086.png">
<div class="txt" style="position:absolute; left:33px; top:103177px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:103088px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:62px; top:103325px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,255,1);">interface Command </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:132px; top:103363px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">void execute();</span></div>
<div class="txt" style="position:absolute; left:62px; top:103402px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:62px; top:103478px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,255,1);">class UndoCommand implements Command </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:132px; top:103555px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">private int location;</span></div>
<div class="txt" style="position:absolute; left:132px; top:103632px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public UndoCommand(int originalLocation) {</span></div>
<div class="txt" style="position:absolute; left:202px; top:103670px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">location = originalLocation;</span></div>
<div class="txt" style="position:absolute; left:132px; top:103709px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:132px; top:103786px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public int getLocation() {</span></div>
<div class="txt" style="position:absolute; left:202px; top:103824px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">return location;</span></div>
<div class="txt" style="position:absolute; left:132px; top:103863px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:132px; top:103939px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public void </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,255,1);">execute(){</span></div>
<div class="txt" style="position:absolute; left:206px; top:103978px;"><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,255,1);">new UndoPerformer().undo(this); // or given by client</span></div>
<div class="txt" style="position:absolute; left:132px; top:104016px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:62px; top:104054px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:104282px;" width="1440" height="1080" src="page87.png"> <img id="background" style="position:absolute; left:1440px; top:104282px;" width="1440" height="1080" src="page-000087.png">
<div class="txt" style="position:absolute; left:33px; top:104389px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:104300px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:68px; top:104537px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,255,1);">class UndoPerformer </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:139px; top:104575px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public void undo(Command c) {</span></div>
<div class="txt" style="position:absolute; left:209px; top:104614px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">if (c.getClass() == UndoCommand.class) {</span></div>
<div class="txt" style="position:absolute; left:283px; top:104652px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">int originalLocation = ((UndoCommand) c).getLocation();</span></div>
<div class="txt" style="position:absolute; left:283px; top:104690px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">System.out.println("Moving back to position: " +</span></div>
<div class="txt" style="position:absolute; left:611px; top:104729px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">originalLocation);</span></div>
<div class="txt" style="position:absolute; left:212px; top:104767px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:139px; top:104806px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:68px; top:104844px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:68px; top:104921px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public </span><span id="f13" style="font-size:12px;vertical-align:baseline;color:rgba(0,0,255,1);">class Invoker </span><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">{</span></div>
<div class="txt" style="position:absolute; left:139px; top:104959px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">private Stack&lt;Command&gt; commandList = new Stack&lt;Command&gt;();</span></div>
<div class="txt" style="position:absolute; left:139px; top:104998px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public void runCommand() {</span></div>
<div class="txt" style="position:absolute; left:209px; top:105036px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">while (!commandList.isEmpty())</span></div>
<div class="txt" style="position:absolute; left:283px; top:105075px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">commandList.pop().execute();</span></div>
<div class="txt" style="position:absolute; left:139px; top:105113px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:139px; top:105190px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public void addCommand(Command c) {</span></div>
<div class="txt" style="position:absolute; left:209px; top:105228px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">commandList.push(c);</span></div>
<div class="txt" style="position:absolute; left:139px; top:105266px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:68px; top:105305px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<img id="background" style="position:absolute; left:0px; top:105494px;" width="1440" height="1080" src="page88.png"> <img id="background" style="position:absolute; left:1440px; top:105494px;" width="1440" height="1080" src="page-000088.png">
<div class="txt" style="position:absolute; left:33px; top:105601px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Example</span></div>
<div class="txt" style="position:absolute; left:872px; top:105512px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:68px; top:105749px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public class Client {</span></div>
<div class="txt" style="position:absolute; left:139px; top:105787px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">public static void main(String[] args) {</span></div>
<div class="txt" style="position:absolute; left:209px; top:105826px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Invoker i = new Invoker();</span></div>
<div class="txt" style="position:absolute; left:212px; top:105902px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">// save undo to position 100</span></div>
<div class="txt" style="position:absolute; left:212px; top:105941px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Command a = new UndoCommand(100);</span></div>
<div class="txt" style="position:absolute; left:212px; top:105979px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">i.addCommand(a);</span></div>
<div class="txt" style="position:absolute; left:212px; top:106056px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">// save undo to position 200</span></div>
<div class="txt" style="position:absolute; left:212px; top:106094px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Command b = new UndoCommand(200);</span></div>
<div class="txt" style="position:absolute; left:212px; top:106133px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">i.addCommand(b);</span></div>
<div class="txt" style="position:absolute; left:226px; top:106210px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">// perform the undo</span></div>
<div class="txt" style="position:absolute; left:212px; top:106248px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">i.runCommand(); // the client does not need to know about the</span></div>
<div class="txt" style="position:absolute; left:541px; top:106287px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">details of the undo</span></div>
<div class="txt" style="position:absolute; left:212px; top:106325px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:68px; top:106363px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">}</span></div>
<div class="txt" style="position:absolute; left:68px; top:106402px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">//The result:</span></div>
<div class="txt" style="position:absolute; left:68px; top:106440px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Moving back to position: 200</span></div>
<div class="txt" style="position:absolute; left:68px; top:106478px;"><span id="f11" style="font-size:14px;vertical-align:baseline;color:rgba(0,0,0,1);">Moving back to position: 100</span></div>
<img id="background" style="position:absolute; left:0px; top:106706px;" width="1440" height="1080" src="page89.png"> <img id="background" style="position:absolute; left:1440px; top:106706px;" width="1440" height="1080" src="page-000089.png">
<div class="txt" style="position:absolute; left:33px; top:106813px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Command Pattern</span></div>
<div class="txt" style="position:absolute; left:872px; top:106724px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:106953px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Applicability</span></div>
<div class="txt" style="position:absolute; left:112px; top:107016px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Parameterize objects by an action to perform. E.g., callback function. </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">抽象出</span></div>
<div class="txt" style="position:absolute; left:148px; top:107059px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">待执行的动作以参数化某对象。如实现回调函数</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">(</span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">函数先在某处注册，在稍后</span></div>
<div class="txt" style="position:absolute; left:148px; top:107102px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">某个需要的时候被调用</span><span id="f13" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">)</span></div>
<div class="txt" style="position:absolute; left:112px; top:107163px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Specify, queue, and execute requests at different times. </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">在不同的时刻指定、</span></div>
<div class="txt" style="position:absolute; left:148px; top:107206px;"><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">排列和执行请求</span></div>
<div class="txt" style="position:absolute; left:112px; top:107270px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f38" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Support undo. The Command‘s Execute operation can store state for</span></div>
<div class="txt" style="position:absolute; left:148px; top:107309px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">reversing its effects in the command itself </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">支持撤销操作</span></div>
<div class="txt" style="position:absolute; left:112px; top:107374px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Support logging changes so that they can be reapplied in case of a system</span></div>
<div class="txt" style="position:absolute; left:148px; top:107413px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">crash. </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">支持日志中的操作重新执行</span></div>
<div class="txt" style="position:absolute; left:112px; top:107478px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Structure a system around high-level operations built on primitives</span></div>
<div class="txt" style="position:absolute; left:148px; top:107517px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">operations. </span><span id="f19" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,255,1);">用构建在原语操作上的高层操作构造一个系统，如事务机制。</span></div>
<img id="background" style="position:absolute; left:0px; top:107918px;" width="1440" height="1080" src="page90.png"> <img id="background" style="position:absolute; left:1440px; top:107918px;" width="1440" height="1080" src="page-000090.png">
<div class="txt" style="position:absolute; left:1105px; top:107936px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:129px; top:108160px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">High-level Considerations on Design</span></div>
<div class="txt" style="position:absolute; left:275px; top:108247px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Patterns for Reusability and</span></div>
<div class="txt" style="position:absolute; left:474px; top:108333px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Maintainability</span></div>
<img id="background" style="position:absolute; left:0px; top:109130px;" width="1440" height="1080" src="page91.png"> <img id="background" style="position:absolute; left:1440px; top:109130px;" width="1440" height="1080" src="page-000091.png">
<div class="txt" style="position:absolute; left:872px; top:109148px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:33px; top:109237px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Clues for use of Design Patterns (1)</span></div>
<div class="txt" style="position:absolute; left:76px; top:109377px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Text: “manufacturer independent”, “device independent”, “must</span></div>
<div class="txt" style="position:absolute; left:112px; top:109427px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">support a family of products”</span></div>
<div class="txt" style="position:absolute; left:112px; top:109492px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">=&gt; Abstract Factory Pattern</span></div>
<div class="txt" style="position:absolute; left:76px; top:109557px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Text: “must interface with an existing object”</span></div>
<div class="txt" style="position:absolute; left:112px; top:109624px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">=&gt; Adapter Pattern</span></div>
<div class="txt" style="position:absolute; left:76px; top:109690px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Text: “must interface to several systems, some of them to be</span></div>
<div class="txt" style="position:absolute; left:112px; top:109740px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">developed in the future”, “an early prototype must be</span></div>
<div class="txt" style="position:absolute; left:112px; top:109788px;"><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">demonstrated”</span></div>
<div class="txt" style="position:absolute; left:112px; top:109853px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">=&gt;Bridge Pattern</span></div>
<div class="txt" style="position:absolute; left:76px; top:109918px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Text: “must interface to existing set of objects”</span></div>
<div class="txt" style="position:absolute; left:112px; top:109985px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">=&gt; Façade Pattern</span></div>
<img id="background" style="position:absolute; left:0px; top:110342px;" width="1440" height="1080" src="page92.png"> <img id="background" style="position:absolute; left:1440px; top:110342px;" width="1440" height="1080" src="page-000092.png">
<div class="txt" style="position:absolute; left:872px; top:110360px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:33px; top:110449px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Clues for use of Design Patterns (2)</span></div>
<div class="txt" style="position:absolute; left:76px; top:110589px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Text: “complex structure”, “must have variable depth and width”</span></div>
<div class="txt" style="position:absolute; left:112px; top:110656px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">=&gt; Composite Pattern</span></div>
<div class="txt" style="position:absolute; left:76px; top:110721px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Text: “must be location transparent”</span></div>
<div class="txt" style="position:absolute; left:112px; top:110788px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">=&gt; Proxy Pattern</span></div>
<div class="txt" style="position:absolute; left:76px; top:110854px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Text: “must be extensible”, “must be scalable”</span></div>
<div class="txt" style="position:absolute; left:112px; top:110921px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">=&gt; Observer Pattern</span></div>
<div class="txt" style="position:absolute; left:76px; top:110986px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Text: “must provide a policy independent from the mechanism”</span></div>
<div class="txt" style="position:absolute; left:112px; top:111053px;"><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">=&gt; Strategy Pattern</span></div>
<img id="background" style="position:absolute; left:0px; top:111554px;" width="1440" height="1080" src="page93.png"> <img id="background" style="position:absolute; left:1440px; top:111554px;" width="1440" height="1080" src="page-000093.png">
<div class="txt" style="position:absolute; left:33px; top:111661px;"><span id="f8" style="font-size:60px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary</span></div>
<div class="txt" style="position:absolute; left:872px; top:111572px;"><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">6.2 Design Patterns for Maintainability</span></div>
<div class="txt" style="position:absolute; left:76px; top:111801px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Composite, Adapter, Bridge, Façade, Proxy (Structural Patterns)</span></div>
<div class="txt" style="position:absolute; left:112px; top:111868px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Focus: Composing objects to form larger structures</span></div>
<div class="txt" style="position:absolute; left:148px; top:111924px;"><span id="f18" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Realize new functionality from old functionality,</span></div>
<div class="txt" style="position:absolute; left:148px; top:111971px;"><span id="f18" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Provide flexibility and extensibility</span></div>
<div class="txt" style="position:absolute; left:76px; top:112025px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Command, Observer, Strategy, Template (Behavioral Patterns)</span></div>
<div class="txt" style="position:absolute; left:112px; top:112092px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Focus: Algorithms and assignment of responsibilities to objects</span></div>
<div class="txt" style="position:absolute; left:148px; top:112149px;"><span id="f18" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Avoid tight coupling to a particular solution</span></div>
<div class="txt" style="position:absolute; left:76px; top:112204px;"><span id="f11" style="font-size:40px;vertical-align:baseline;color:rgba(255,130,44,1);">▪ </span><span id="f13" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">Abstract Factory, Builder (Creational Patterns)</span></div>
<div class="txt" style="position:absolute; left:112px; top:112271px;"><span id="f15" style="font-size:36px;vertical-align:baseline;color:rgba(255,130,44,1);">– </span><span id="f8" style="font-size:36px;vertical-align:baseline;color:rgba(0,0,0,1);">Focus: Creation of complex objects</span></div>
<div class="txt" style="position:absolute; left:148px; top:112328px;"><span id="f18" style="font-size:31px;vertical-align:baseline;color:rgba(255,130,44,1);">• </span><span id="f8" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Hide how complex objects are created and put together</span></div>
<img id="background" style="position:absolute; left:0px; top:112766px;" width="1440" height="1080" src="page94.png"> <img id="background" style="position:absolute; left:1440px; top:112766px;" width="1440" height="1080" src="page-000094.png">
<div class="txt" style="position:absolute; left:1105px; top:112784px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:563px; top:113181px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">Summary</span></div>
<img id="background" style="position:absolute; left:0px; top:113978px;" width="1440" height="1080" src="page95.png"> <img id="background" style="position:absolute; left:1440px; top:113978px;" width="1440" height="1080" src="page-000095.png">
<div class="txt" style="position:absolute; left:1105px; top:113996px;"><span id="f9" style="font-size:31px;vertical-align:baseline;color:rgba(0,0,0,1);">Software Construction</span></div>
<div class="txt" style="position:absolute; left:590px; top:114393px;"><span id="f9" style="font-size:72px;vertical-align:baseline;color:rgba(0,0,0,1);">The end</span></div>
<div class="txt" style="position:absolute; left:597px; top:114647px;"><span id="f9" style="font-size:40px;vertical-align:baseline;color:rgba(0,0,0,1);">April 17, 2019</span></div>
</body></html>